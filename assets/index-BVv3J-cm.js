(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function cC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rm={exports:{}},Ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function uC(){if(Zb)return Ic;Zb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Ic.Fragment=t,Ic.jsx=e,Ic.jsxs=e,Ic}var Jb;function hC(){return Jb||(Jb=1,rm.exports=uC()),rm.exports}var X=hC(),am={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function fC(){if(tE)return It;tE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function x(L,rt,ut){this.props=L,this.context=rt,this.refs=I,this.updater=ut||S}x.prototype.isReactComponent={},x.prototype.setState=function(L,rt){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,rt,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function V(){}V.prototype=x.prototype;function z(L,rt,ut){this.props=L,this.context=rt,this.refs=I,this.updater=ut||S}var F=z.prototype=new V;F.constructor=z,A(F,x.prototype),F.isPureReactComponent=!0;var tt=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ot=Object.prototype.hasOwnProperty;function M(L,rt,ut,lt,pt,Rt){return ut=Rt.ref,{$$typeof:n,type:L,key:rt,ref:ut!==void 0?ut:null,props:Rt}}function C(L,rt){return M(L.type,rt,void 0,void 0,void 0,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function N(L){var rt={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ut){return rt[ut]})}var P=/\/+/g;function U(L,rt){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):rt.toString(36)}function O(){}function qt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(O,O):(L.status="pending",L.then(function(rt){L.status==="pending"&&(L.status="fulfilled",L.value=rt)},function(rt){L.status==="pending"&&(L.status="rejected",L.reason=rt)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function vt(L,rt,ut,lt,pt){var Rt=typeof L;(Rt==="undefined"||Rt==="boolean")&&(L=null);var _t=!1;if(L===null)_t=!0;else switch(Rt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(L.$$typeof){case n:case t:_t=!0;break;case m:return _t=L._init,vt(_t(L._payload),rt,ut,lt,pt)}}if(_t)return pt=pt(L),_t=lt===""?"."+U(L,0):lt,tt(pt)?(ut="",_t!=null&&(ut=_t.replace(P,"$&/")+"/"),vt(pt,rt,ut,"",function(mi){return mi})):pt!=null&&(D(pt)&&(pt=C(pt,ut+(pt.key==null||L&&L.key===pt.key?"":(""+pt.key).replace(P,"$&/")+"/")+_t)),rt.push(pt)),1;_t=0;var He=lt===""?".":lt+":";if(tt(L))for(var re=0;re<L.length;re++)lt=L[re],Rt=He+U(lt,re),_t+=vt(lt,rt,ut,Rt,pt);else if(re=b(L),typeof re=="function")for(L=re.call(L),re=0;!(lt=L.next()).done;)lt=lt.value,Rt=He+U(lt,re++),_t+=vt(lt,rt,ut,Rt,pt);else if(Rt==="object"){if(typeof L.then=="function")return vt(qt(L),rt,ut,lt,pt);throw rt=String(L),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Q(L,rt,ut){if(L==null)return L;var lt=[],pt=0;return vt(L,lt,"","",function(Rt){return rt.call(ut,Rt,pt++)}),lt}function at(L){if(L._status===-1){var rt=L._result;rt=rt(),rt.then(function(ut){(L._status===0||L._status===-1)&&(L._status=1,L._result=ut)},function(ut){(L._status===0||L._status===-1)&&(L._status=2,L._result=ut)}),L._status===-1&&(L._status=0,L._result=rt)}if(L._status===1)return L._result.default;throw L._result}var dt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function wt(){}return It.Children={map:Q,forEach:function(L,rt,ut){Q(L,function(){rt.apply(this,arguments)},ut)},count:function(L){var rt=0;return Q(L,function(){rt++}),rt},toArray:function(L){return Q(L,function(rt){return rt})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},It.Component=x,It.Fragment=e,It.Profiler=r,It.PureComponent=z,It.StrictMode=i,It.Suspense=f,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,It.__COMPILER_RUNTIME={__proto__:null,c:function(L){return $.H.useMemoCache(L)}},It.cache=function(L){return function(){return L.apply(null,arguments)}},It.cloneElement=function(L,rt,ut){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var lt=A({},L.props),pt=L.key,Rt=void 0;if(rt!=null)for(_t in rt.ref!==void 0&&(Rt=void 0),rt.key!==void 0&&(pt=""+rt.key),rt)!ot.call(rt,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&rt.ref===void 0||(lt[_t]=rt[_t]);var _t=arguments.length-2;if(_t===1)lt.children=ut;else if(1<_t){for(var He=Array(_t),re=0;re<_t;re++)He[re]=arguments[re+2];lt.children=He}return M(L.type,pt,void 0,void 0,Rt,lt)},It.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},It.createElement=function(L,rt,ut){var lt,pt={},Rt=null;if(rt!=null)for(lt in rt.key!==void 0&&(Rt=""+rt.key),rt)ot.call(rt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(pt[lt]=rt[lt]);var _t=arguments.length-2;if(_t===1)pt.children=ut;else if(1<_t){for(var He=Array(_t),re=0;re<_t;re++)He[re]=arguments[re+2];pt.children=He}if(L&&L.defaultProps)for(lt in _t=L.defaultProps,_t)pt[lt]===void 0&&(pt[lt]=_t[lt]);return M(L,Rt,void 0,void 0,null,pt)},It.createRef=function(){return{current:null}},It.forwardRef=function(L){return{$$typeof:u,render:L}},It.isValidElement=D,It.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:at}},It.memo=function(L,rt){return{$$typeof:d,type:L,compare:rt===void 0?null:rt}},It.startTransition=function(L){var rt=$.T,ut={};$.T=ut;try{var lt=L(),pt=$.S;pt!==null&&pt(ut,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(wt,dt)}catch(Rt){dt(Rt)}finally{$.T=rt}},It.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},It.use=function(L){return $.H.use(L)},It.useActionState=function(L,rt,ut){return $.H.useActionState(L,rt,ut)},It.useCallback=function(L,rt){return $.H.useCallback(L,rt)},It.useContext=function(L){return $.H.useContext(L)},It.useDebugValue=function(){},It.useDeferredValue=function(L,rt){return $.H.useDeferredValue(L,rt)},It.useEffect=function(L,rt,ut){var lt=$.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(L,rt)},It.useId=function(){return $.H.useId()},It.useImperativeHandle=function(L,rt,ut){return $.H.useImperativeHandle(L,rt,ut)},It.useInsertionEffect=function(L,rt){return $.H.useInsertionEffect(L,rt)},It.useLayoutEffect=function(L,rt){return $.H.useLayoutEffect(L,rt)},It.useMemo=function(L,rt){return $.H.useMemo(L,rt)},It.useOptimistic=function(L,rt){return $.H.useOptimistic(L,rt)},It.useReducer=function(L,rt,ut){return $.H.useReducer(L,rt,ut)},It.useRef=function(L){return $.H.useRef(L)},It.useState=function(L){return $.H.useState(L)},It.useSyncExternalStore=function(L,rt,ut){return $.H.useSyncExternalStore(L,rt,ut)},It.useTransition=function(){return $.H.useTransition()},It.version="19.1.1",It}var eE;function vy(){return eE||(eE=1,am.exports=fC()),am.exports}var j=vy();const nw=cC(j);var om={exports:{}},Dc={},lm={exports:{}},cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function dC(){return nE||(nE=1,(function(n){function t(Q,at){var dt=Q.length;Q.push(at);t:for(;0<dt;){var wt=dt-1>>>1,L=Q[wt];if(0<r(L,at))Q[wt]=at,Q[dt]=L,dt=wt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var at=Q[0],dt=Q.pop();if(dt!==at){Q[0]=dt;t:for(var wt=0,L=Q.length,rt=L>>>1;wt<rt;){var ut=2*(wt+1)-1,lt=Q[ut],pt=ut+1,Rt=Q[pt];if(0>r(lt,dt))pt<L&&0>r(Rt,lt)?(Q[wt]=Rt,Q[pt]=dt,wt=pt):(Q[wt]=lt,Q[ut]=dt,wt=ut);else if(pt<L&&0>r(Rt,dt))Q[wt]=Rt,Q[pt]=dt,wt=pt;else break t}}return at}function r(Q,at){var dt=Q.sortIndex-at.sortIndex;return dt!==0?dt:Q.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var f=[],d=[],m=1,_=null,b=3,S=!1,A=!1,I=!1,x=!1,V=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function tt(Q){for(var at=e(d);at!==null;){if(at.callback===null)i(d);else if(at.startTime<=Q)i(d),at.sortIndex=at.expirationTime,t(f,at);else break;at=e(d)}}function $(Q){if(I=!1,tt(Q),!A)if(e(f)!==null)A=!0,ot||(ot=!0,U());else{var at=e(d);at!==null&&vt($,at.startTime-Q)}}var ot=!1,M=-1,C=5,D=-1;function N(){return x?!0:!(n.unstable_now()-D<C)}function P(){if(x=!1,ot){var Q=n.unstable_now();D=Q;var at=!0;try{t:{A=!1,I&&(I=!1,z(M),M=-1),S=!0;var dt=b;try{e:{for(tt(Q),_=e(f);_!==null&&!(_.expirationTime>Q&&N());){var wt=_.callback;if(typeof wt=="function"){_.callback=null,b=_.priorityLevel;var L=wt(_.expirationTime<=Q);if(Q=n.unstable_now(),typeof L=="function"){_.callback=L,tt(Q),at=!0;break e}_===e(f)&&i(f),tt(Q)}else i(f);_=e(f)}if(_!==null)at=!0;else{var rt=e(d);rt!==null&&vt($,rt.startTime-Q),at=!1}}break t}finally{_=null,b=dt,S=!1}at=void 0}}finally{at?U():ot=!1}}}var U;if(typeof F=="function")U=function(){F(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,qt=O.port2;O.port1.onmessage=P,U=function(){qt.postMessage(null)}}else U=function(){V(P,0)};function vt(Q,at){M=V(function(){Q(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var dt=b;b=at;try{return Q()}finally{b=dt}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=b;b=Q;try{return at()}finally{b=dt}},n.unstable_scheduleCallback=function(Q,at,dt){var wt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?wt+dt:wt):dt=wt,Q){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=dt+L,Q={id:m++,callback:at,priorityLevel:Q,startTime:dt,expirationTime:L,sortIndex:-1},dt>wt?(Q.sortIndex=dt,t(d,Q),e(f)===null&&Q===e(d)&&(I?(z(M),M=-1):I=!0,vt($,dt-wt))):(Q.sortIndex=L,t(f,Q),A||S||(A=!0,ot||(ot=!0,U()))),Q},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Q){var at=b;return function(){var dt=b;b=at;try{return Q.apply(this,arguments)}finally{b=dt}}}})(cm)),cm}var iE;function gC(){return iE||(iE=1,lm.exports=dC()),lm.exports}var um={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function pC(){if(sE)return on;sE=1;var n=vy();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:d,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,m)},on.flushSync=function(f){var d=c.T,m=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=m,i.d.f()}},on.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},on.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},on.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,_=u(m,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:S}):m==="script"&&i.d.X(f,{crossOrigin:_,integrity:b,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},on.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},on.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,_=u(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},on.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},on.requestFormReset=function(f){i.d.r(f)},on.unstable_batchedUpdates=function(f,d){return f(d)},on.useFormState=function(f,d,m){return c.H.useFormState(f,d,m)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.1.1",on}var rE;function mC(){if(rE)return um.exports;rE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),um.exports=pC(),um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function yC(){if(aE)return Dc;aE=1;var n=gC(),t=vy(),e=mC();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,h=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return u(p),s;if(y===h)return u(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==h.return)l=p,h=y;else{for(var T=!1,w=p.child;w;){if(w===l){T=!0,l=p,h=y;break}if(w===h){T=!0,h=p,l=y;break}w=w.sibling}if(!T){for(w=y.child;w;){if(w===l){T=!0,l=y,h=p;break}if(w===h){T=!0,h=y,l=p;break}w=w.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==h)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),F=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function qt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case x:return"Profiler";case I:return"StrictMode";case $:return"Suspense";case ot:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case F:return(s.displayName||"Context")+".Provider";case z:return(s._context.displayName||"Context")+".Consumer";case tt:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:qt(s.type)||"Memo";case C:a=s._payload,s=s._init;try{return qt(s(a))}catch{}}return null}var vt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},wt=[],L=-1;function rt(s){return{current:s}}function ut(s){0>L||(s.current=wt[L],wt[L]=null,L--)}function lt(s,a){L++,wt[L]=s.current,s.current=a}var pt=rt(null),Rt=rt(null),_t=rt(null),He=rt(null);function re(s,a){switch(lt(_t,a),lt(Rt,s),lt(pt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?xb(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=xb(a),s=Rb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ut(pt),lt(pt,s)}function mi(){ut(pt),ut(Rt),ut(_t)}function Us(s){s.memoizedState!==null&&lt(He,s);var a=pt.current,l=Rb(a,s.type);a!==l&&(lt(Rt,s),lt(pt,l))}function Yi(s){Rt.current===s&&(ut(pt),ut(Rt)),He.current===s&&(ut(He),wc._currentValue=dt)}var Hr=Object.prototype.hasOwnProperty,Fr=n.unstable_scheduleCallback,qr=n.unstable_cancelCallback,El=n.unstable_shouldYield,Gu=n.unstable_requestPaint,Ln=n.unstable_now,rg=n.unstable_getCurrentPriorityLevel,Tl=n.unstable_ImmediatePriority,$a=n.unstable_UserBlockingPriority,Gr=n.unstable_NormalPriority,ag=n.unstable_LowPriority,Wa=n.unstable_IdlePriority,Sl=n.log,Yu=n.unstable_setDisableYieldValue,pe=null,Wt=null;function Rn(s){if(typeof Sl=="function"&&Yu(s),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(pe,s)}catch{}}var rn=Math.clz32?Math.clz32:Yr,$u=Math.log,og=Math.LN2;function Yr(s){return s>>>=0,s===0?32:31-($u(s)/og|0)|0}var $r=256,Wr=4194304;function ni(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ka(s,a,l){var h=s.pendingLanes;if(h===0)return 0;var p=0,y=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var w=h&134217727;return w!==0?(h=w&~y,h!==0?p=ni(h):(T&=w,T!==0?p=ni(T):l||(l=w&~s,l!==0&&(p=ni(l))))):(w=h&~y,w!==0?p=ni(w):T!==0?p=ni(T):l||(l=h&~s,l!==0&&(p=ni(l)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:p}function Kr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function wl(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Al(){var s=$r;return $r<<=1,($r&4194048)===0&&($r=256),s}function xl(){var s=Wr;return Wr<<=1,(Wr&62914560)===0&&(Wr=4194304),s}function $i(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Wi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Rl(s,a,l,h,p,y){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var w=s.entanglements,k=s.expirationTimes,Y=s.hiddenUpdates;for(l=T&~l;0<l;){var J=31-rn(l),it=1<<J;w[J]=0,k[J]=-1;var W=Y[J];if(W!==null)for(Y[J]=null,J=0;J<W.length;J++){var K=W[J];K!==null&&(K.lane&=-536870913)}l&=~it}h!==0&&yi(s,h,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(T&~a))}function yi(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-rn(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|l&4194090}function Cl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var h=31-rn(l),p=1<<h;p&a|s[h]&a&&(s[h]|=a),l&=~p}}function zs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Qa(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Bs(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:Yb(s.type))}function Wu(s,a){var l=at.p;try{return at.p=s,a()}finally{at.p=l}}var ue=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ue,Ae="__reactProps$"+ue,Un="__reactContainer$"+ue,Il="__reactEvents$"+ue,lg="__reactListeners$"+ue,js="__reactHandles$"+ue,Ku="__reactResources$"+ue,Qr="__reactMarker$"+ue;function Hs(s){delete s[Oe],delete s[Ae],delete s[Il],delete s[lg],delete s[js]}function Ki(s){var a=s[Oe];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Un]||l[Oe]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=Mb(s);s!==null;){if(l=s[Oe])return l;s=Mb(s)}return a}s=l,l=s.parentNode}return null}function _i(s){if(s=s[Oe]||s[Un]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function vi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function gn(s){var a=s[Ku];return a||(a=s[Ku]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ve(s){s[Qr]=!0}var Dl=new Set,Xa={};function ii(s,a){Qi(s,a),Qi(s+"Capture",a)}function Qi(s,a){for(Xa[s]=a,s=0;s<a.length;s++)Dl.add(a[s])}var Qu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xu={},Xr={};function Zu(s){return Hr.call(Xr,s)?!0:Hr.call(Xu,s)?!1:Qu.test(s)?Xr[s]=!0:(Xu[s]=!0,!1)}function Fs(s,a,l){if(Zu(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function bi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Qe(s,a,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+h)}}var Zr,Ju;function Xi(s){if(Zr===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Zr=a&&a[1]||"",Ju=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+s+Ju}var Za=!1;function Ja(s,a){if(!s||Za)return"";Za=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(K){var W=K}Reflect.construct(s,[],it)}else{try{it.call()}catch(K){W=K}s.call(it.prototype)}}else{try{throw Error()}catch(K){W=K}(it=s())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(K){if(K&&W&&typeof K.stack=="string")return[K.stack,W.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),T=y[0],w=y[1];if(T&&w){var k=T.split(`
`),Y=w.split(`
`);for(p=h=0;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(h===k.length||p===Y.length)for(h=k.length-1,p=Y.length-1;1<=h&&0<=p&&k[h]!==Y[p];)p--;for(;1<=h&&0<=p;h--,p--)if(k[h]!==Y[p]){if(h!==1||p!==1)do if(h--,p--,0>p||k[h]!==Y[p]){var J=`
`+k[h].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=h&&0<=p);break}}}finally{Za=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Xi(l):""}function Ml(s){switch(s.tag){case 26:case 27:case 5:return Xi(s.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return Ja(s.type,!1);case 11:return Ja(s.type.render,!1);case 1:return Ja(s.type,!0);case 31:return Xi("Activity");default:return""}}function to(s){try{var a="";do a+=Ml(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function pn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ol(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function cg(s){var a=Ol(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function eo(s){s._valueTracker||(s._valueTracker=cg(s))}function kl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return s&&(h=Ol(s)?s.checked?"true":"false":s.value),s=h,s!==l?(a.setValue(s),!0):!1}function Jr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ug=/[\n"\\]/g;function xe(s){return s.replace(ug,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Cn(s,a,l,h,p,y,T,w){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+pn(a)):s.value!==""+pn(a)&&(s.value=""+pn(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?qs(s,T,pn(a)):l!=null?qs(s,T,pn(l)):h!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+pn(w):s.removeAttribute("name")}function ta(s,a,l,h,p,y,T,w){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+pn(l):"",a=a!=null?""+pn(a):l,w||a===s.value||(s.value=a),s.defaultValue=a}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=w?s.checked:!!h,s.defaultChecked=!!h,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function qs(s,a,l){a==="number"&&Jr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Zi(s,a,l,h){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&h&&(s[l].defaultSelected=!0)}else{for(l=""+pn(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function Jt(s,a,l){if(a!=null&&(a=""+pn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+pn(l):""}function ea(s,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(i(92));if(vt(h)){if(1<h.length)throw Error(i(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=pn(a),s.defaultValue=l,h=s.textContent,h===l&&h!==""&&h!==null&&(s.value=h)}function zn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function th(s,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,l):typeof l!="number"||l===0||na.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Nl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var p in a)h=a[p],a.hasOwnProperty(p)&&l[p]!==h&&th(s,p,h)}else for(var y in a)a.hasOwnProperty(y)&&th(s,y,a[y])}function Pl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(s){return fg.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ji=null;function Bn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ts=null,es=null;function Vl(s){var a=_i(s);if(a&&(s=a.stateNode)){var l=s[Ae]||null;t:switch(s=a.stateNode,a.type){case"input":if(Cn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+xe(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==s&&h.form===s.form){var p=h[Ae]||null;if(!p)throw Error(i(90));Cn(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===s.form&&kl(h)}break t;case"textarea":Jt(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Zi(s,!!l.multiple,a,!1)}}}var Ei=!1;function eh(s,a,l){if(Ei)return s(a,l);Ei=!0;try{var h=s(a);return h}finally{if(Ei=!1,(ts!==null||es!==null)&&(Wh(),ts&&(a=ts,s=es,es=ts=null,Vl(a),s)))for(a=0;a<s.length;a++)Vl(s[a])}}function ia(s,a){var l=s.stateNode;if(l===null)return null;var h=l[Ae]||null;if(h===null)return null;l=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(si)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){jn=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{jn=!1}var Ti=null,Gs=null,ns=null;function Ll(){if(ns)return ns;var s,a=Gs,l=a.length,h,p="value"in Ti?Ti.value:Ti.textContent,y=p.length;for(s=0;s<l&&a[s]===p[s];s++);var T=l-s;for(h=1;h<=T&&a[l-h]===p[y-h];h++);return ns=p.slice(s,1<h?1-h:void 0)}function Si(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function wi(){return!0}function Ul(){return!1}function Fe(s){function a(l,h,p,y,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(l=s[w],this[w]=l?l(y):y[w]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?wi:Ul,this.isPropagationStopped=Ul,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),a}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=Fe(Yt),ra=m({},Yt,{view:0,detail:0}),nh=Fe(ra),so,ro,Ai,aa=m({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ai&&(Ai&&s.type==="mousemove"?(so=s.screenX-Ai.screenX,ro=s.screenY-Ai.screenY):ro=so=0,Ai=s),so)},movementY:function(s){return"movementY"in s?s.movementY:ro}}),Hn=Fe(aa),ih=m({},aa,{dataTransfer:0}),dg=Fe(ih),oa=m({},ra,{relatedTarget:0}),ao=Fe(oa),zl=m({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),oo=Fe(zl),sh=m({},Yt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),lo=Fe(sh),gg=m({},Yt,{data:0}),Bl=Fe(gg),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ah[s])?!!a[s]:!1}function ca(){return jl}var oh=m({},ra,{key:function(s){if(s.key){var a=la[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Si(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?rh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(s){return s.type==="keypress"?Si(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Si(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),co=Fe(oh),lh=m({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=Fe(lh),is=m({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),ch=Fe(is),uh=m({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),hh=Fe(uh),fh=m({},aa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),uo=Fe(fh),mn=m({},Yt,{newState:0,oldState:0}),dh=Fe(mn),gh=[9,13,27,32],xi=si&&"CompositionEvent"in window,g=null;si&&"documentMode"in document&&(g=document.documentMode);var v=si&&"TextEvent"in window&&!g,E=si&&(!xi||g&&8<g&&11>=g),R=" ",q=!1;function Z(s,a){switch(s){case"keyup":return gh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ut=!1;function ke(s,a){switch(s){case"compositionend":return ct(a);case"keypress":return a.which!==32?null:(q=!0,R);case"textInput":return s=a.data,s===R&&q?null:s;default:return null}}function zt(s,a){if(Ut)return s==="compositionend"||!xi&&Z(s,a)?(s=Ll(),ns=Gs=Ti=null,Ut=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ne(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!qe[s.type]:a==="textarea"}function ss(s,a,l,h){ts?es?es.push(h):es=[h]:ts=h,a=tf(a,"onChange"),0<a.length&&(l=new io("onChange","change",null,l,h),s.push({event:l,listeners:a}))}var Xe=null,Ri=null;function Fl(s){Eb(s,0)}function ph(s){var a=vi(s);if(kl(a))return s}function H_(s,a){if(s==="change")return a}var F_=!1;if(si){var pg;if(si){var mg="oninput"in document;if(!mg){var q_=document.createElement("div");q_.setAttribute("oninput","return;"),mg=typeof q_.oninput=="function"}pg=mg}else pg=!1;F_=pg&&(!document.documentMode||9<document.documentMode)}function G_(){Xe&&(Xe.detachEvent("onpropertychange",Y_),Ri=Xe=null)}function Y_(s){if(s.propertyName==="value"&&ph(Ri)){var a=[];ss(a,Ri,s,Bn(s)),eh(Fl,a)}}function zx(s,a,l){s==="focusin"?(G_(),Xe=a,Ri=l,Xe.attachEvent("onpropertychange",Y_)):s==="focusout"&&G_()}function Bx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ph(Ri)}function jx(s,a){if(s==="click")return ph(a)}function Hx(s,a){if(s==="input"||s==="change")return ph(a)}function Fx(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var In=typeof Object.is=="function"?Object.is:Fx;function ql(s,a){if(In(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!Hr.call(a,p)||!In(s[p],a[p]))return!1}return!0}function $_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function W_(s,a){var l=$_(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=a&&h>=a)return{node:l,offset:a-s};s=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=$_(l)}}function K_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?K_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Q_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Jr(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Jr(s.document)}return a}function yg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var qx=si&&"documentMode"in document&&11>=document.documentMode,ho=null,_g=null,Gl=null,vg=!1;function X_(s,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;vg||ho==null||ho!==Jr(h)||(h=ho,"selectionStart"in h&&yg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Gl&&ql(Gl,h)||(Gl=h,h=tf(_g,"onSelect"),0<h.length&&(a=new io("onSelect","select",null,a,l),s.push({event:a,listeners:h}),a.target=ho)))}function ua(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var fo={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},bg={},Z_={};si&&(Z_=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ha(s){if(bg[s])return bg[s];if(!fo[s])return s;var a=fo[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in Z_)return bg[s]=a[l];return s}var J_=ha("animationend"),tv=ha("animationiteration"),ev=ha("animationstart"),Gx=ha("transitionrun"),Yx=ha("transitionstart"),$x=ha("transitioncancel"),nv=ha("transitionend"),iv=new Map,Eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eg.push("scrollEnd");function ri(s,a){iv.set(s,a),ii(a,[s])}var sv=new WeakMap;function Fn(s,a){if(typeof s=="object"&&s!==null){var l=sv.get(s);return l!==void 0?l:(a={value:s,source:a,stack:to(a)},sv.set(s,a),a)}return{value:s,source:a,stack:to(a)}}var qn=[],go=0,Tg=0;function mh(){for(var s=go,a=Tg=go=0;a<s;){var l=qn[a];qn[a++]=null;var h=qn[a];qn[a++]=null;var p=qn[a];qn[a++]=null;var y=qn[a];if(qn[a++]=null,h!==null&&p!==null){var T=h.pending;T===null?p.next=p:(p.next=T.next,T.next=p),h.pending=p}y!==0&&rv(l,p,y)}}function yh(s,a,l,h){qn[go++]=s,qn[go++]=a,qn[go++]=l,qn[go++]=h,Tg|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Sg(s,a,l,h){return yh(s,a,l,h),_h(s)}function po(s,a){return yh(s,null,null,a),_h(s)}function rv(s,a,l){s.lanes|=l;var h=s.alternate;h!==null&&(h.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&a!==null&&(p=31-rn(l),s=y.hiddenUpdates,h=s[p],h===null?s[p]=[a]:h.push(a),a.lane=l|536870912),y):null}function _h(s){if(50<mc)throw mc=0,Ip=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var mo={};function Wx(s,a,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(s,a,l,h){return new Wx(s,a,l,h)}function wg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function rs(s,a){var l=s.alternate;return l===null?(l=Dn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function av(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function vh(s,a,l,h,p,y){var T=0;if(h=s,typeof s=="function")wg(s)&&(T=1);else if(typeof s=="string")T=QR(s,l,pt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=Dn(31,l,a,p),s.elementType=D,s.lanes=y,s;case A:return fa(l.children,p,y,a);case I:T=8,p|=24;break;case x:return s=Dn(12,l,a,p|2),s.elementType=x,s.lanes=y,s;case $:return s=Dn(13,l,a,p),s.elementType=$,s.lanes=y,s;case ot:return s=Dn(19,l,a,p),s.elementType=ot,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:case F:T=10;break t;case z:T=9;break t;case tt:T=11;break t;case M:T=14;break t;case C:T=16,h=null;break t}T=29,l=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=Dn(T,l,a,p),a.elementType=s,a.type=h,a.lanes=y,a}function fa(s,a,l,h){return s=Dn(7,s,h,a),s.lanes=l,s}function Ag(s,a,l){return s=Dn(6,s,null,a),s.lanes=l,s}function xg(s,a,l){return a=Dn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var yo=[],_o=0,bh=null,Eh=0,Gn=[],Yn=0,da=null,as=1,os="";function ga(s,a){yo[_o++]=Eh,yo[_o++]=bh,bh=s,Eh=a}function ov(s,a,l){Gn[Yn++]=as,Gn[Yn++]=os,Gn[Yn++]=da,da=s;var h=as;s=os;var p=32-rn(h)-1;h&=~(1<<p),l+=1;var y=32-rn(a)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,as=1<<32-rn(a)+p|l<<p|h,os=y+s}else as=1<<y|l<<p|h,os=s}function Rg(s){s.return!==null&&(ga(s,1),ov(s,1,0))}function Cg(s){for(;s===bh;)bh=yo[--_o],yo[_o]=null,Eh=yo[--_o],yo[_o]=null;for(;s===da;)da=Gn[--Yn],Gn[Yn]=null,os=Gn[--Yn],Gn[Yn]=null,as=Gn[--Yn],Gn[Yn]=null}var yn=null,me=null,Gt=!1,pa=null,Ci=!1,Ig=Error(i(519));function ma(s){var a=Error(i(418,""));throw Wl(Fn(a,s)),Ig}function lv(s){var a=s.stateNode,l=s.type,h=s.memoizedProps;switch(a[Oe]=s,a[Ae]=h,l){case"dialog":kt("cancel",a),kt("close",a);break;case"iframe":case"object":case"embed":kt("load",a);break;case"video":case"audio":for(l=0;l<_c.length;l++)kt(_c[l],a);break;case"source":kt("error",a);break;case"img":case"image":case"link":kt("error",a),kt("load",a);break;case"details":kt("toggle",a);break;case"input":kt("invalid",a),ta(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),eo(a);break;case"select":kt("invalid",a);break;case"textarea":kt("invalid",a),ea(a,h.value,h.defaultValue,h.children),eo(a)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||Ab(a.textContent,l)?(h.popover!=null&&(kt("beforetoggle",a),kt("toggle",a)),h.onScroll!=null&&kt("scroll",a),h.onScrollEnd!=null&&kt("scrollend",a),h.onClick!=null&&(a.onclick=ef),a=!0):a=!1,a||ma(s)}function cv(s){for(yn=s.return;yn;)switch(yn.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:yn=yn.return}}function Yl(s){if(s!==yn)return!1;if(!Gt)return cv(s),Gt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Gp(s.type,s.memoizedProps)),l=!l),l&&me&&ma(s),cv(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){me=oi(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}me=null}}else a===27?(a=me,or(s.type)?(s=Kp,Kp=null,me=s):me=a):me=yn?oi(s.stateNode.nextSibling):null;return!0}function $l(){me=yn=null,Gt=!1}function uv(){var s=pa;return s!==null&&(En===null?En=s:En.push.apply(En,s),pa=null),s}function Wl(s){pa===null?pa=[s]:pa.push(s)}var Dg=rt(null),ya=null,ls=null;function Ys(s,a,l){lt(Dg,a._currentValue),a._currentValue=l}function cs(s){s._currentValue=Dg.current,ut(Dg)}function Mg(s,a,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===l)break;s=s.return}}function Og(s,a,l,h){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;t:for(;y!==null;){var w=y;y=p;for(var k=0;k<a.length;k++)if(w.context===a[k]){y.lanes|=l,w=y.alternate,w!==null&&(w.lanes|=l),Mg(y.return,l,s),h||(T=null);break t}y=w.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),Mg(T,l,s),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===s){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Kl(s,a,l,h){s=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var w=p.type;In(p.pendingProps.value,T.value)||(s!==null?s.push(w):s=[w])}}else if(p===He.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(wc):s=[wc])}p=p.return}s!==null&&Og(a,s,l,h),a.flags|=262144}function Th(s){for(s=s.firstContext;s!==null;){if(!In(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function _a(s){ya=s,ls=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function an(s){return hv(ya,s)}function Sh(s,a){return ya===null&&_a(s),hv(s,a)}function hv(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ls===null){if(s===null)throw Error(i(308));ls=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ls=ls.next=a;return l}var Kx=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Qx=n.unstable_scheduleCallback,Xx=n.unstable_NormalPriority,Pe={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kg(){return{controller:new Kx,data:new Map,refCount:0}}function Ql(s){s.refCount--,s.refCount===0&&Qx(Xx,function(){s.controller.abort()})}var Xl=null,Ng=0,vo=0,bo=null;function Zx(s,a){if(Xl===null){var l=Xl=[];Ng=0,vo=Vp(),bo={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Ng++,a.then(fv,fv),a}function fv(){if(--Ng===0&&Xl!==null){bo!==null&&(bo.status="fulfilled");var s=Xl;Xl=null,vo=0,bo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Jx(s,a){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var dv=Q.S;Q.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Zx(s,a),dv!==null&&dv(s,a)};var va=rt(null);function Pg(){var s=va.current;return s!==null?s:ae.pooledCache}function wh(s,a){a===null?lt(va,va.current):lt(va,a.pool)}function gv(){var s=Pg();return s===null?null:{parent:Pe._currentValue,pool:s}}var Zl=Error(i(460)),pv=Error(i(474)),Ah=Error(i(542)),Vg={then:function(){}};function mv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function xh(){}function yv(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(xh,xh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,vv(s),s;default:if(typeof a.status=="string")a.then(xh,xh);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=h}},function(h){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,vv(s),s}throw Jl=a,Zl}}var Jl=null;function _v(){if(Jl===null)throw Error(i(459));var s=Jl;return Jl=null,s}function vv(s){if(s===Zl||s===Ah)throw Error(i(483))}var $s=!1;function Lg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ug(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ws(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ks(s,a,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Kt&2)!==0){var p=h.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),h.pending=a,a=_h(s),rv(s,null,l),a}return yh(s,h,a,l),_h(s)}function tc(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,l|=h,a.lanes=l,Cl(s,l)}}function zg(s,a){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Bg=!1;function ec(){if(Bg){var s=bo;if(s!==null)throw s}}function nc(s,a,l,h){Bg=!1;var p=s.updateQueue;$s=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,w=p.shared.pending;if(w!==null){p.shared.pending=null;var k=w,Y=k.next;k.next=null,T===null?y=Y:T.next=Y,T=k;var J=s.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==T&&(w===null?J.firstBaseUpdate=Y:w.next=Y,J.lastBaseUpdate=k))}if(y!==null){var it=p.baseState;T=0,J=Y=k=null,w=y;do{var W=w.lane&-536870913,K=W!==w.lane;if(K?(Bt&W)===W:(h&W)===W){W!==0&&W===vo&&(Bg=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var At=s,bt=w;W=a;var ne=l;switch(bt.tag){case 1:if(At=bt.payload,typeof At=="function"){it=At.call(ne,it,W);break t}it=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=bt.payload,W=typeof At=="function"?At.call(ne,it,W):At,W==null)break t;it=m({},it,W);break t;case 2:$s=!0}}W=w.callback,W!==null&&(s.flags|=64,K&&(s.flags|=8192),K=p.callbacks,K===null?p.callbacks=[W]:K.push(W))}else K={lane:W,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(Y=J=K,k=it):J=J.next=K,T|=W;if(w=w.next,w===null){if(w=p.shared.pending,w===null)break;K=w,w=K.next,K.next=null,p.lastBaseUpdate=K,p.shared.pending=null}}while(!0);J===null&&(k=it),p.baseState=k,p.firstBaseUpdate=Y,p.lastBaseUpdate=J,y===null&&(p.shared.lanes=0),ir|=T,s.lanes=T,s.memoizedState=it}}function bv(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Ev(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)bv(l[s],a)}var Eo=rt(null),Rh=rt(0);function Tv(s,a){s=ms,lt(Rh,s),lt(Eo,a),ms=s|a.baseLanes}function jg(){lt(Rh,ms),lt(Eo,Eo.current)}function Hg(){ms=Rh.current,ut(Eo),ut(Rh)}var Qs=0,Dt=null,te=null,Re=null,Ch=!1,To=!1,ba=!1,Ih=0,ic=0,So=null,tR=0;function be(){throw Error(i(321))}function Fg(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!In(s[l],a[l]))return!1;return!0}function qg(s,a,l,h,p,y){return Qs=y,Dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=s===null||s.memoizedState===null?r0:a0,ba=!1,y=l(h,p),ba=!1,To&&(y=wv(a,l,h,p)),Sv(s),y}function Sv(s){Q.H=Ph;var a=te!==null&&te.next!==null;if(Qs=0,Re=te=Dt=null,Ch=!1,ic=0,So=null,a)throw Error(i(300));s===null||Ge||(s=s.dependencies,s!==null&&Th(s)&&(Ge=!0))}function wv(s,a,l,h){Dt=s;var p=0;do{if(To&&(So=null),ic=0,To=!1,25<=p)throw Error(i(301));if(p+=1,Re=te=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Q.H=oR,y=a(l,h)}while(To);return y}function eR(){var s=Q.H,a=s.useState()[0];return a=typeof a.then=="function"?sc(a):a,s=s.useState()[0],(te!==null?te.memoizedState:null)!==s&&(Dt.flags|=1024),a}function Gg(){var s=Ih!==0;return Ih=0,s}function Yg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function $g(s){if(Ch){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ch=!1}Qs=0,Re=te=Dt=null,To=!1,ic=Ih=0,So=null}function vn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Dt.memoizedState=Re=s:Re=Re.next=s,Re}function Ce(){if(te===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=te.next;var a=Re===null?Dt.memoizedState:Re.next;if(a!==null)Re=a,te=s;else{if(s===null)throw Dt.alternate===null?Error(i(467)):Error(i(310));te=s,s={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Re===null?Dt.memoizedState=Re=s:Re=Re.next=s}return Re}function Wg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sc(s){var a=ic;return ic+=1,So===null&&(So=[]),s=yv(So,s,a),a=Dt,(Re===null?a.memoizedState:Re.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?r0:a0),s}function Dh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return sc(s);if(s.$$typeof===F)return an(s)}throw Error(i(438,String(s)))}function Kg(s){var a=null,l=Dt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=Dt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Wg(),Dt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),h=0;h<s;h++)l[h]=N;return a.index++,l}function us(s,a){return typeof a=="function"?a(s):a}function Mh(s){var a=Ce();return Qg(a,te,s)}function Qg(s,a,l){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=l;var p=s.baseQueue,y=h.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}a.baseQueue=p=y,h.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{a=p.next;var w=T=null,k=null,Y=a,J=!1;do{var it=Y.lane&-536870913;if(it!==Y.lane?(Bt&it)===it:(Qs&it)===it){var W=Y.revertLane;if(W===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),it===vo&&(J=!0);else if((Qs&W)===W){Y=Y.next,W===vo&&(J=!0);continue}else it={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(w=k=it,T=y):k=k.next=it,Dt.lanes|=W,ir|=W;it=Y.action,ba&&l(y,it),y=Y.hasEagerState?Y.eagerState:l(y,it)}else W={lane:it,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(w=k=W,T=y):k=k.next=W,Dt.lanes|=it,ir|=it;Y=Y.next}while(Y!==null&&Y!==a);if(k===null?T=y:k.next=w,!In(y,s.memoizedState)&&(Ge=!0,J&&(l=bo,l!==null)))throw l;s.memoizedState=y,s.baseState=T,s.baseQueue=k,h.lastRenderedState=y}return p===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Xg(s){var a=Ce(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var h=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=s(y,T.action),T=T.next;while(T!==p);In(y,a.memoizedState)||(Ge=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,h]}function Av(s,a,l){var h=Dt,p=Ce(),y=Gt;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!In((te||p).memoizedState,l);T&&(p.memoizedState=l,Ge=!0),p=p.queue;var w=Cv.bind(null,h,p,s);if(rc(2048,8,w,[s]),p.getSnapshot!==a||T||Re!==null&&Re.memoizedState.tag&1){if(h.flags|=2048,wo(9,Oh(),Rv.bind(null,h,p,l,a),null),ae===null)throw Error(i(349));y||(Qs&124)!==0||xv(h,a,l)}return l}function xv(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Dt.updateQueue,a===null?(a=Wg(),Dt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Rv(s,a,l,h){a.value=l,a.getSnapshot=h,Iv(a)&&Dv(s)}function Cv(s,a,l){return l(function(){Iv(a)&&Dv(s)})}function Iv(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!In(s,l)}catch{return!0}}function Dv(s){var a=po(s,2);a!==null&&Pn(a,s,2)}function Zg(s){var a=vn();if(typeof s=="function"){var l=s;if(s=l(),ba){Rn(!0);try{l()}finally{Rn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:s},a}function Mv(s,a,l,h){return s.baseState=l,Qg(s,te,typeof h=="function"?h:us)}function nR(s,a,l,h,p){if(Nh(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};Q.T!==null?l(!0):y.isTransition=!1,h(y),l=a.pending,l===null?(y.next=a.pending=y,Ov(a,y)):(y.next=l.next,a.pending=l.next=y)}}function Ov(s,a){var l=a.action,h=a.payload,p=s.state;if(a.isTransition){var y=Q.T,T={};Q.T=T;try{var w=l(p,h),k=Q.S;k!==null&&k(T,w),kv(s,a,w)}catch(Y){Jg(s,a,Y)}finally{Q.T=y}}else try{y=l(p,h),kv(s,a,y)}catch(Y){Jg(s,a,Y)}}function kv(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Nv(s,a,h)},function(h){return Jg(s,a,h)}):Nv(s,a,l)}function Nv(s,a,l){a.status="fulfilled",a.value=l,Pv(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,Ov(s,l)))}function Jg(s,a,l){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,Pv(a),a=a.next;while(a!==h)}s.action=null}function Pv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Vv(s,a){return a}function Lv(s,a){if(Gt){var l=ae.formState;if(l!==null){t:{var h=Dt;if(Gt){if(me){e:{for(var p=me,y=Ci;p.nodeType!==8;){if(!y){p=null;break e}if(p=oi(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){me=oi(p.nextSibling),h=p.data==="F!";break t}}ma(h)}h=!1}h&&(a=l[0])}}return l=vn(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vv,lastRenderedState:a},l.queue=h,l=n0.bind(null,Dt,h),h.dispatch=l,h=Zg(!1),y=sp.bind(null,Dt,!1,h.queue),h=vn(),p={state:a,dispatch:null,action:s,pending:null},h.queue=p,l=nR.bind(null,Dt,p,y,l),p.dispatch=l,h.memoizedState=s,[a,l,!1]}function Uv(s){var a=Ce();return zv(a,te,s)}function zv(s,a,l){if(a=Qg(s,a,Vv)[0],s=Mh(us)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=sc(a)}catch(T){throw T===Zl?Ah:T}else h=a;a=Ce();var p=a.queue,y=p.dispatch;return l!==a.memoizedState&&(Dt.flags|=2048,wo(9,Oh(),iR.bind(null,p,l),null)),[h,y,s]}function iR(s,a){s.action=a}function Bv(s){var a=Ce(),l=te;if(l!==null)return zv(a,l,s);Ce(),a=a.memoizedState,l=Ce();var h=l.queue.dispatch;return l.memoizedState=s,[a,h,!1]}function wo(s,a,l,h){return s={tag:s,create:l,deps:h,inst:a,next:null},a=Dt.updateQueue,a===null&&(a=Wg(),Dt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,a.lastEffect=s),s}function Oh(){return{destroy:void 0,resource:void 0}}function jv(){return Ce().memoizedState}function kh(s,a,l,h){var p=vn();h=h===void 0?null:h,Dt.flags|=s,p.memoizedState=wo(1|a,Oh(),l,h)}function rc(s,a,l,h){var p=Ce();h=h===void 0?null:h;var y=p.memoizedState.inst;te!==null&&h!==null&&Fg(h,te.memoizedState.deps)?p.memoizedState=wo(a,y,l,h):(Dt.flags|=s,p.memoizedState=wo(1|a,y,l,h))}function Hv(s,a){kh(8390656,8,s,a)}function Fv(s,a){rc(2048,8,s,a)}function qv(s,a){return rc(4,2,s,a)}function Gv(s,a){return rc(4,4,s,a)}function Yv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function $v(s,a,l){l=l!=null?l.concat([s]):null,rc(4,4,Yv.bind(null,a,s),l)}function tp(){}function Wv(s,a){var l=Ce();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&Fg(a,h[1])?h[0]:(l.memoizedState=[s,a],s)}function Kv(s,a){var l=Ce();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&Fg(a,h[1]))return h[0];if(h=s(),ba){Rn(!0);try{s()}finally{Rn(!1)}}return l.memoizedState=[h,a],h}function ep(s,a,l){return l===void 0||(Qs&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Z0(),Dt.lanes|=s,ir|=s,l)}function Qv(s,a,l,h){return In(l,a)?l:Eo.current!==null?(s=ep(s,l,h),In(s,a)||(Ge=!0),s):(Qs&42)===0?(Ge=!0,s.memoizedState=l):(s=Z0(),Dt.lanes|=s,ir|=s,a)}function Xv(s,a,l,h,p){var y=at.p;at.p=y!==0&&8>y?y:8;var T=Q.T,w={};Q.T=w,sp(s,!1,a,l);try{var k=p(),Y=Q.S;if(Y!==null&&Y(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var J=Jx(k,h);ac(s,a,J,Nn(s))}else ac(s,a,h,Nn(s))}catch(it){ac(s,a,{then:function(){},status:"rejected",reason:it},Nn())}finally{at.p=y,Q.T=T}}function sR(){}function np(s,a,l,h){if(s.tag!==5)throw Error(i(476));var p=Zv(s).queue;Xv(s,p,a,dt,l===null?sR:function(){return Jv(s),l(h)})}function Zv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:dt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Jv(s){var a=Zv(s).next.queue;ac(s,a,{},Nn())}function ip(){return an(wc)}function t0(){return Ce().memoizedState}function e0(){return Ce().memoizedState}function rR(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Nn();s=Ws(l);var h=Ks(a,s,l);h!==null&&(Pn(h,a,l),tc(h,a,l)),a={cache:kg()},s.payload=a;return}a=a.return}}function aR(s,a,l){var h=Nn();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Nh(s)?i0(a,l):(l=Sg(s,a,l,h),l!==null&&(Pn(l,s,h),s0(l,a,h)))}function n0(s,a,l){var h=Nn();ac(s,a,l,h)}function ac(s,a,l,h){var p={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Nh(s))i0(a,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,w=y(T,l);if(p.hasEagerState=!0,p.eagerState=w,In(w,T))return yh(s,a,p,0),ae===null&&mh(),!1}catch{}finally{}if(l=Sg(s,a,p,h),l!==null)return Pn(l,s,h),s0(l,a,h),!0}return!1}function sp(s,a,l,h){if(h={lane:2,revertLane:Vp(),action:h,hasEagerState:!1,eagerState:null,next:null},Nh(s)){if(a)throw Error(i(479))}else a=Sg(s,l,h,2),a!==null&&Pn(a,s,2)}function Nh(s){var a=s.alternate;return s===Dt||a!==null&&a===Dt}function i0(s,a){To=Ch=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function s0(s,a,l){if((l&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,l|=h,a.lanes=l,Cl(s,l)}}var Ph={readContext:an,use:Dh,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be},r0={readContext:an,use:Dh,useCallback:function(s,a){return vn().memoizedState=[s,a===void 0?null:a],s},useContext:an,useEffect:Hv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,kh(4194308,4,Yv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return kh(4194308,4,s,a)},useInsertionEffect:function(s,a){kh(4,2,s,a)},useMemo:function(s,a){var l=vn();a=a===void 0?null:a;var h=s();if(ba){Rn(!0);try{s()}finally{Rn(!1)}}return l.memoizedState=[h,a],h},useReducer:function(s,a,l){var h=vn();if(l!==void 0){var p=l(a);if(ba){Rn(!0);try{l(a)}finally{Rn(!1)}}}else p=a;return h.memoizedState=h.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},h.queue=s,s=s.dispatch=aR.bind(null,Dt,s),[h.memoizedState,s]},useRef:function(s){var a=vn();return s={current:s},a.memoizedState=s},useState:function(s){s=Zg(s);var a=s.queue,l=n0.bind(null,Dt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:tp,useDeferredValue:function(s,a){var l=vn();return ep(l,s,a)},useTransition:function(){var s=Zg(!1);return s=Xv.bind(null,Dt,s.queue,!0,!1),vn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var h=Dt,p=vn();if(Gt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ae===null)throw Error(i(349));(Bt&124)!==0||xv(h,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,Hv(Cv.bind(null,h,y,s),[s]),h.flags|=2048,wo(9,Oh(),Rv.bind(null,h,y,l,a),null),l},useId:function(){var s=vn(),a=ae.identifierPrefix;if(Gt){var l=os,h=as;l=(h&~(1<<32-rn(h)-1)).toString(32)+l,a="«"+a+"R"+l,l=Ih++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=tR++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:ip,useFormState:Lv,useActionState:Lv,useOptimistic:function(s){var a=vn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=sp.bind(null,Dt,!0,l),l.dispatch=a,[s,a]},useMemoCache:Kg,useCacheRefresh:function(){return vn().memoizedState=rR.bind(null,Dt)}},a0={readContext:an,use:Dh,useCallback:Wv,useContext:an,useEffect:Fv,useImperativeHandle:$v,useInsertionEffect:qv,useLayoutEffect:Gv,useMemo:Kv,useReducer:Mh,useRef:jv,useState:function(){return Mh(us)},useDebugValue:tp,useDeferredValue:function(s,a){var l=Ce();return Qv(l,te.memoizedState,s,a)},useTransition:function(){var s=Mh(us)[0],a=Ce().memoizedState;return[typeof s=="boolean"?s:sc(s),a]},useSyncExternalStore:Av,useId:t0,useHostTransitionStatus:ip,useFormState:Uv,useActionState:Uv,useOptimistic:function(s,a){var l=Ce();return Mv(l,te,s,a)},useMemoCache:Kg,useCacheRefresh:e0},oR={readContext:an,use:Dh,useCallback:Wv,useContext:an,useEffect:Fv,useImperativeHandle:$v,useInsertionEffect:qv,useLayoutEffect:Gv,useMemo:Kv,useReducer:Xg,useRef:jv,useState:function(){return Xg(us)},useDebugValue:tp,useDeferredValue:function(s,a){var l=Ce();return te===null?ep(l,s,a):Qv(l,te.memoizedState,s,a)},useTransition:function(){var s=Xg(us)[0],a=Ce().memoizedState;return[typeof s=="boolean"?s:sc(s),a]},useSyncExternalStore:Av,useId:t0,useHostTransitionStatus:ip,useFormState:Bv,useActionState:Bv,useOptimistic:function(s,a){var l=Ce();return te!==null?Mv(l,te,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Kg,useCacheRefresh:e0},Ao=null,oc=0;function Vh(s){var a=oc;return oc+=1,Ao===null&&(Ao=[]),yv(Ao,s,a)}function lc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Lh(s,a){throw a.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function o0(s){var a=s._init;return a(s._payload)}function l0(s){function a(H,B){if(s){var G=H.deletions;G===null?(H.deletions=[B],H.flags|=16):G.push(B)}}function l(H,B){if(!s)return null;for(;B!==null;)a(H,B),B=B.sibling;return null}function h(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function p(H,B){return H=rs(H,B),H.index=0,H.sibling=null,H}function y(H,B,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<B?(H.flags|=67108866,B):G):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function T(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function w(H,B,G,et){return B===null||B.tag!==6?(B=Ag(G,H.mode,et),B.return=H,B):(B=p(B,G),B.return=H,B)}function k(H,B,G,et){var gt=G.type;return gt===A?J(H,B,G.props.children,et,G.key):B!==null&&(B.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===C&&o0(gt)===B.type)?(B=p(B,G.props),lc(B,G),B.return=H,B):(B=vh(G.type,G.key,G.props,null,H.mode,et),lc(B,G),B.return=H,B)}function Y(H,B,G,et){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=xg(G,H.mode,et),B.return=H,B):(B=p(B,G.children||[]),B.return=H,B)}function J(H,B,G,et,gt){return B===null||B.tag!==7?(B=fa(G,H.mode,et,gt),B.return=H,B):(B=p(B,G),B.return=H,B)}function it(H,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Ag(""+B,H.mode,G),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return G=vh(B.type,B.key,B.props,null,H.mode,G),lc(G,B),G.return=H,G;case S:return B=xg(B,H.mode,G),B.return=H,B;case C:var et=B._init;return B=et(B._payload),it(H,B,G)}if(vt(B)||U(B))return B=fa(B,H.mode,G,null),B.return=H,B;if(typeof B.then=="function")return it(H,Vh(B),G);if(B.$$typeof===F)return it(H,Sh(H,B),G);Lh(H,B)}return null}function W(H,B,G,et){var gt=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return gt!==null?null:w(H,B,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===gt?k(H,B,G,et):null;case S:return G.key===gt?Y(H,B,G,et):null;case C:return gt=G._init,G=gt(G._payload),W(H,B,G,et)}if(vt(G)||U(G))return gt!==null?null:J(H,B,G,et,null);if(typeof G.then=="function")return W(H,B,Vh(G),et);if(G.$$typeof===F)return W(H,B,Sh(H,G),et);Lh(H,G)}return null}function K(H,B,G,et,gt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return H=H.get(G)||null,w(B,H,""+et,gt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case b:return H=H.get(et.key===null?G:et.key)||null,k(B,H,et,gt);case S:return H=H.get(et.key===null?G:et.key)||null,Y(B,H,et,gt);case C:var Mt=et._init;return et=Mt(et._payload),K(H,B,G,et,gt)}if(vt(et)||U(et))return H=H.get(G)||null,J(B,H,et,gt,null);if(typeof et.then=="function")return K(H,B,G,Vh(et),gt);if(et.$$typeof===F)return K(H,B,G,Sh(B,et),gt);Lh(B,et)}return null}function At(H,B,G,et){for(var gt=null,Mt=null,mt=B,Et=B=0,$e=null;mt!==null&&Et<G.length;Et++){mt.index>Et?($e=mt,mt=null):$e=mt.sibling;var Ht=W(H,mt,G[Et],et);if(Ht===null){mt===null&&(mt=$e);break}s&&mt&&Ht.alternate===null&&a(H,mt),B=y(Ht,B,Et),Mt===null?gt=Ht:Mt.sibling=Ht,Mt=Ht,mt=$e}if(Et===G.length)return l(H,mt),Gt&&ga(H,Et),gt;if(mt===null){for(;Et<G.length;Et++)mt=it(H,G[Et],et),mt!==null&&(B=y(mt,B,Et),Mt===null?gt=mt:Mt.sibling=mt,Mt=mt);return Gt&&ga(H,Et),gt}for(mt=h(mt);Et<G.length;Et++)$e=K(mt,H,Et,G[Et],et),$e!==null&&(s&&$e.alternate!==null&&mt.delete($e.key===null?Et:$e.key),B=y($e,B,Et),Mt===null?gt=$e:Mt.sibling=$e,Mt=$e);return s&&mt.forEach(function(fr){return a(H,fr)}),Gt&&ga(H,Et),gt}function bt(H,B,G,et){if(G==null)throw Error(i(151));for(var gt=null,Mt=null,mt=B,Et=B=0,$e=null,Ht=G.next();mt!==null&&!Ht.done;Et++,Ht=G.next()){mt.index>Et?($e=mt,mt=null):$e=mt.sibling;var fr=W(H,mt,Ht.value,et);if(fr===null){mt===null&&(mt=$e);break}s&&mt&&fr.alternate===null&&a(H,mt),B=y(fr,B,Et),Mt===null?gt=fr:Mt.sibling=fr,Mt=fr,mt=$e}if(Ht.done)return l(H,mt),Gt&&ga(H,Et),gt;if(mt===null){for(;!Ht.done;Et++,Ht=G.next())Ht=it(H,Ht.value,et),Ht!==null&&(B=y(Ht,B,Et),Mt===null?gt=Ht:Mt.sibling=Ht,Mt=Ht);return Gt&&ga(H,Et),gt}for(mt=h(mt);!Ht.done;Et++,Ht=G.next())Ht=K(mt,H,Et,Ht.value,et),Ht!==null&&(s&&Ht.alternate!==null&&mt.delete(Ht.key===null?Et:Ht.key),B=y(Ht,B,Et),Mt===null?gt=Ht:Mt.sibling=Ht,Mt=Ht);return s&&mt.forEach(function(lC){return a(H,lC)}),Gt&&ga(H,Et),gt}function ne(H,B,G,et){if(typeof G=="object"&&G!==null&&G.type===A&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var gt=G.key;B!==null;){if(B.key===gt){if(gt=G.type,gt===A){if(B.tag===7){l(H,B.sibling),et=p(B,G.props.children),et.return=H,H=et;break t}}else if(B.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===C&&o0(gt)===B.type){l(H,B.sibling),et=p(B,G.props),lc(et,G),et.return=H,H=et;break t}l(H,B);break}else a(H,B);B=B.sibling}G.type===A?(et=fa(G.props.children,H.mode,et,G.key),et.return=H,H=et):(et=vh(G.type,G.key,G.props,null,H.mode,et),lc(et,G),et.return=H,H=et)}return T(H);case S:t:{for(gt=G.key;B!==null;){if(B.key===gt)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){l(H,B.sibling),et=p(B,G.children||[]),et.return=H,H=et;break t}else{l(H,B);break}else a(H,B);B=B.sibling}et=xg(G,H.mode,et),et.return=H,H=et}return T(H);case C:return gt=G._init,G=gt(G._payload),ne(H,B,G,et)}if(vt(G))return At(H,B,G,et);if(U(G)){if(gt=U(G),typeof gt!="function")throw Error(i(150));return G=gt.call(G),bt(H,B,G,et)}if(typeof G.then=="function")return ne(H,B,Vh(G),et);if(G.$$typeof===F)return ne(H,B,Sh(H,G),et);Lh(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(l(H,B.sibling),et=p(B,G),et.return=H,H=et):(l(H,B),et=Ag(G,H.mode,et),et.return=H,H=et),T(H)):l(H,B)}return function(H,B,G,et){try{oc=0;var gt=ne(H,B,G,et);return Ao=null,gt}catch(mt){if(mt===Zl||mt===Ah)throw mt;var Mt=Dn(29,mt,null,H.mode);return Mt.lanes=et,Mt.return=H,Mt}finally{}}}var xo=l0(!0),c0=l0(!1),$n=rt(null),Ii=null;function Xs(s){var a=s.alternate;lt(Ve,Ve.current&1),lt($n,s),Ii===null&&(a===null||Eo.current!==null||a.memoizedState!==null)&&(Ii=s)}function u0(s){if(s.tag===22){if(lt(Ve,Ve.current),lt($n,s),Ii===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ii=s)}}else Zs()}function Zs(){lt(Ve,Ve.current),lt($n,$n.current)}function hs(s){ut($n),Ii===s&&(Ii=null),ut(Ve)}var Ve=rt(0);function Uh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Wp(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function rp(s,a,l,h){a=s.memoizedState,l=l(h,a),l=l==null?a:m({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var ap={enqueueSetState:function(s,a,l){s=s._reactInternals;var h=Nn(),p=Ws(h);p.payload=a,l!=null&&(p.callback=l),a=Ks(s,p,h),a!==null&&(Pn(a,s,h),tc(a,s,h))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var h=Nn(),p=Ws(h);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Ks(s,p,h),a!==null&&(Pn(a,s,h),tc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Nn(),h=Ws(l);h.tag=2,a!=null&&(h.callback=a),a=Ks(s,h,l),a!==null&&(Pn(a,s,l),tc(a,s,l))}};function h0(s,a,l,h,p,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,T):a.prototype&&a.prototype.isPureReactComponent?!ql(l,h)||!ql(p,y):!0}function f0(s,a,l,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==s&&ap.enqueueReplaceState(a,a.state,null)}function Ea(s,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(s=s.defaultProps){l===a&&(l=m({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var zh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function d0(s){zh(s)}function g0(s){console.error(s)}function p0(s){zh(s)}function Bh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function m0(s,a,l){try{var h=s.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function op(s,a,l){return l=Ws(l),l.tag=3,l.payload={element:null},l.callback=function(){Bh(s,a)},l}function y0(s){return s=Ws(s),s.tag=3,s}function _0(s,a,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=h.value;s.payload=function(){return p(y)},s.callback=function(){m0(a,l,h)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){m0(a,l,h),typeof p!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var w=h.stack;this.componentDidCatch(h.value,{componentStack:w!==null?w:""})})}function lR(s,a,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&Kl(a,l,p,!0),l=$n.current,l!==null){switch(l.tag){case 13:return Ii===null?Mp():l.alternate===null&&ye===0&&(ye=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===Vg?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),kp(s,h,p)),!1;case 22:return l.flags|=65536,h===Vg?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),kp(s,h,p)),!1}throw Error(i(435,l.tag))}return kp(s,h,p),Mp(),!1}if(Gt)return a=$n.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,h!==Ig&&(s=Error(i(422),{cause:h}),Wl(Fn(s,l)))):(h!==Ig&&(a=Error(i(423),{cause:h}),Wl(Fn(a,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,h=Fn(h,l),p=op(s.stateNode,h,p),zg(s,p),ye!==4&&(ye=2)),!1;var y=Error(i(520),{cause:h});if(y=Fn(y,l),pc===null?pc=[y]:pc.push(y),ye!==4&&(ye=2),a===null)return!0;h=Fn(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=op(l.stateNode,h,s),zg(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(sr===null||!sr.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=y0(p),_0(p,s,l,h),zg(l,p),!1}l=l.return}while(l!==null);return!1}var v0=Error(i(461)),Ge=!1;function Ze(s,a,l,h){a.child=s===null?c0(a,null,l,h):xo(a,s.child,l,h)}function b0(s,a,l,h,p){l=l.render;var y=a.ref;if("ref"in h){var T={};for(var w in h)w!=="ref"&&(T[w]=h[w])}else T=h;return _a(a),h=qg(s,a,l,T,y,p),w=Gg(),s!==null&&!Ge?(Yg(s,a,p),fs(s,a,p)):(Gt&&w&&Rg(a),a.flags|=1,Ze(s,a,h,p),a.child)}function E0(s,a,l,h,p){if(s===null){var y=l.type;return typeof y=="function"&&!wg(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,T0(s,a,y,h,p)):(s=vh(l.type,null,h,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!pp(s,p)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:ql,l(T,h)&&s.ref===a.ref)return fs(s,a,p)}return a.flags|=1,s=rs(y,h),s.ref=a.ref,s.return=a,a.child=s}function T0(s,a,l,h,p){if(s!==null){var y=s.memoizedProps;if(ql(y,h)&&s.ref===a.ref)if(Ge=!1,a.pendingProps=h=y,pp(s,p))(s.flags&131072)!==0&&(Ge=!0);else return a.lanes=s.lanes,fs(s,a,p)}return lp(s,a,l,h,p)}function S0(s,a,l){var h=a.pendingProps,p=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=y!==null?y.baseLanes|l:l,s!==null){for(p=a.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return w0(s,a,h,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&wh(a,y!==null?y.cachePool:null),y!==null?Tv(a,y):jg(),u0(a);else return a.lanes=a.childLanes=536870912,w0(s,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(wh(a,y.cachePool),Tv(a,y),Zs(),a.memoizedState=null):(s!==null&&wh(a,null),jg(),Zs());return Ze(s,a,p,l),a.child}function w0(s,a,l,h){var p=Pg();return p=p===null?null:{parent:Pe._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&wh(a,null),jg(),u0(a),s!==null&&Kl(s,a,h,!0),null}function jh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function lp(s,a,l,h,p){return _a(a),l=qg(s,a,l,h,void 0,p),h=Gg(),s!==null&&!Ge?(Yg(s,a,p),fs(s,a,p)):(Gt&&h&&Rg(a),a.flags|=1,Ze(s,a,l,p),a.child)}function A0(s,a,l,h,p,y){return _a(a),a.updateQueue=null,l=wv(a,h,l,p),Sv(s),h=Gg(),s!==null&&!Ge?(Yg(s,a,y),fs(s,a,y)):(Gt&&h&&Rg(a),a.flags|=1,Ze(s,a,l,y),a.child)}function x0(s,a,l,h,p){if(_a(a),a.stateNode===null){var y=mo,T=l.contextType;typeof T=="object"&&T!==null&&(y=an(T)),y=new l(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ap,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},Lg(a),T=l.contextType,y.context=typeof T=="object"&&T!==null?an(T):mo,y.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(rp(a,l,T,h),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&ap.enqueueReplaceState(y,y.state,null),nc(a,h,y,p),ec(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var w=a.memoizedProps,k=Ea(l,w);y.props=k;var Y=y.context,J=l.contextType;T=mo,typeof J=="object"&&J!==null&&(T=an(J));var it=l.getDerivedStateFromProps;J=typeof it=="function"||typeof y.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,J||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w||Y!==T)&&f0(a,y,h,T),$s=!1;var W=a.memoizedState;y.state=W,nc(a,h,y,p),ec(),Y=a.memoizedState,w||W!==Y||$s?(typeof it=="function"&&(rp(a,l,it,h),Y=a.memoizedState),(k=$s||h0(a,l,k,h,W,Y,T))?(J||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Y),y.props=h,y.state=Y,y.context=T,h=k):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,Ug(s,a),T=a.memoizedProps,J=Ea(l,T),y.props=J,it=a.pendingProps,W=y.context,Y=l.contextType,k=mo,typeof Y=="object"&&Y!==null&&(k=an(Y)),w=l.getDerivedStateFromProps,(Y=typeof w=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==it||W!==k)&&f0(a,y,h,k),$s=!1,W=a.memoizedState,y.state=W,nc(a,h,y,p),ec();var K=a.memoizedState;T!==it||W!==K||$s||s!==null&&s.dependencies!==null&&Th(s.dependencies)?(typeof w=="function"&&(rp(a,l,w,h),K=a.memoizedState),(J=$s||h0(a,l,J,h,W,K,k)||s!==null&&s.dependencies!==null&&Th(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,K,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,K,k)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=K),y.props=h,y.state=K,y.context=k,h=J):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,jh(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=xo(a,s.child,null,p),a.child=xo(a,null,l,p)):Ze(s,a,l,p),a.memoizedState=y.state,s=a.child):s=fs(s,a,p),s}function R0(s,a,l,h){return $l(),a.flags|=256,Ze(s,a,l,h),a.child}var cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function up(s){return{baseLanes:s,cachePool:gv()}}function hp(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Wn),s}function C0(s,a,l){var h=a.pendingProps,p=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=s!==null&&s.memoizedState===null?!1:(Ve.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if(Gt){if(p?Xs(a):Zs(),Gt){var w=me,k;if(k=w){t:{for(k=w,w=Ci;k.nodeType!==8;){if(!w){w=null;break t}if(k=oi(k.nextSibling),k===null){w=null;break t}}w=k}w!==null?(a.memoizedState={dehydrated:w,treeContext:da!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},k=Dn(18,null,null,0),k.stateNode=w,k.return=a,a.child=k,yn=a,me=null,k=!0):k=!1}k||ma(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Wp(w)?a.lanes=32:a.lanes=536870912,null;hs(a)}return w=h.children,h=h.fallback,p?(Zs(),p=a.mode,w=Hh({mode:"hidden",children:w},p),h=fa(h,p,l,null),w.return=a,h.return=a,w.sibling=h,a.child=w,p=a.child,p.memoizedState=up(l),p.childLanes=hp(s,T,l),a.memoizedState=cp,h):(Xs(a),fp(a,w))}if(k=s.memoizedState,k!==null&&(w=k.dehydrated,w!==null)){if(y)a.flags&256?(Xs(a),a.flags&=-257,a=dp(s,a,l)):a.memoizedState!==null?(Zs(),a.child=s.child,a.flags|=128,a=null):(Zs(),p=h.fallback,w=a.mode,h=Hh({mode:"visible",children:h.children},w),p=fa(p,w,l,null),p.flags|=2,h.return=a,p.return=a,h.sibling=p,a.child=h,xo(a,s.child,null,l),h=a.child,h.memoizedState=up(l),h.childLanes=hp(s,T,l),a.memoizedState=cp,a=p);else if(Xs(a),Wp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var Y=T.dgst;T=Y,h=Error(i(419)),h.stack="",h.digest=T,Wl({value:h,source:null,stack:null}),a=dp(s,a,l)}else if(Ge||Kl(s,a,l,!1),T=(l&s.childLanes)!==0,Ge||T){if(T=ae,T!==null&&(h=l&-l,h=(h&42)!==0?1:zs(h),h=(h&(T.suspendedLanes|l))!==0?0:h,h!==0&&h!==k.retryLane))throw k.retryLane=h,po(s,h),Pn(T,s,h),v0;w.data==="$?"||Mp(),a=dp(s,a,l)}else w.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=k.treeContext,me=oi(w.nextSibling),yn=a,Gt=!0,pa=null,Ci=!1,s!==null&&(Gn[Yn++]=as,Gn[Yn++]=os,Gn[Yn++]=da,as=s.id,os=s.overflow,da=a),a=fp(a,h.children),a.flags|=4096);return a}return p?(Zs(),p=h.fallback,w=a.mode,k=s.child,Y=k.sibling,h=rs(k,{mode:"hidden",children:h.children}),h.subtreeFlags=k.subtreeFlags&65011712,Y!==null?p=rs(Y,p):(p=fa(p,w,l,null),p.flags|=2),p.return=a,h.return=a,h.sibling=p,a.child=h,h=p,p=a.child,w=s.child.memoizedState,w===null?w=up(l):(k=w.cachePool,k!==null?(Y=Pe._currentValue,k=k.parent!==Y?{parent:Y,pool:Y}:k):k=gv(),w={baseLanes:w.baseLanes|l,cachePool:k}),p.memoizedState=w,p.childLanes=hp(s,T,l),a.memoizedState=cp,h):(Xs(a),l=s.child,s=l.sibling,l=rs(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=l,a.memoizedState=null,l)}function fp(s,a){return a=Hh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Hh(s,a){return s=Dn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function dp(s,a,l){return xo(a,s.child,null,l),s=fp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function I0(s,a,l){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Mg(s.return,a,l)}function gp(s,a,l,h,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function D0(s,a,l){var h=a.pendingProps,p=h.revealOrder,y=h.tail;if(Ze(s,a,h.children,l),h=Ve.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&I0(s,l,a);else if(s.tag===19)I0(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(lt(Ve,h),p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&Uh(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),gp(a,!1,p,l,y);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Uh(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}gp(a,!0,l,null,y);break;case"together":gp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function fs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ir|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Kl(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=rs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=rs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function pp(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Th(s)))}function cR(s,a,l){switch(a.tag){case 3:re(a,a.stateNode.containerInfo),Ys(a,Pe,s.memoizedState.cache),$l();break;case 27:case 5:Us(a);break;case 4:re(a,a.stateNode.containerInfo);break;case 10:Ys(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Xs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?C0(s,a,l):(Xs(a),s=fs(s,a,l),s!==null?s.sibling:null);Xs(a);break;case 19:var p=(s.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(Kl(s,a,l,!1),h=(l&a.childLanes)!==0),p){if(h)return D0(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),lt(Ve,Ve.current),h)break;return null;case 22:case 23:return a.lanes=0,S0(s,a,l);case 24:Ys(a,Pe,s.memoizedState.cache)}return fs(s,a,l)}function M0(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ge=!0;else{if(!pp(s,l)&&(a.flags&128)===0)return Ge=!1,cR(s,a,l);Ge=(s.flags&131072)!==0}else Ge=!1,Gt&&(a.flags&1048576)!==0&&ov(a,Eh,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var h=a.elementType,p=h._init;if(h=p(h._payload),a.type=h,typeof h=="function")wg(h)?(s=Ea(h,s),a.tag=1,a=x0(null,a,h,s,l)):(a.tag=0,a=lp(null,a,h,s,l));else{if(h!=null){if(p=h.$$typeof,p===tt){a.tag=11,a=b0(null,a,h,s,l);break t}else if(p===M){a.tag=14,a=E0(null,a,h,s,l);break t}}throw a=qt(h)||h,Error(i(306,a,""))}}return a;case 0:return lp(s,a,a.type,a.pendingProps,l);case 1:return h=a.type,p=Ea(h,a.pendingProps),x0(s,a,h,p,l);case 3:t:{if(re(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var y=a.memoizedState;p=y.element,Ug(s,a),nc(a,h,null,l);var T=a.memoizedState;if(h=T.cache,Ys(a,Pe,h),h!==y.cache&&Og(a,[Pe],l,!0),ec(),h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=R0(s,a,h,l);break t}else if(h!==p){p=Fn(Error(i(424)),a),Wl(p),a=R0(s,a,h,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(me=oi(s.firstChild),yn=a,Gt=!0,pa=null,Ci=!0,l=c0(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if($l(),h===p){a=fs(s,a,l);break t}Ze(s,a,h,l)}a=a.child}return a;case 26:return jh(s,a),s===null?(l=Pb(a.type,null,a.pendingProps,null))?a.memoizedState=l:Gt||(l=a.type,s=a.pendingProps,h=nf(_t.current).createElement(l),h[Oe]=a,h[Ae]=s,tn(h,l,s),ve(h),a.stateNode=h):a.memoizedState=Pb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Us(a),s===null&&Gt&&(h=a.stateNode=Ob(a.type,a.pendingProps,_t.current),yn=a,Ci=!0,p=me,or(a.type)?(Kp=p,me=oi(h.firstChild)):me=p),Ze(s,a,a.pendingProps.children,l),jh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Gt&&((p=h=me)&&(h=LR(h,a.type,a.pendingProps,Ci),h!==null?(a.stateNode=h,yn=a,me=oi(h.firstChild),Ci=!1,p=!0):p=!1),p||ma(a)),Us(a),p=a.type,y=a.pendingProps,T=s!==null?s.memoizedProps:null,h=y.children,Gp(p,y)?h=null:T!==null&&Gp(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=qg(s,a,eR,null,null,l),wc._currentValue=p),jh(s,a),Ze(s,a,h,l),a.child;case 6:return s===null&&Gt&&((s=l=me)&&(l=UR(l,a.pendingProps,Ci),l!==null?(a.stateNode=l,yn=a,me=null,s=!0):s=!1),s||ma(a)),null;case 13:return C0(s,a,l);case 4:return re(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=xo(a,null,h,l):Ze(s,a,h,l),a.child;case 11:return b0(s,a,a.type,a.pendingProps,l);case 7:return Ze(s,a,a.pendingProps,l),a.child;case 8:return Ze(s,a,a.pendingProps.children,l),a.child;case 12:return Ze(s,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,Ys(a,a.type,h.value),Ze(s,a,h.children,l),a.child;case 9:return p=a.type._context,h=a.pendingProps.children,_a(a),p=an(p),h=h(p),a.flags|=1,Ze(s,a,h,l),a.child;case 14:return E0(s,a,a.type,a.pendingProps,l);case 15:return T0(s,a,a.type,a.pendingProps,l);case 19:return D0(s,a,l);case 31:return h=a.pendingProps,l=a.mode,h={mode:h.mode,children:h.children},s===null?(l=Hh(h,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=rs(s.child,h),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return S0(s,a,l);case 24:return _a(a),h=an(Pe),s===null?(p=Pg(),p===null&&(p=ae,y=kg(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:h,cache:p},Lg(a),Ys(a,Pe,p)):((s.lanes&l)!==0&&(Ug(s,a),nc(a,null,null,l),ec()),p=s.memoizedState,y=a.memoizedState,p.parent!==h?(p={parent:h,cache:h},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Ys(a,Pe,h)):(h=y.cache,Ys(a,Pe,h),h!==p.cache&&Og(a,[Pe],l,!0))),Ze(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ds(s){s.flags|=4}function O0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Bb(a)){if(a=$n.current,a!==null&&((Bt&4194048)===Bt?Ii!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||a!==Ii))throw Jl=Vg,pv;s.flags|=8192}}function Fh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?xl():536870912,s.lanes|=a,Do|=a)}function cc(s,a){if(!Gt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function de(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=l,a}function uR(s,a,l){var h=a.pendingProps;switch(Cg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(a),null;case 1:return de(a),null;case 3:return l=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),cs(Pe),mi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Yl(a)?ds(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,uv())),de(a),null;case 26:return l=a.memoizedState,s===null?(ds(a),l!==null?(de(a),O0(a,l)):(de(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ds(a),de(a),O0(a,l)):(de(a),a.flags&=-16777217):(s.memoizedProps!==h&&ds(a),de(a),a.flags&=-16777217),null;case 27:Yi(a),l=_t.current;var p=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==h&&ds(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return de(a),null}s=pt.current,Yl(a)?lv(a):(s=Ob(p,h,l),a.stateNode=s,ds(a))}return de(a),null;case 5:if(Yi(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&ds(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return de(a),null}if(s=pt.current,Yl(a))lv(a);else{switch(p=nf(_t.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?p.createElement("select",{is:h.is}):p.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?p.createElement(l,{is:h.is}):p.createElement(l)}}s[Oe]=a,s[Ae]=h;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=s;t:switch(tn(s,l,h),l){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&ds(a)}}return de(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&ds(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=_t.current,Yl(a)){if(s=a.stateNode,l=a.memoizedProps,h=null,p=yn,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}s[Oe]=a,s=!!(s.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Ab(s.nodeValue,l)),s||ma(a)}else s=nf(s).createTextNode(h),s[Oe]=a,a.stateNode=s}return de(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Yl(a),h!==null&&h.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Oe]=a}else $l(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;de(a),p=!1}else p=uv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(hs(a),a):(hs(a),null)}if(hs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=h!==null,s=s!==null&&s.memoizedState!==null,l){h=a.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Fh(a,a.updateQueue),de(a),null;case 4:return mi(),s===null&&Bp(a.stateNode.containerInfo),de(a),null;case 10:return cs(a.type),de(a),null;case 19:if(ut(Ve),p=a.memoizedState,p===null)return de(a),null;if(h=(a.flags&128)!==0,y=p.rendering,y===null)if(h)cc(p,!1);else{if(ye!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Uh(s),y!==null){for(a.flags|=128,cc(p,!1),s=y.updateQueue,a.updateQueue=s,Fh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)av(l,s),l=l.sibling;return lt(Ve,Ve.current&1|2),a.child}s=s.sibling}p.tail!==null&&Ln()>Yh&&(a.flags|=128,h=!0,cc(p,!1),a.lanes=4194304)}else{if(!h)if(s=Uh(y),s!==null){if(a.flags|=128,h=!0,s=s.updateQueue,a.updateQueue=s,Fh(a,s),cc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Gt)return de(a),null}else 2*Ln()-p.renderingStartTime>Yh&&l!==536870912&&(a.flags|=128,h=!0,cc(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(s=p.last,s!==null?s.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Ln(),a.sibling=null,s=Ve.current,lt(Ve,h?s&1|2:s&1),a):(de(a),null);case 22:case 23:return hs(a),Hg(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(de(a),a.subtreeFlags&6&&(a.flags|=8192)):de(a),l=a.updateQueue,l!==null&&Fh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),s!==null&&ut(va),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),cs(Pe),de(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function hR(s,a){switch(Cg(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return cs(Pe),mi(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Yi(a),null;case 13:if(hs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));$l()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ut(Ve),null;case 4:return mi(),null;case 10:return cs(a.type),null;case 22:case 23:return hs(a),Hg(),s!==null&&ut(va),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return cs(Pe),null;case 25:return null;default:return null}}function k0(s,a){switch(Cg(a),a.tag){case 3:cs(Pe),mi();break;case 26:case 27:case 5:Yi(a);break;case 4:mi();break;case 13:hs(a);break;case 19:ut(Ve);break;case 10:cs(a.type);break;case 22:case 23:hs(a),Hg(),s!==null&&ut(va);break;case 24:cs(Pe)}}function uc(s,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&s)===s){h=void 0;var y=l.create,T=l.inst;h=y(),T.destroy=h}l=l.next}while(l!==p)}}catch(w){ie(a,a.return,w)}}function Js(s,a,l){try{var h=a.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var y=p.next;h=y;do{if((h.tag&s)===s){var T=h.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,p=a;var k=l,Y=w;try{Y()}catch(J){ie(p,k,J)}}}h=h.next}while(h!==y)}}catch(J){ie(a,a.return,J)}}function N0(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Ev(a,l)}catch(h){ie(s,s.return,h)}}}function P0(s,a,l){l.props=Ea(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(h){ie(s,a,h)}}function hc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof l=="function"?s.refCleanup=l(h):l.current=h}}catch(p){ie(s,a,p)}}function Di(s,a){var l=s.ref,h=s.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){ie(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ie(s,a,p)}else l.current=null}function V0(s){var a=s.type,l=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){ie(s,s.return,p)}}function mp(s,a,l){try{var h=s.stateNode;OR(h,s.type,l,a),h[Ae]=a}catch(p){ie(s,s.return,p)}}function L0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&or(s.type)||s.tag===4}function yp(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||L0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&or(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _p(s,a,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ef));else if(h!==4&&(h===27&&or(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(_p(s,a,l),s=s.sibling;s!==null;)_p(s,a,l),s=s.sibling}function qh(s,a,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(h!==4&&(h===27&&or(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(qh(s,a,l),s=s.sibling;s!==null;)qh(s,a,l),s=s.sibling}function U0(s){var a=s.stateNode,l=s.memoizedProps;try{for(var h=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);tn(a,h,l),a[Oe]=s,a[Ae]=l}catch(y){ie(s,s.return,y)}}var gs=!1,Ee=!1,vp=!1,z0=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function fR(s,a){if(s=s.containerInfo,Fp=cf,s=Q_(s),yg(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var T=0,w=-1,k=-1,Y=0,J=0,it=s,W=null;e:for(;;){for(var K;it!==l||p!==0&&it.nodeType!==3||(w=T+p),it!==y||h!==0&&it.nodeType!==3||(k=T+h),it.nodeType===3&&(T+=it.nodeValue.length),(K=it.firstChild)!==null;)W=it,it=K;for(;;){if(it===s)break e;if(W===l&&++Y===p&&(w=T),W===y&&++J===h&&(k=T),(K=it.nextSibling)!==null)break;it=W,W=it.parentNode}it=K}l=w===-1||k===-1?null:{start:w,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(qp={focusedElem:s,selectionRange:l},cf=!1,Ye=a;Ye!==null;)if(a=Ye,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Ye=s;else for(;Ye!==null;){switch(a=Ye,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var At=Ea(l.type,p,l.elementType===l.type);s=h.getSnapshotBeforeUpdate(At,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(bt){ie(l,l.return,bt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)$p(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":$p(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Ye=s;break}Ye=a.return}}function B0(s,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:tr(s,l),h&4&&uc(5,l);break;case 1:if(tr(s,l),h&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(T){ie(l,l.return,T)}else{var p=Ea(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(T){ie(l,l.return,T)}}h&64&&N0(l),h&512&&hc(l,l.return);break;case 3:if(tr(s,l),h&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Ev(s,a)}catch(T){ie(l,l.return,T)}}break;case 27:a===null&&h&4&&U0(l);case 26:case 5:tr(s,l),a===null&&h&4&&V0(l),h&512&&hc(l,l.return);break;case 12:tr(s,l);break;case 13:tr(s,l),h&4&&F0(s,l),h&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=ER.bind(null,l),zR(s,l))));break;case 22:if(h=l.memoizedState!==null||gs,!h){a=a!==null&&a.memoizedState!==null||Ee,p=gs;var y=Ee;gs=h,(Ee=a)&&!y?er(s,l,(l.subtreeFlags&8772)!==0):tr(s,l),gs=p,Ee=y}break;case 30:break;default:tr(s,l)}}function j0(s){var a=s.alternate;a!==null&&(s.alternate=null,j0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Hs(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var he=null,bn=!1;function ps(s,a,l){for(l=l.child;l!==null;)H0(s,a,l),l=l.sibling}function H0(s,a,l){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(pe,l)}catch{}switch(l.tag){case 26:Ee||Di(l,a),ps(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ee||Di(l,a);var h=he,p=bn;or(l.type)&&(he=l.stateNode,bn=!1),ps(s,a,l),bc(l.stateNode),he=h,bn=p;break;case 5:Ee||Di(l,a);case 6:if(h=he,p=bn,he=null,ps(s,a,l),he=h,bn=p,he!==null)if(bn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(l.stateNode)}catch(y){ie(l,a,y)}else try{he.removeChild(l.stateNode)}catch(y){ie(l,a,y)}break;case 18:he!==null&&(bn?(s=he,Db(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Cc(s)):Db(he,l.stateNode));break;case 4:h=he,p=bn,he=l.stateNode.containerInfo,bn=!0,ps(s,a,l),he=h,bn=p;break;case 0:case 11:case 14:case 15:Ee||Js(2,l,a),Ee||Js(4,l,a),ps(s,a,l);break;case 1:Ee||(Di(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&P0(l,a,h)),ps(s,a,l);break;case 21:ps(s,a,l);break;case 22:Ee=(h=Ee)||l.memoizedState!==null,ps(s,a,l),Ee=h;break;default:ps(s,a,l)}}function F0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Cc(s)}catch(l){ie(a,a.return,l)}}function dR(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new z0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new z0),a;default:throw Error(i(435,s.tag))}}function bp(s,a){var l=dR(s);a.forEach(function(h){var p=TR.bind(null,s,h);l.has(h)||(l.add(h),h.then(p,p))})}function Mn(s,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],y=s,T=a,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(or(w.type)){he=w.stateNode,bn=!1;break t}break;case 5:he=w.stateNode,bn=!1;break t;case 3:case 4:he=w.stateNode.containerInfo,bn=!0;break t}w=w.return}if(he===null)throw Error(i(160));H0(y,T,p),he=null,bn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)q0(a,s),a=a.sibling}var ai=null;function q0(s,a){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Mn(a,s),On(s),h&4&&(Js(3,s,s.return),uc(3,s),Js(5,s,s.return));break;case 1:Mn(a,s),On(s),h&512&&(Ee||l===null||Di(l,l.return)),h&64&&gs&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=ai;if(Mn(a,s),On(s),h&512&&(Ee||l===null||Di(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=s.memoizedState,l===null)if(h===null)if(s.stateNode===null){t:{h=s.type,l=s.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Qr]||y[Oe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(h),p.head.insertBefore(y,p.querySelector("head > title"))),tn(y,h,l),y[Oe]=s,ve(y),h=y;break t;case"link":var T=Ub("link","href",p).get(h+(l.href||""));if(T){for(var w=0;w<T.length;w++)if(y=T[w],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(w,1);break e}}y=p.createElement(h),tn(y,h,l),p.head.appendChild(y);break;case"meta":if(T=Ub("meta","content",p).get(h+(l.content||""))){for(w=0;w<T.length;w++)if(y=T[w],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(w,1);break e}}y=p.createElement(h),tn(y,h,l),p.head.appendChild(y);break;default:throw Error(i(468,h))}y[Oe]=s,ve(y),h=y}s.stateNode=h}else zb(p,s.type,s.stateNode);else s.stateNode=Lb(p,h,s.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?zb(p,s.type,s.stateNode):Lb(p,h,s.memoizedProps)):h===null&&s.stateNode!==null&&mp(s,s.memoizedProps,l.memoizedProps)}break;case 27:Mn(a,s),On(s),h&512&&(Ee||l===null||Di(l,l.return)),l!==null&&h&4&&mp(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Mn(a,s),On(s),h&512&&(Ee||l===null||Di(l,l.return)),s.flags&32){p=s.stateNode;try{zn(p,"")}catch(K){ie(s,s.return,K)}}h&4&&s.stateNode!=null&&(p=s.memoizedProps,mp(s,p,l!==null?l.memoizedProps:p)),h&1024&&(vp=!0);break;case 6:if(Mn(a,s),On(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,l=s.stateNode;try{l.nodeValue=h}catch(K){ie(s,s.return,K)}}break;case 3:if(af=null,p=ai,ai=sf(a.containerInfo),Mn(a,s),ai=p,On(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Cc(a.containerInfo)}catch(K){ie(s,s.return,K)}vp&&(vp=!1,G0(s));break;case 4:h=ai,ai=sf(s.stateNode.containerInfo),Mn(a,s),On(s),ai=h;break;case 12:Mn(a,s),On(s);break;case 13:Mn(a,s),On(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(xp=Ln()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,bp(s,h)));break;case 22:p=s.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,Y=gs,J=Ee;if(gs=Y||p,Ee=J||k,Mn(a,s),Ee=J,gs=Y,On(s),h&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||k||gs||Ee||Ta(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){k=l=a;try{if(y=k.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=k.stateNode;var it=k.memoizedProps.style,W=it!=null&&it.hasOwnProperty("display")?it.display:null;w.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(K){ie(k,k.return,K)}}}else if(a.tag===6){if(l===null){k=a;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(K){ie(k,k.return,K)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,bp(s,l))));break;case 19:Mn(a,s),On(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,bp(s,h)));break;case 30:break;case 21:break;default:Mn(a,s),On(s)}}function On(s){var a=s.flags;if(a&2){try{for(var l,h=s.return;h!==null;){if(L0(h)){l=h;break}h=h.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=yp(s);qh(s,y,p);break;case 5:var T=l.stateNode;l.flags&32&&(zn(T,""),l.flags&=-33);var w=yp(s);qh(s,w,T);break;case 3:case 4:var k=l.stateNode.containerInfo,Y=yp(s);_p(s,Y,k);break;default:throw Error(i(161))}}catch(J){ie(s,s.return,J)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function G0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;G0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function tr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)B0(s,a.alternate,a),a=a.sibling}function Ta(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Js(4,a,a.return),Ta(a);break;case 1:Di(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&P0(a,a.return,l),Ta(a);break;case 27:bc(a.stateNode);case 26:case 5:Di(a,a.return),Ta(a);break;case 22:a.memoizedState===null&&Ta(a);break;case 30:Ta(a);break;default:Ta(a)}s=s.sibling}}function er(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,p=s,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:er(p,y,l),uc(4,y);break;case 1:if(er(p,y,l),h=y,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){ie(h,h.return,Y)}if(h=y,p=h.updateQueue,p!==null){var w=h.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)bv(k[p],w)}catch(Y){ie(h,h.return,Y)}}l&&T&64&&N0(y),hc(y,y.return);break;case 27:U0(y);case 26:case 5:er(p,y,l),l&&h===null&&T&4&&V0(y),hc(y,y.return);break;case 12:er(p,y,l);break;case 13:er(p,y,l),l&&T&4&&F0(p,y);break;case 22:y.memoizedState===null&&er(p,y,l),hc(y,y.return);break;case 30:break;default:er(p,y,l)}a=a.sibling}}function Ep(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Ql(l))}function Tp(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ql(s))}function Mi(s,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Y0(s,a,l,h),a=a.sibling}function Y0(s,a,l,h){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(s,a,l,h),p&2048&&uc(9,a);break;case 1:Mi(s,a,l,h);break;case 3:Mi(s,a,l,h),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ql(s)));break;case 12:if(p&2048){Mi(s,a,l,h),s=a.stateNode;try{var y=a.memoizedProps,T=y.id,w=y.onPostCommit;typeof w=="function"&&w(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){ie(a,a.return,k)}}else Mi(s,a,l,h);break;case 13:Mi(s,a,l,h);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?Mi(s,a,l,h):fc(s,a):y._visibility&2?Mi(s,a,l,h):(y._visibility|=2,Ro(s,a,l,h,(a.subtreeFlags&10256)!==0)),p&2048&&Ep(T,a);break;case 24:Mi(s,a,l,h),p&2048&&Tp(a.alternate,a);break;default:Mi(s,a,l,h)}}function Ro(s,a,l,h,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,T=a,w=l,k=h,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Ro(y,T,w,k,p),uc(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?Ro(y,T,w,k,p):fc(y,T):(J._visibility|=2,Ro(y,T,w,k,p)),p&&Y&2048&&Ep(T.alternate,T);break;case 24:Ro(y,T,w,k,p),p&&Y&2048&&Tp(T.alternate,T);break;default:Ro(y,T,w,k,p)}a=a.sibling}}function fc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,h=a,p=h.flags;switch(h.tag){case 22:fc(l,h),p&2048&&Ep(h.alternate,h);break;case 24:fc(l,h),p&2048&&Tp(h.alternate,h);break;default:fc(l,h)}a=a.sibling}}var dc=8192;function Co(s){if(s.subtreeFlags&dc)for(s=s.child;s!==null;)$0(s),s=s.sibling}function $0(s){switch(s.tag){case 26:Co(s),s.flags&dc&&s.memoizedState!==null&&ZR(ai,s.memoizedState,s.memoizedProps);break;case 5:Co(s);break;case 3:case 4:var a=ai;ai=sf(s.stateNode.containerInfo),Co(s),ai=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=dc,dc=16777216,Co(s),dc=a):Co(s));break;default:Co(s)}}function W0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function gc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Ye=h,Q0(h,s)}W0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)K0(s),s=s.sibling}function K0(s){switch(s.tag){case 0:case 11:case 15:gc(s),s.flags&2048&&Js(9,s,s.return);break;case 3:gc(s);break;case 12:gc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Gh(s)):gc(s);break;default:gc(s)}}function Gh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Ye=h,Q0(h,s)}W0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Js(8,a,a.return),Gh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Gh(a));break;default:Gh(a)}s=s.sibling}}function Q0(s,a){for(;Ye!==null;){var l=Ye;switch(l.tag){case 0:case 11:case 15:Js(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ql(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Ye=h;else t:for(l=s;Ye!==null;){h=Ye;var p=h.sibling,y=h.return;if(j0(h),h===l){Ye=null;break t}if(p!==null){p.return=y,Ye=p;break t}Ye=y}}}var gR={getCacheForType:function(s){var a=an(Pe),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},pR=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,Ot=null,Bt=0,Qt=0,kn=null,nr=!1,Io=!1,Sp=!1,ms=0,ye=0,ir=0,Sa=0,wp=0,Wn=0,Do=0,pc=null,En=null,Ap=!1,xp=0,Yh=1/0,$h=null,sr=null,Je=0,rr=null,Mo=null,Oo=0,Rp=0,Cp=null,X0=null,mc=0,Ip=null;function Nn(){if((Kt&2)!==0&&Bt!==0)return Bt&-Bt;if(Q.T!==null){var s=vo;return s!==0?s:Vp()}return Bs()}function Z0(){Wn===0&&(Wn=(Bt&536870912)===0||Gt?Al():536870912);var s=$n.current;return s!==null&&(s.flags|=32),Wn}function Pn(s,a,l){(s===ae&&(Qt===2||Qt===9)||s.cancelPendingCommit!==null)&&(ko(s,0),ar(s,Bt,Wn,!1)),Wi(s,l),((Kt&2)===0||s!==ae)&&(s===ae&&((Kt&2)===0&&(Sa|=l),ye===4&&ar(s,Bt,Wn,!1)),Oi(s))}function J0(s,a,l){if((Kt&6)!==0)throw Error(i(327));var h=!l&&(a&124)===0&&(a&s.expiredLanes)===0||Kr(s,a),p=h?_R(s,a):Op(s,a,!0),y=h;do{if(p===0){Io&&!h&&ar(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!mR(l)){p=Op(s,a,!1),y=!1;continue}if(p===2){if(y=a,s.errorRecoveryDisabledLanes&y)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var w=s;p=pc;var k=w.current.memoizedState.isDehydrated;if(k&&(ko(w,T).flags|=256),T=Op(w,T,!1),T!==2){if(Sp&&!k){w.errorRecoveryDisabledLanes|=y,Sa|=y,p=4;break t}y=En,En=p,y!==null&&(En===null?En=y:En.push.apply(En,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){ko(s,0),ar(s,a,0,!0);break}t:{switch(h=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ar(h,a,Wn,!nr);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=xp+300-Ln(),10<p)){if(ar(h,a,Wn,!nr),Ka(h,0,!0)!==0)break t;h.timeoutHandle=Cb(tb.bind(null,h,l,En,$h,Ap,a,Wn,Sa,Do,nr,y,2,-0,0),p);break t}tb(h,l,En,$h,Ap,a,Wn,Sa,Do,nr,y,0,-0,0)}}break}while(!0);Oi(s)}function tb(s,a,l,h,p,y,T,w,k,Y,J,it,W,K){if(s.timeoutHandle=-1,it=a.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(Sc={stylesheets:null,count:0,unsuspend:XR},$0(a),it=JR(),it!==null)){s.cancelPendingCommit=it(ob.bind(null,s,a,y,l,h,p,T,w,k,J,1,W,K)),ar(s,y,T,!Y);return}ob(s,a,y,l,h,p,T,w,k)}function mR(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!In(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ar(s,a,l,h){a&=~wp,a&=~Sa,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var p=a;0<p;){var y=31-rn(p),T=1<<y;h[y]=-1,p&=~T}l!==0&&yi(s,l,a)}function Wh(){return(Kt&6)===0?(yc(0),!1):!0}function Dp(){if(Ot!==null){if(Qt===0)var s=Ot.return;else s=Ot,ls=ya=null,$g(s),Ao=null,oc=0,s=Ot;for(;s!==null;)k0(s.alternate,s),s=s.return;Ot=null}}function ko(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,NR(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Dp(),ae=s,Ot=l=rs(s.current,null),Bt=a,Qt=0,kn=null,nr=!1,Io=Kr(s,a),Sp=!1,Do=Wn=wp=Sa=ir=ye=0,En=pc=null,Ap=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var p=31-rn(h),y=1<<p;a|=s[p],h&=~y}return ms=a,mh(),l}function eb(s,a){Dt=null,Q.H=Ph,a===Zl||a===Ah?(a=_v(),Qt=3):a===pv?(a=_v(),Qt=4):Qt=a===v0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,kn=a,Ot===null&&(ye=1,Bh(s,Fn(a,s.current)))}function nb(){var s=Q.H;return Q.H=Ph,s===null?Ph:s}function ib(){var s=Q.A;return Q.A=gR,s}function Mp(){ye=4,nr||(Bt&4194048)!==Bt&&$n.current!==null||(Io=!0),(ir&134217727)===0&&(Sa&134217727)===0||ae===null||ar(ae,Bt,Wn,!1)}function Op(s,a,l){var h=Kt;Kt|=2;var p=nb(),y=ib();(ae!==s||Bt!==a)&&($h=null,ko(s,a)),a=!1;var T=ye;t:do try{if(Qt!==0&&Ot!==null){var w=Ot,k=kn;switch(Qt){case 8:Dp(),T=6;break t;case 3:case 2:case 9:case 6:$n.current===null&&(a=!0);var Y=Qt;if(Qt=0,kn=null,No(s,w,k,Y),l&&Io){T=0;break t}break;default:Y=Qt,Qt=0,kn=null,No(s,w,k,Y)}}yR(),T=ye;break}catch(J){eb(s,J)}while(!0);return a&&s.shellSuspendCounter++,ls=ya=null,Kt=h,Q.H=p,Q.A=y,Ot===null&&(ae=null,Bt=0,mh()),T}function yR(){for(;Ot!==null;)sb(Ot)}function _R(s,a){var l=Kt;Kt|=2;var h=nb(),p=ib();ae!==s||Bt!==a?($h=null,Yh=Ln()+500,ko(s,a)):Io=Kr(s,a);t:do try{if(Qt!==0&&Ot!==null){a=Ot;var y=kn;e:switch(Qt){case 1:Qt=0,kn=null,No(s,a,y,1);break;case 2:case 9:if(mv(y)){Qt=0,kn=null,rb(a);break}a=function(){Qt!==2&&Qt!==9||ae!==s||(Qt=7),Oi(s)},y.then(a,a);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:mv(y)?(Qt=0,kn=null,rb(a)):(Qt=0,kn=null,No(s,a,y,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var w=Ot;if(!T||Bb(T)){Qt=0,kn=null;var k=w.sibling;if(k!==null)Ot=k;else{var Y=w.return;Y!==null?(Ot=Y,Kh(Y)):Ot=null}break e}}Qt=0,kn=null,No(s,a,y,5);break;case 6:Qt=0,kn=null,No(s,a,y,6);break;case 8:Dp(),ye=6;break t;default:throw Error(i(462))}}vR();break}catch(J){eb(s,J)}while(!0);return ls=ya=null,Q.H=h,Q.A=p,Kt=l,Ot!==null?0:(ae=null,Bt=0,mh(),ye)}function vR(){for(;Ot!==null&&!El();)sb(Ot)}function sb(s){var a=M0(s.alternate,s,ms);s.memoizedProps=s.pendingProps,a===null?Kh(s):Ot=a}function rb(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=A0(l,a,a.pendingProps,a.type,void 0,Bt);break;case 11:a=A0(l,a,a.pendingProps,a.type.render,a.ref,Bt);break;case 5:$g(a);default:k0(l,a),a=Ot=av(a,ms),a=M0(l,a,ms)}s.memoizedProps=s.pendingProps,a===null?Kh(s):Ot=a}function No(s,a,l,h){ls=ya=null,$g(a),Ao=null,oc=0;var p=a.return;try{if(lR(s,p,a,l,Bt)){ye=1,Bh(s,Fn(l,s.current)),Ot=null;return}}catch(y){if(p!==null)throw Ot=p,y;ye=1,Bh(s,Fn(l,s.current)),Ot=null;return}a.flags&32768?(Gt||h===1?s=!0:Io||(Bt&536870912)!==0?s=!1:(nr=s=!0,(h===2||h===9||h===3||h===6)&&(h=$n.current,h!==null&&h.tag===13&&(h.flags|=16384))),ab(a,s)):Kh(a)}function Kh(s){var a=s;do{if((a.flags&32768)!==0){ab(a,nr);return}s=a.return;var l=uR(a.alternate,a,ms);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);ye===0&&(ye=5)}function ab(s,a){do{var l=hR(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);ye=6,Ot=null}function ob(s,a,l,h,p,y,T,w,k){s.cancelPendingCommit=null;do Qh();while(Je!==0);if((Kt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Tg,Rl(s,l,y,T,w,k),s===ae&&(Ot=ae=null,Bt=0),Mo=a,rr=s,Oo=l,Rp=y,Cp=p,X0=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,SR(Gr,function(){return fb(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=Q.T,Q.T=null,p=at.p,at.p=2,T=Kt,Kt|=4;try{fR(s,a,l)}finally{Kt=T,at.p=p,Q.T=h}}Je=1,lb(),cb(),ub()}}function lb(){if(Je===1){Je=0;var s=rr,a=Mo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var h=at.p;at.p=2;var p=Kt;Kt|=4;try{q0(a,s);var y=qp,T=Q_(s.containerInfo),w=y.focusedElem,k=y.selectionRange;if(T!==w&&w&&w.ownerDocument&&K_(w.ownerDocument.documentElement,w)){if(k!==null&&yg(w)){var Y=k.start,J=k.end;if(J===void 0&&(J=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(J,w.value.length);else{var it=w.ownerDocument||document,W=it&&it.defaultView||window;if(W.getSelection){var K=W.getSelection(),At=w.textContent.length,bt=Math.min(k.start,At),ne=k.end===void 0?bt:Math.min(k.end,At);!K.extend&&bt>ne&&(T=ne,ne=bt,bt=T);var H=W_(w,bt),B=W_(w,ne);if(H&&B&&(K.rangeCount!==1||K.anchorNode!==H.node||K.anchorOffset!==H.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var G=it.createRange();G.setStart(H.node,H.offset),K.removeAllRanges(),bt>ne?(K.addRange(G),K.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),K.addRange(G))}}}}for(it=[],K=w;K=K.parentNode;)K.nodeType===1&&it.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<it.length;w++){var et=it[w];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}cf=!!Fp,qp=Fp=null}finally{Kt=p,at.p=h,Q.T=l}}s.current=a,Je=2}}function cb(){if(Je===2){Je=0;var s=rr,a=Mo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var h=at.p;at.p=2;var p=Kt;Kt|=4;try{B0(s,a.alternate,a)}finally{Kt=p,at.p=h,Q.T=l}}Je=3}}function ub(){if(Je===4||Je===3){Je=0,Gu();var s=rr,a=Mo,l=Oo,h=X0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Je=5:(Je=0,Mo=rr=null,hb(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(sr=null),Qa(l),a=a.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(pe,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=Q.T,p=at.p,at.p=2,Q.T=null;try{for(var y=s.onRecoverableError,T=0;T<h.length;T++){var w=h[T];y(w.value,{componentStack:w.stack})}}finally{Q.T=a,at.p=p}}(Oo&3)!==0&&Qh(),Oi(s),p=s.pendingLanes,(l&4194090)!==0&&(p&42)!==0?s===Ip?mc++:(mc=0,Ip=s):mc=0,yc(0)}}function hb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ql(a)))}function Qh(s){return lb(),cb(),ub(),fb()}function fb(){if(Je!==5)return!1;var s=rr,a=Rp;Rp=0;var l=Qa(Oo),h=Q.T,p=at.p;try{at.p=32>l?32:l,Q.T=null,l=Cp,Cp=null;var y=rr,T=Oo;if(Je=0,Mo=rr=null,Oo=0,(Kt&6)!==0)throw Error(i(331));var w=Kt;if(Kt|=4,K0(y.current),Y0(y,y.current,T,l),Kt=w,yc(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(pe,y)}catch{}return!0}finally{at.p=p,Q.T=h,hb(s,a)}}function db(s,a,l){a=Fn(l,a),a=op(s.stateNode,a,2),s=Ks(s,a,2),s!==null&&(Wi(s,2),Oi(s))}function ie(s,a,l){if(s.tag===3)db(s,s,l);else for(;a!==null;){if(a.tag===3){db(a,s,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(sr===null||!sr.has(h))){s=Fn(l,s),l=y0(2),h=Ks(a,l,2),h!==null&&(_0(l,h,a,s),Wi(h,2),Oi(h));break}}a=a.return}}function kp(s,a,l){var h=s.pingCache;if(h===null){h=s.pingCache=new pR;var p=new Set;h.set(a,p)}else p=h.get(a),p===void 0&&(p=new Set,h.set(a,p));p.has(l)||(Sp=!0,p.add(l),s=bR.bind(null,s,a,l),a.then(s,s))}function bR(s,a,l){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ae===s&&(Bt&l)===l&&(ye===4||ye===3&&(Bt&62914560)===Bt&&300>Ln()-xp?(Kt&2)===0&&ko(s,0):wp|=l,Do===Bt&&(Do=0)),Oi(s)}function gb(s,a){a===0&&(a=xl()),s=po(s,a),s!==null&&(Wi(s,a),Oi(s))}function ER(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),gb(s,l)}function TR(s,a){var l=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),gb(s,l)}function SR(s,a){return Fr(s,a)}var Xh=null,Po=null,Np=!1,Zh=!1,Pp=!1,wa=0;function Oi(s){s!==Po&&s.next===null&&(Po===null?Xh=Po=s:Po=Po.next=s),Zh=!0,Np||(Np=!0,AR())}function yc(s,a){if(!Pp&&Zh){Pp=!0;do for(var l=!1,h=Xh;h!==null;){if(s!==0){var p=h.pendingLanes;if(p===0)var y=0;else{var T=h.suspendedLanes,w=h.pingedLanes;y=(1<<31-rn(42|s)+1)-1,y&=p&~(T&~w),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,_b(h,y))}else y=Bt,y=Ka(h,h===ae?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Kr(h,y)||(l=!0,_b(h,y));h=h.next}while(l);Pp=!1}}function wR(){pb()}function pb(){Zh=Np=!1;var s=0;wa!==0&&(kR()&&(s=wa),wa=0);for(var a=Ln(),l=null,h=Xh;h!==null;){var p=h.next,y=mb(h,a);y===0?(h.next=null,l===null?Xh=p:l.next=p,p===null&&(Po=l)):(l=h,(s!==0||(y&3)!==0)&&(Zh=!0)),h=p}yc(s)}function mb(s,a){for(var l=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var T=31-rn(y),w=1<<T,k=p[T];k===-1?((w&l)===0||(w&h)!==0)&&(p[T]=wl(w,a)):k<=a&&(s.expiredLanes|=w),y&=~w}if(a=ae,l=Bt,l=Ka(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,l===0||s===a&&(Qt===2||Qt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&qr(h),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Kr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(h!==null&&qr(h),Qa(l)){case 2:case 8:l=$a;break;case 32:l=Gr;break;case 268435456:l=Wa;break;default:l=Gr}return h=yb.bind(null,s),l=Fr(l,h),s.callbackPriority=a,s.callbackNode=l,a}return h!==null&&h!==null&&qr(h),s.callbackPriority=2,s.callbackNode=null,2}function yb(s,a){if(Je!==0&&Je!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Qh()&&s.callbackNode!==l)return null;var h=Bt;return h=Ka(s,s===ae?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(J0(s,h,a),mb(s,Ln()),s.callbackNode!=null&&s.callbackNode===l?yb.bind(null,s):null)}function _b(s,a){if(Qh())return null;J0(s,a,!0)}function AR(){PR(function(){(Kt&6)!==0?Fr(Tl,wR):pb()})}function Vp(){return wa===0&&(wa=Al()),wa}function vb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:no(""+s)}function bb(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function xR(s,a,l,h,p){if(a==="submit"&&l&&l.stateNode===p){var y=vb((p[Ae]||null).action),T=h.submitter;T&&(a=(a=T[Ae]||null)?vb(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var w=new io("action","action",null,h,p);s.push({event:w,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(wa!==0){var k=T?bb(p,T):new FormData(p);np(l,{pending:!0,data:k,method:p.method,action:y},null,k)}}else typeof y=="function"&&(w.preventDefault(),k=T?bb(p,T):new FormData(p),np(l,{pending:!0,data:k,method:p.method,action:y},y,k))},currentTarget:p}]})}}for(var Lp=0;Lp<Eg.length;Lp++){var Up=Eg[Lp],RR=Up.toLowerCase(),CR=Up[0].toUpperCase()+Up.slice(1);ri(RR,"on"+CR)}ri(J_,"onAnimationEnd"),ri(tv,"onAnimationIteration"),ri(ev,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Gx,"onTransitionRun"),ri(Yx,"onTransitionStart"),ri($x,"onTransitionCancel"),ri(nv,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_c));function Eb(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],p=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var T=h.length-1;0<=T;T--){var w=h[T],k=w.instance,Y=w.currentTarget;if(w=w.listener,k!==y&&p.isPropagationStopped())break t;y=w,p.currentTarget=Y;try{y(p)}catch(J){zh(J)}p.currentTarget=null,y=k}else for(T=0;T<h.length;T++){if(w=h[T],k=w.instance,Y=w.currentTarget,w=w.listener,k!==y&&p.isPropagationStopped())break t;y=w,p.currentTarget=Y;try{y(p)}catch(J){zh(J)}p.currentTarget=null,y=k}}}}function kt(s,a){var l=a[Il];l===void 0&&(l=a[Il]=new Set);var h=s+"__bubble";l.has(h)||(Tb(a,s,2,!1),l.add(h))}function zp(s,a,l){var h=0;a&&(h|=4),Tb(l,s,h,a)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function Bp(s){if(!s[Jh]){s[Jh]=!0,Dl.forEach(function(l){l!=="selectionchange"&&(IR.has(l)||zp(l,!1,s),zp(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Jh]||(a[Jh]=!0,zp("selectionchange",!1,a))}}function Tb(s,a,l,h){switch(Yb(a)){case 2:var p=nC;break;case 8:p=iC;break;default:p=tm}l=p.bind(null,a,l,s),p=void 0,!jn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function jp(s,a,l,h,p){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var w=h.stateNode.containerInfo;if(w===p)break;if(T===4)for(T=h.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;w!==null;){if(T=Ki(w),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){h=y=T;continue t}w=w.parentNode}}h=h.return}eh(function(){var Y=y,J=Bn(l),it=[];t:{var W=iv.get(s);if(W!==void 0){var K=io,At=s;switch(s){case"keypress":if(Si(l)===0)break t;case"keydown":case"keyup":K=co;break;case"focusin":At="focus",K=ao;break;case"focusout":At="blur",K=ao;break;case"beforeblur":case"afterblur":K=ao;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ch;break;case J_:case tv:case ev:K=oo;break;case nv:K=hh;break;case"scroll":case"scrollend":K=nh;break;case"wheel":K=uo;break;case"copy":case"cut":case"paste":K=lo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Hl;break;case"toggle":case"beforetoggle":K=dh}var bt=(a&4)!==0,ne=!bt&&(s==="scroll"||s==="scrollend"),H=bt?W!==null?W+"Capture":null:W;bt=[];for(var B=Y,G;B!==null;){var et=B;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||H===null||(et=ia(B,H),et!=null&&bt.push(vc(B,et,G))),ne)break;B=B.return}0<bt.length&&(W=new K(W,At,null,l,J),it.push({event:W,listeners:bt}))}}if((a&7)===0){t:{if(W=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",W&&l!==Ji&&(At=l.relatedTarget||l.fromElement)&&(Ki(At)||At[Un]))break t;if((K||W)&&(W=J.window===J?J:(W=J.ownerDocument)?W.defaultView||W.parentWindow:window,K?(At=l.relatedTarget||l.toElement,K=Y,At=At?Ki(At):null,At!==null&&(ne=o(At),bt=At.tag,At!==ne||bt!==5&&bt!==27&&bt!==6)&&(At=null)):(K=null,At=Y),K!==At)){if(bt=Hn,et="onMouseLeave",H="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(bt=Hl,et="onPointerLeave",H="onPointerEnter",B="pointer"),ne=K==null?W:vi(K),G=At==null?W:vi(At),W=new bt(et,B+"leave",K,l,J),W.target=ne,W.relatedTarget=G,et=null,Ki(J)===Y&&(bt=new bt(H,B+"enter",At,l,J),bt.target=G,bt.relatedTarget=ne,et=bt),ne=et,K&&At)e:{for(bt=K,H=At,B=0,G=bt;G;G=Vo(G))B++;for(G=0,et=H;et;et=Vo(et))G++;for(;0<B-G;)bt=Vo(bt),B--;for(;0<G-B;)H=Vo(H),G--;for(;B--;){if(bt===H||H!==null&&bt===H.alternate)break e;bt=Vo(bt),H=Vo(H)}bt=null}else bt=null;K!==null&&Sb(it,W,K,bt,!1),At!==null&&ne!==null&&Sb(it,ne,At,bt,!0)}}t:{if(W=Y?vi(Y):window,K=W.nodeName&&W.nodeName.toLowerCase(),K==="select"||K==="input"&&W.type==="file")var gt=H_;else if(Ne(W))if(F_)gt=Hx;else{gt=Bx;var Mt=zx}else K=W.nodeName,!K||K.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&Pl(Y.elementType)&&(gt=H_):gt=jx;if(gt&&(gt=gt(s,Y))){ss(it,gt,l,J);break t}Mt&&Mt(s,W,Y),s==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&qs(W,"number",W.value)}switch(Mt=Y?vi(Y):window,s){case"focusin":(Ne(Mt)||Mt.contentEditable==="true")&&(ho=Mt,_g=Y,Gl=null);break;case"focusout":Gl=_g=ho=null;break;case"mousedown":vg=!0;break;case"contextmenu":case"mouseup":case"dragend":vg=!1,X_(it,l,J);break;case"selectionchange":if(qx)break;case"keydown":case"keyup":X_(it,l,J)}var mt;if(xi)t:{switch(s){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Ut?Z(s,l)&&(Et="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Et="onCompositionStart");Et&&(E&&l.locale!=="ko"&&(Ut||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Ut&&(mt=Ll()):(Ti=J,Gs="value"in Ti?Ti.value:Ti.textContent,Ut=!0)),Mt=tf(Y,Et),0<Mt.length&&(Et=new Bl(Et,s,null,l,J),it.push({event:Et,listeners:Mt}),mt?Et.data=mt:(mt=ct(l),mt!==null&&(Et.data=mt)))),(mt=v?ke(s,l):zt(s,l))&&(Et=tf(Y,"onBeforeInput"),0<Et.length&&(Mt=new Bl("onBeforeInput","beforeinput",null,l,J),it.push({event:Mt,listeners:Et}),Mt.data=mt)),xR(it,s,Y,l,J)}Eb(it,a)})}function vc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function tf(s,a){for(var l=a+"Capture",h=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ia(s,l),p!=null&&h.unshift(vc(s,p,y)),p=ia(s,a),p!=null&&h.push(vc(s,p,y))),s.tag===3)return h;s=s.return}return[]}function Vo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Sb(s,a,l,h,p){for(var y=a._reactName,T=[];l!==null&&l!==h;){var w=l,k=w.alternate,Y=w.stateNode;if(w=w.tag,k!==null&&k===h)break;w!==5&&w!==26&&w!==27||Y===null||(k=Y,p?(Y=ia(l,y),Y!=null&&T.unshift(vc(l,Y,k))):p||(Y=ia(l,y),Y!=null&&T.push(vc(l,Y,k)))),l=l.return}T.length!==0&&s.push({event:a,listeners:T})}var DR=/\r\n?/g,MR=/\u0000|\uFFFD/g;function wb(s){return(typeof s=="string"?s:""+s).replace(DR,`
`).replace(MR,"")}function Ab(s,a){return a=wb(a),wb(s)===a}function ef(){}function ee(s,a,l,h,p,y){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||zn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&zn(s,""+h);break;case"className":bi(s,"class",h);break;case"tabIndex":bi(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(s,l,h);break;case"style":Nl(s,h,y);break;case"data":if(a!=="object"){bi(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=no(""+h),s.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ee(s,a,"name",p.name,p,null),ee(s,a,"formEncType",p.formEncType,p,null),ee(s,a,"formMethod",p.formMethod,p,null),ee(s,a,"formTarget",p.formTarget,p,null)):(ee(s,a,"encType",p.encType,p,null),ee(s,a,"method",p.method,p,null),ee(s,a,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=no(""+h),s.setAttribute(l,h);break;case"onClick":h!=null&&(s.onclick=ef);break;case"onScroll":h!=null&&kt("scroll",s);break;case"onScrollEnd":h!=null&&kt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}l=no(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""+h):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":h===!0?s.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,h):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(l,h):s.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(l):s.setAttribute(l,h);break;case"popover":kt("beforetoggle",s),kt("toggle",s),Fs(s,"popover",h);break;case"xlinkActuate":Qe(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Qe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Qe(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Qe(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Qe(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Qe(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Qe(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Qe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Qe(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Fs(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=hg.get(l)||l,Fs(s,l,h))}}function Hp(s,a,l,h,p,y){switch(l){case"style":Nl(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof h=="string"?zn(s,h):(typeof h=="number"||typeof h=="bigint")&&zn(s,""+h);break;case"onScroll":h!=null&&kt("scroll",s);break;case"onScrollEnd":h!=null&&kt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=ef);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xa.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=s[Ae]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,p),typeof h=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,h,p);break t}l in s?s[l]=h:h===!0?s.setAttribute(l,""):Fs(s,l,h)}}}function tn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",s),kt("load",s);var h=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ee(s,a,y,T,l,null)}}p&&ee(s,a,"srcSet",l.srcSet,l,null),h&&ee(s,a,"src",l.src,l,null);return;case"input":kt("invalid",s);var w=y=T=p=null,k=null,Y=null;for(h in l)if(l.hasOwnProperty(h)){var J=l[h];if(J!=null)switch(h){case"name":p=J;break;case"type":T=J;break;case"checked":k=J;break;case"defaultChecked":Y=J;break;case"value":y=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:ee(s,a,h,J,l,null)}}ta(s,y,w,k,Y,T,p,!1),eo(s);return;case"select":kt("invalid",s),h=T=y=null;for(p in l)if(l.hasOwnProperty(p)&&(w=l[p],w!=null))switch(p){case"value":y=w;break;case"defaultValue":T=w;break;case"multiple":h=w;default:ee(s,a,p,w,l,null)}a=y,l=T,s.multiple=!!h,a!=null?Zi(s,!!h,a,!1):l!=null&&Zi(s,!!h,l,!0);return;case"textarea":kt("invalid",s),y=p=h=null;for(T in l)if(l.hasOwnProperty(T)&&(w=l[T],w!=null))switch(T){case"value":h=w;break;case"defaultValue":p=w;break;case"children":y=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ee(s,a,T,w,l,null)}ea(s,h,p,y),eo(s);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(h=l[k],h!=null))switch(k){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ee(s,a,k,h,l,null)}return;case"dialog":kt("beforetoggle",s),kt("toggle",s),kt("cancel",s),kt("close",s);break;case"iframe":case"object":kt("load",s);break;case"video":case"audio":for(h=0;h<_c.length;h++)kt(_c[h],s);break;case"image":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"embed":case"source":case"link":kt("error",s),kt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(h=l[Y],h!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ee(s,a,Y,h,l,null)}return;default:if(Pl(a)){for(J in l)l.hasOwnProperty(J)&&(h=l[J],h!==void 0&&Hp(s,a,J,h,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(h=l[w],h!=null&&ee(s,a,w,h,l,null))}function OR(s,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,w=null,k=null,Y=null,J=null;for(K in l){var it=l[K];if(l.hasOwnProperty(K)&&it!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=it;default:h.hasOwnProperty(K)||ee(s,a,K,null,h,it)}}for(var W in h){var K=h[W];if(it=l[W],h.hasOwnProperty(W)&&(K!=null||it!=null))switch(W){case"type":y=K;break;case"name":p=K;break;case"checked":Y=K;break;case"defaultChecked":J=K;break;case"value":T=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:K!==it&&ee(s,a,W,K,h,it)}}Cn(s,T,w,k,Y,J,y,p);return;case"select":K=T=w=W=null;for(y in l)if(k=l[y],l.hasOwnProperty(y)&&k!=null)switch(y){case"value":break;case"multiple":K=k;default:h.hasOwnProperty(y)||ee(s,a,y,null,h,k)}for(p in h)if(y=h[p],k=l[p],h.hasOwnProperty(p)&&(y!=null||k!=null))switch(p){case"value":W=y;break;case"defaultValue":w=y;break;case"multiple":T=y;default:y!==k&&ee(s,a,p,y,h,k)}a=w,l=T,h=K,W!=null?Zi(s,!!l,W,!1):!!h!=!!l&&(a!=null?Zi(s,!!l,a,!0):Zi(s,!!l,l?[]:"",!1));return;case"textarea":K=W=null;for(w in l)if(p=l[w],l.hasOwnProperty(w)&&p!=null&&!h.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ee(s,a,w,null,h,p)}for(T in h)if(p=h[T],y=l[T],h.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":W=p;break;case"defaultValue":K=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ee(s,a,T,p,h,y)}Jt(s,W,K);return;case"option":for(var At in l)if(W=l[At],l.hasOwnProperty(At)&&W!=null&&!h.hasOwnProperty(At))switch(At){case"selected":s.selected=!1;break;default:ee(s,a,At,null,h,W)}for(k in h)if(W=h[k],K=l[k],h.hasOwnProperty(k)&&W!==K&&(W!=null||K!=null))switch(k){case"selected":s.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ee(s,a,k,W,h,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in l)W=l[bt],l.hasOwnProperty(bt)&&W!=null&&!h.hasOwnProperty(bt)&&ee(s,a,bt,null,h,W);for(Y in h)if(W=h[Y],K=l[Y],h.hasOwnProperty(Y)&&W!==K&&(W!=null||K!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:ee(s,a,Y,W,h,K)}return;default:if(Pl(a)){for(var ne in l)W=l[ne],l.hasOwnProperty(ne)&&W!==void 0&&!h.hasOwnProperty(ne)&&Hp(s,a,ne,void 0,h,W);for(J in h)W=h[J],K=l[J],!h.hasOwnProperty(J)||W===K||W===void 0&&K===void 0||Hp(s,a,J,W,h,K);return}}for(var H in l)W=l[H],l.hasOwnProperty(H)&&W!=null&&!h.hasOwnProperty(H)&&ee(s,a,H,null,h,W);for(it in h)W=h[it],K=l[it],!h.hasOwnProperty(it)||W===K||W==null&&K==null||ee(s,a,it,W,h,K)}var Fp=null,qp=null;function nf(s){return s.nodeType===9?s:s.ownerDocument}function xb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Gp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Yp=null;function kR(){var s=window.event;return s&&s.type==="popstate"?s===Yp?!1:(Yp=s,!0):(Yp=null,!1)}var Cb=typeof setTimeout=="function"?setTimeout:void 0,NR=typeof clearTimeout=="function"?clearTimeout:void 0,Ib=typeof Promise=="function"?Promise:void 0,PR=typeof queueMicrotask=="function"?queueMicrotask:typeof Ib<"u"?function(s){return Ib.resolve(null).then(s).catch(VR)}:Cb;function VR(s){setTimeout(function(){throw s})}function or(s){return s==="head"}function Db(s,a){var l=a,h=0,p=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<h&&8>h){l=h;var T=s.ownerDocument;if(l&1&&bc(T.documentElement),l&2&&bc(T.body),l&4)for(l=T.head,bc(l),T=l.firstChild;T;){var w=T.nextSibling,k=T.nodeName;T[Qr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=w}}if(p===0){s.removeChild(y),Cc(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:h=l.charCodeAt(0)-48;else h=0;l=y}while(l);Cc(a)}function $p(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$p(l),Hs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function LR(s,a,l,h){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Qr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=oi(s.nextSibling),s===null)break}return null}function UR(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=oi(s.nextSibling),s===null))return null;return s}function Wp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function zR(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function oi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Kp=null;function Mb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function Ob(s,a,l){switch(a=nf(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function bc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Hs(s)}var Kn=new Map,kb=new Set;function sf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ys=at.d;at.d={f:BR,r:jR,D:HR,C:FR,L:qR,m:GR,X:$R,S:YR,M:WR};function BR(){var s=ys.f(),a=Wh();return s||a}function jR(s){var a=_i(s);a!==null&&a.tag===5&&a.type==="form"?Jv(a):ys.r(s)}var Lo=typeof document>"u"?null:document;function Nb(s,a,l){var h=Lo;if(h&&typeof a=="string"&&a){var p=xe(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),kb.has(p)||(kb.add(p),s={rel:s,crossOrigin:l,href:a},h.querySelector(p)===null&&(a=h.createElement("link"),tn(a,"link",s),ve(a),h.head.appendChild(a)))}}function HR(s){ys.D(s),Nb("dns-prefetch",s,null)}function FR(s,a){ys.C(s,a),Nb("preconnect",s,a)}function qR(s,a,l){ys.L(s,a,l);var h=Lo;if(h&&s&&a){var p='link[rel="preload"][as="'+xe(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+xe(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+xe(l.imageSizes)+'"]')):p+='[href="'+xe(s)+'"]';var y=p;switch(a){case"style":y=Uo(s);break;case"script":y=zo(s)}Kn.has(y)||(s=m({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Kn.set(y,s),h.querySelector(p)!==null||a==="style"&&h.querySelector(Ec(y))||a==="script"&&h.querySelector(Tc(y))||(a=h.createElement("link"),tn(a,"link",s),ve(a),h.head.appendChild(a)))}}function GR(s,a){ys.m(s,a);var l=Lo;if(l&&s){var h=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+xe(h)+'"][href="'+xe(s)+'"]',y=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=zo(s)}if(!Kn.has(y)&&(s=m({rel:"modulepreload",href:s},a),Kn.set(y,s),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Tc(y)))return}h=l.createElement("link"),tn(h,"link",s),ve(h),l.head.appendChild(h)}}}function YR(s,a,l){ys.S(s,a,l);var h=Lo;if(h&&s){var p=gn(h).hoistableStyles,y=Uo(s);a=a||"default";var T=p.get(y);if(!T){var w={loading:0,preload:null};if(T=h.querySelector(Ec(y)))w.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Kn.get(y))&&Qp(s,l);var k=T=h.createElement("link");ve(k),tn(k,"link",s),k._p=new Promise(function(Y,J){k.onload=Y,k.onerror=J}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,rf(T,a,h)}T={type:"stylesheet",instance:T,count:1,state:w},p.set(y,T)}}}function $R(s,a){ys.X(s,a);var l=Lo;if(l&&s){var h=gn(l).hoistableScripts,p=zo(s),y=h.get(p);y||(y=l.querySelector(Tc(p)),y||(s=m({src:s,async:!0},a),(a=Kn.get(p))&&Xp(s,a),y=l.createElement("script"),ve(y),tn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function WR(s,a){ys.M(s,a);var l=Lo;if(l&&s){var h=gn(l).hoistableScripts,p=zo(s),y=h.get(p);y||(y=l.querySelector(Tc(p)),y||(s=m({src:s,async:!0,type:"module"},a),(a=Kn.get(p))&&Xp(s,a),y=l.createElement("script"),ve(y),tn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function Pb(s,a,l,h){var p=(p=_t.current)?sf(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Uo(l.href),l=gn(p).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Uo(l.href);var y=gn(p).hoistableStyles,T=y.get(s);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,T),(y=p.querySelector(Ec(s)))&&!y._p&&(T.instance=y,T.state.loading=5),Kn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Kn.set(s,l),y||KR(p,s,l,T.state))),a&&h===null)throw Error(i(528,""));return T}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=zo(l),l=gn(p).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Uo(s){return'href="'+xe(s)+'"'}function Ec(s){return'link[rel="stylesheet"]['+s+"]"}function Vb(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function KR(s,a,l,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),tn(a,"link",l),ve(a),s.head.appendChild(a))}function zo(s){return'[src="'+xe(s)+'"]'}function Tc(s){return"script[async]"+s}function Lb(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+xe(l.href)+'"]');if(h)return a.instance=h,ve(h),h;var p=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),ve(h),tn(h,"style",p),rf(h,l.precedence,s),a.instance=h;case"stylesheet":p=Uo(l.href);var y=s.querySelector(Ec(p));if(y)return a.state.loading|=4,a.instance=y,ve(y),y;h=Vb(l),(p=Kn.get(p))&&Qp(h,p),y=(s.ownerDocument||s).createElement("link"),ve(y);var T=y;return T._p=new Promise(function(w,k){T.onload=w,T.onerror=k}),tn(y,"link",h),a.state.loading|=4,rf(y,l.precedence,s),a.instance=y;case"script":return y=zo(l.src),(p=s.querySelector(Tc(y)))?(a.instance=p,ve(p),p):(h=l,(p=Kn.get(y))&&(h=m({},l),Xp(h,p)),s=s.ownerDocument||s,p=s.createElement("script"),ve(p),tn(p,"link",h),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,rf(h,l.precedence,s));return a.instance}function rf(s,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,y=p,T=0;T<h.length;T++){var w=h[T];if(w.dataset.precedence===a)y=w;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Qp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Xp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var af=null;function Ub(s,a,l){if(af===null){var h=new Map,p=af=new Map;p.set(l,h)}else p=af,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(s))return h;for(h.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[Qr]||y[Oe]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=s+T;var w=h.get(T);w?w.push(y):h.set(T,[y])}}return h}function zb(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function QR(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Bb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Sc=null;function XR(){}function ZR(s,a,l){if(Sc===null)throw Error(i(475));var h=Sc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Uo(l.href),y=s.querySelector(Ec(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=of.bind(h),s.then(h,h)),a.state.loading|=4,a.instance=y,ve(y);return}y=s.ownerDocument||s,l=Vb(l),(p=Kn.get(p))&&Qp(l,p),y=y.createElement("link"),ve(y);var T=y;T._p=new Promise(function(w,k){T.onload=w,T.onerror=k}),tn(y,"link",l),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=of.bind(h),s.addEventListener("load",a),s.addEventListener("error",a))}}function JR(){if(Sc===null)throw Error(i(475));var s=Sc;return s.stylesheets&&s.count===0&&Zp(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Zp(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function of(){if(this.count--,this.count===0){if(this.stylesheets)Zp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var lf=null;function Zp(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,lf=new Map,a.forEach(tC,s),lf=null,of.call(s))}function tC(s,a){if(!(a.state.loading&4)){var l=lf.get(s);if(l)var h=l.get(null);else{l=new Map,lf.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),h=T)}h&&l.set(null,h)}p=a.instance,T=p.getAttribute("data-precedence"),y=l.get(T)||h,y===h&&l.set(null,p),l.set(T,p),this.count++,h=of.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var wc={$$typeof:F,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function eC(s,a,l,h,p,y,T,w){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function jb(s,a,l,h,p,y,T,w,k,Y,J,it){return s=new eC(s,a,l,T,w,k,Y,it),a=1,y===!0&&(a|=24),y=Dn(3,null,null,a),s.current=y,y.stateNode=s,a=kg(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:a},Lg(y),s}function Hb(s){return s?(s=mo,s):mo}function Fb(s,a,l,h,p,y){p=Hb(p),h.context===null?h.context=p:h.pendingContext=p,h=Ws(a),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=Ks(s,h,a),l!==null&&(Pn(l,s,a),tc(l,s,a))}function qb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Jp(s,a){qb(s,a),(s=s.alternate)&&qb(s,a)}function Gb(s){if(s.tag===13){var a=po(s,67108864);a!==null&&Pn(a,s,67108864),Jp(s,67108864)}}var cf=!0;function nC(s,a,l,h){var p=Q.T;Q.T=null;var y=at.p;try{at.p=2,tm(s,a,l,h)}finally{at.p=y,Q.T=p}}function iC(s,a,l,h){var p=Q.T;Q.T=null;var y=at.p;try{at.p=8,tm(s,a,l,h)}finally{at.p=y,Q.T=p}}function tm(s,a,l,h){if(cf){var p=em(h);if(p===null)jp(s,a,h,uf,l),$b(s,h);else if(rC(p,s,a,l,h))h.stopPropagation();else if($b(s,h),a&4&&-1<sC.indexOf(s)){for(;p!==null;){var y=_i(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=ni(y.pendingLanes);if(T!==0){var w=y;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var k=1<<31-rn(T);w.entanglements[1]|=k,T&=~k}Oi(y),(Kt&6)===0&&(Yh=Ln()+500,yc(0))}}break;case 13:w=po(y,2),w!==null&&Pn(w,y,2),Wh(),Jp(y,2)}if(y=em(h),y===null&&jp(s,a,h,uf,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else jp(s,a,h,null,l)}}function em(s){return s=Bn(s),nm(s)}var uf=null;function nm(s){if(uf=null,s=Ki(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return uf=s,null}function Yb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rg()){case Tl:return 2;case $a:return 8;case Gr:case ag:return 32;case Wa:return 268435456;default:return 32}default:return 32}}var im=!1,lr=null,cr=null,ur=null,Ac=new Map,xc=new Map,hr=[],sC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $b(s,a){switch(s){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Ac.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(a.pointerId)}}function Rc(s,a,l,h,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},a!==null&&(a=_i(a),a!==null&&Gb(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function rC(s,a,l,h,p){switch(a){case"focusin":return lr=Rc(lr,s,a,l,h,p),!0;case"dragenter":return cr=Rc(cr,s,a,l,h,p),!0;case"mouseover":return ur=Rc(ur,s,a,l,h,p),!0;case"pointerover":var y=p.pointerId;return Ac.set(y,Rc(Ac.get(y)||null,s,a,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,xc.set(y,Rc(xc.get(y)||null,s,a,l,h,p)),!0}return!1}function Wb(s){var a=Ki(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,Wu(s.priority,function(){if(l.tag===13){var h=Nn();h=zs(h);var p=po(l,h);p!==null&&Pn(p,l,h),Jp(l,h)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function hf(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=em(s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);Ji=h,l.target.dispatchEvent(h),Ji=null}else return a=_i(l),a!==null&&Gb(a),s.blockedOn=l,!1;a.shift()}return!0}function Kb(s,a,l){hf(s)&&l.delete(a)}function aC(){im=!1,lr!==null&&hf(lr)&&(lr=null),cr!==null&&hf(cr)&&(cr=null),ur!==null&&hf(ur)&&(ur=null),Ac.forEach(Kb),xc.forEach(Kb)}function ff(s,a){s.blockedOn===a&&(s.blockedOn=null,im||(im=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aC)))}var df=null;function Qb(s){df!==s&&(df=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){df===s&&(df=null);for(var a=0;a<s.length;a+=3){var l=s[a],h=s[a+1],p=s[a+2];if(typeof h!="function"){if(nm(h||l)===null)continue;break}var y=_i(l);y!==null&&(s.splice(a,3),a-=3,np(y,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function Cc(s){function a(k){return ff(k,s)}lr!==null&&ff(lr,s),cr!==null&&ff(cr,s),ur!==null&&ff(ur,s),Ac.forEach(a),xc.forEach(a);for(var l=0;l<hr.length;l++){var h=hr[l];h.blockedOn===s&&(h.blockedOn=null)}for(;0<hr.length&&(l=hr[0],l.blockedOn===null);)Wb(l),l.blockedOn===null&&hr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],y=l[h+1],T=p[Ae]||null;if(typeof y=="function")T||Qb(l);else if(T){var w=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[Ae]||null)w=T.formAction;else if(nm(p)!==null)continue}else w=T.action;typeof w=="function"?l[h+1]=w:(l.splice(h,3),h-=3),Qb(l)}}}function sm(s){this._internalRoot=s}gf.prototype.render=sm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,h=Nn();Fb(l,h,s,a,null,null)},gf.prototype.unmount=sm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Fb(s.current,2,null,s,null,null),Wh(),a[Un]=null}};function gf(s){this._internalRoot=s}gf.prototype.unstable_scheduleHydration=function(s){if(s){var a=Bs();s={blockedOn:null,target:s,priority:a};for(var l=0;l<hr.length&&a!==0&&a<hr[l].priority;l++);hr.splice(l,0,s),l===0&&Wb(s)}};var Xb=t.version;if(Xb!=="19.1.1")throw Error(i(527,Xb,"19.1.1"));at.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var oC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{pe=pf.inject(oC),Wt=pf}catch{}}return Dc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,h="",p=d0,y=g0,T=p0,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=jb(s,1,!1,null,null,l,h,p,y,T,w,null),s[Un]=a.current,Bp(s),new sm(a)},Dc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var h=!1,p="",y=d0,T=g0,w=p0,k=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),a=jb(s,1,!0,a,l??null,h,p,y,T,w,k,Y),a.context=Hb(null),l=a.current,h=Nn(),h=zs(h),p=Ws(h),p.callback=null,Ks(l,p,h),l=h,a.current.lanes=l,Wi(a,l),Oi(a),s[Un]=a.current,Bp(s),new gf(a)},Dc.version="19.1.1",Dc}var oE;function _C(){if(oE)return om.exports;oE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),om.exports=yC(),om.exports}var vC=_C();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lE="popstate";function bC(n={}){function t(i,r){let{pathname:o,search:c,hash:u}=i.location;return Nm("",{pathname:o,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:su(r)}return TC(t,e,null,n)}function fe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function fi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EC(){return Math.random().toString(36).substring(2,10)}function cE(n,t){return{usr:n.state,key:n.key,idx:t}}function Nm(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ul(t):t,state:e,key:t&&t.key||i||EC()}}function su({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function ul(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function TC(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,u="POP",f=null,d=m();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function m(){return(c.state||{idx:null}).idx}function _(){u="POP";let x=m(),V=x==null?null:x-d;d=x,f&&f({action:u,location:I.location,delta:V})}function b(x,V){u="PUSH";let z=Nm(I.location,x,V);d=m()+1;let F=cE(z,d),tt=I.createHref(z);try{c.pushState(F,"",tt)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;r.location.assign(tt)}o&&f&&f({action:u,location:I.location,delta:1})}function S(x,V){u="REPLACE";let z=Nm(I.location,x,V);d=m();let F=cE(z,d),tt=I.createHref(z);c.replaceState(F,"",tt),o&&f&&f({action:u,location:I.location,delta:0})}function A(x){return SC(x)}let I={get action(){return u},get location(){return n(r,c)},listen(x){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(lE,_),f=x,()=>{r.removeEventListener(lE,_),f=null}},createHref(x){return t(r,x)},createURL:A,encodeLocation(x){let V=A(x);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:b,replace:S,go(x){return c.go(x)}};return I}function SC(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),fe(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:su(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function iw(n,t,e="/"){return wC(n,t,e,!1)}function wC(n,t,e,i){let r=typeof t=="string"?ul(t):t,o=Is(r.pathname||"/",e);if(o==null)return null;let c=sw(n);AC(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let d=VC(o);u=NC(c[f],d,i)}return u}function sw(n,t=[],e=[],i="",r=!1){let o=(c,u,f=r,d)=>{let m={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&f)return;fe(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let _=xs([i,m.relativePath]),b=e.concat(m);c.children&&c.children.length>0&&(fe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),sw(c.children,t,b,_,f)),!(c.path==null&&!c.index)&&t.push({path:_,score:OC(_,c.index),routesMeta:b})};return n.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let f of rw(c.path))o(c,u,!0,f)}),t}function rw(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=rw(i.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&u.push(...c),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function AC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:kC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var xC=/^:[\w-]+$/,RC=3,CC=2,IC=1,DC=10,MC=-2,uE=n=>n==="*";function OC(n,t){let e=n.split("/"),i=e.length;return e.some(uE)&&(i+=MC),t&&(i+=CC),e.filter(r=>!uE(r)).reduce((r,o)=>r+(xC.test(o)?RC:o===""?IC:DC),i)}function kC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function NC(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",_=Jf({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),b=f.route;if(!_&&d&&e&&!i[i.length-1].route.index&&(_=Jf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!_)return null;Object.assign(r,_.params),c.push({params:r,pathname:xs([o,_.pathname]),pathnameBase:BC(xs([o,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(o=xs([o,_.pathnameBase]))}return c}function Jf(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=PC(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:_},b)=>{if(m==="*"){let A=u[b]||"";c=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const S=u[b];return _&&!S?d[m]=void 0:d[m]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:c,pattern:n}}function PC(n,t=!1,e=!0){fi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function VC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Is(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function LC(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?ul(n):n;return{pathname:e?e.startsWith("/")?e:UC(e,t):t,search:jC(i),hash:HC(r)}}function UC(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function hm(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function by(n){let t=zC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Ey(n,t,e,i=!1){let r;typeof n=="string"?r=ul(n):(r={...n},fe(!r.pathname||!r.pathname.includes("?"),hm("?","pathname","search",r)),fe(!r.pathname||!r.pathname.includes("#"),hm("#","pathname","hash",r)),fe(!r.search||!r.search.includes("#"),hm("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,u;if(c==null)u=e;else{let _=t.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),_-=1;r.pathname=b.join("/")}u=_>=0?t[_]:"/"}let f=LC(r,u),d=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var xs=n=>n.join("/").replace(/\/\/+/g,"/"),BC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var aw=["POST","PUT","PATCH","DELETE"];new Set(aw);var qC=["GET",...aw];new Set(qC);var hl=j.createContext(null);hl.displayName="DataRouter";var Cd=j.createContext(null);Cd.displayName="DataRouterState";j.createContext(!1);var ow=j.createContext({isTransitioning:!1});ow.displayName="ViewTransition";var GC=j.createContext(new Map);GC.displayName="Fetchers";var YC=j.createContext(null);YC.displayName="Await";var pi=j.createContext(null);pi.displayName="Navigation";var wu=j.createContext(null);wu.displayName="Location";var Gi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var Ty=j.createContext(null);Ty.displayName="RouteError";function $C(n,{relative:t}={}){fe(fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=j.useContext(pi),{hash:r,pathname:o,search:c}=Au(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:xs([e,o])),i.createHref({pathname:u,search:c,hash:r})}function fl(){return j.useContext(wu)!=null}function Pr(){return fe(fl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(wu).location}var lw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cw(n){j.useContext(pi).static||j.useLayoutEffect(n)}function Sy(){let{isDataRoute:n}=j.useContext(Gi);return n?aI():WC()}function WC(){fe(fl(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(hl),{basename:t,navigator:e}=j.useContext(pi),{matches:i}=j.useContext(Gi),{pathname:r}=Pr(),o=JSON.stringify(by(i)),c=j.useRef(!1);return cw(()=>{c.current=!0}),j.useCallback((f,d={})=>{if(fi(c.current,lw),!c.current)return;if(typeof f=="number"){e.go(f);return}let m=Ey(f,JSON.parse(o),r,d.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:xs([t,m.pathname])),(d.replace?e.replace:e.push)(m,d.state,d)},[t,e,o,r,n])}j.createContext(null);function Au(n,{relative:t}={}){let{matches:e}=j.useContext(Gi),{pathname:i}=Pr(),r=JSON.stringify(by(e));return j.useMemo(()=>Ey(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function KC(n,t){return uw(n,t)}function uw(n,t,e,i,r){fe(fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(pi),{matches:c}=j.useContext(Gi),u=c[c.length-1],f=u?u.params:{},d=u?u.pathname:"/",m=u?u.pathnameBase:"/",_=u&&u.route;{let z=_&&_.path||"";hw(d,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let b=Pr(),S;if(t){let z=typeof t=="string"?ul(t):t;fe(m==="/"||z.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=b;let A=S.pathname||"/",I=A;if(m!=="/"){let z=m.replace(/^\//,"").split("/");I="/"+A.replace(/^\//,"").split("/").slice(z.length).join("/")}let x=iw(n,{pathname:I});fi(_||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),fi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=tI(x&&x.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:xs([m,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?m:xs([m,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,e,i,r);return t&&V?j.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function QC(){let n=rI(),t=FC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),e?j.createElement("pre",{style:r},e):null,c)}var XC=j.createElement(QC,null),ZC=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.unstable_onError?this.props.unstable_onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?j.createElement(Gi.Provider,{value:this.props.routeContext},j.createElement(Ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JC({routeContext:n,match:t,children:e}){let i=j.useContext(hl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Gi.Provider,{value:n},e)}function tI(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,c=e?.errors;if(c!=null){let d=o.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);fe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,f=-1;if(e)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=d),m.route.id){let{loaderData:_,errors:b}=e,S=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||S){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,m,_)=>{let b,S=!1,A=null,I=null;e&&(b=c&&m.route.id?c[m.route.id]:void 0,A=m.route.errorElement||XC,u&&(f<0&&_===0?(hw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,I=null):f===_&&(S=!0,I=m.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,_+1)),V=()=>{let z;return b?z=A:S?z=I:m.route.Component?z=j.createElement(m.route.Component,null):m.route.element?z=m.route.element:z=d,j.createElement(JC,{match:m,routeContext:{outlet:d,matches:x,isDataRoute:e!=null},children:z})};return e&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?j.createElement(ZC,{location:e.location,revalidation:e.revalidation,component:A,error:b,children:V(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:i}):V()},null)}function wy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eI(n){let t=j.useContext(hl);return fe(t,wy(n)),t}function nI(n){let t=j.useContext(Cd);return fe(t,wy(n)),t}function iI(n){let t=j.useContext(Gi);return fe(t,wy(n)),t}function Ay(n){let t=iI(n),e=t.matches[t.matches.length-1];return fe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function sI(){return Ay("useRouteId")}function rI(){let n=j.useContext(Ty),t=nI("useRouteError"),e=Ay("useRouteError");return n!==void 0?n:t.errors?.[e]}function aI(){let{router:n}=eI("useNavigate"),t=Ay("useNavigate"),e=j.useRef(!1);return cw(()=>{e.current=!0}),j.useCallback(async(r,o={})=>{fi(e.current,lw),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var hE={};function hw(n,t,e){!t&&!hE[n]&&(hE[n]=!0,fi(!1,e))}j.memo(oI);function oI({routes:n,future:t,state:e,unstable_onError:i}){return uw(n,void 0,e,i,t)}function xy({to:n,replace:t,state:e,relative:i}){fe(fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=j.useContext(pi);fi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=j.useContext(Gi),{pathname:c}=Pr(),u=Sy(),f=Ey(n,by(o),c,i==="path"),d=JSON.stringify(f);return j.useEffect(()=>{u(JSON.parse(d),{replace:t,state:e,relative:i})},[u,d,i,t,e]),null}function Lc(n){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lI({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){fe(!fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=ul(e));let{pathname:f="/",search:d="",hash:m="",state:_=null,key:b="default"}=e,S=j.useMemo(()=>{let A=Is(f,c);return A==null?null:{location:{pathname:A,search:d,hash:m,state:_,key:b},navigationType:i}},[c,f,d,m,_,b,i]);return fi(S!=null,`<Router basename="${c}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement(pi.Provider,{value:u},j.createElement(wu.Provider,{children:t,value:S}))}function cI({children:n,location:t}){return KC(Pm(n),t)}function Pm(n,t=[]){let e=[];return j.Children.forEach(n,(i,r)=>{if(!j.isValidElement(i))return;let o=[...t,r];if(i.type===j.Fragment){e.push.apply(e,Pm(i.props.children,o));return}fe(i.type===Lc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Pm(i.props.children,o)),e.push(c)}),e}var Uf="get",zf="application/x-www-form-urlencoded";function Id(n){return n!=null&&typeof n.tagName=="string"}function uI(n){return Id(n)&&n.tagName.toLowerCase()==="button"}function hI(n){return Id(n)&&n.tagName.toLowerCase()==="form"}function fI(n){return Id(n)&&n.tagName.toLowerCase()==="input"}function dI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gI(n,t){return n.button===0&&(!t||t==="_self")&&!dI(n)}var mf=null;function pI(){if(mf===null)try{new FormData(document.createElement("form"),0),mf=!1}catch{mf=!0}return mf}var mI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(n){return n!=null&&!mI.has(n)?(fi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zf}"`),null):n}function yI(n,t){let e,i,r,o,c;if(hI(n)){let u=n.getAttribute("action");i=u?Is(u,t):null,e=n.getAttribute("method")||Uf,r=fm(n.getAttribute("enctype"))||zf,o=new FormData(n)}else if(uI(n)||fI(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?Is(f,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||Uf,r=fm(n.getAttribute("formenctype"))||fm(u.getAttribute("enctype"))||zf,o=new FormData(u,n),!pI()){let{name:d,type:m,value:_}=n;if(m==="image"){let b=d?`${d}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else d&&o.append(d,_)}}else{if(Id(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Uf,i=null,r=zf,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ry(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function _I(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Is(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function vI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function EI(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await vI(o,e);return c.links?c.links():[]}return[]}));return AI(i.flat(1).filter(bI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function fE(n,t,e,i,r,o){let c=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,u=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>c(f,d)||u(f,d)):o==="data"?t.filter((f,d)=>{let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function TI(n,t,{includeHydrateFallback:e}={}){return SI(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function SI(n){return[...new Set(n)]}function wI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function AI(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(wI(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function fw(){let n=j.useContext(hl);return Ry(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xI(){let n=j.useContext(Cd);return Ry(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Cy=j.createContext(void 0);Cy.displayName="FrameworkContext";function dw(){let n=j.useContext(Cy);return Ry(n,"You must render this element inside a <HydratedRouter> element"),n}function RI(n,t){let e=j.useContext(Cy),[i,r]=j.useState(!1),[o,c]=j.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:_}=t,b=j.useRef(null);j.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=V=>{V.forEach(z=>{c(z.isIntersecting)})},x=new IntersectionObserver(I,{threshold:.5});return b.current&&x.observe(b.current),()=>{x.disconnect()}}},[n]),j.useEffect(()=>{if(i){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[i]);let S=()=>{r(!0)},A=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Mc(u,S),onBlur:Mc(f,A),onMouseEnter:Mc(d,S),onMouseLeave:Mc(m,A),onTouchStart:Mc(_,S)}]:[!1,b,{}]}function Mc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function CI({page:n,...t}){let{router:e}=fw(),i=j.useMemo(()=>iw(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?j.createElement(DI,{page:n,matches:i,...t}):null}function II(n){let{manifest:t,routeModules:e}=dw(),[i,r]=j.useState([]);return j.useEffect(()=>{let o=!1;return EI(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function DI({page:n,matches:t,...e}){let i=Pr(),{manifest:r,routeModules:o}=dw(),{basename:c}=fw(),{loaderData:u,matches:f}=xI(),d=j.useMemo(()=>fE(n,t,f,r,i,"data"),[n,t,f,r,i]),m=j.useMemo(()=>fE(n,t,f,r,i,"assets"),[n,t,f,r,i]),_=j.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,I=!1;if(t.forEach(V=>{let z=r.routes[V.route.id];!z||!z.hasLoader||(!d.some(F=>F.route.id===V.route.id)&&V.route.id in u&&o[V.route.id]?.shouldRevalidate||z.hasClientLoader?I=!0:A.add(V.route.id))}),A.size===0)return[];let x=_I(n,c,"data");return I&&A.size>0&&x.searchParams.set("_routes",t.filter(V=>A.has(V.route.id)).map(V=>V.route.id).join(",")),[x.pathname+x.search]},[c,u,i,r,d,t,n,o]),b=j.useMemo(()=>TI(m,r),[m,r]),S=II(m);return j.createElement(j.Fragment,null,_.map(A=>j.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),b.map(A=>j.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),S.map(({key:A,link:I})=>j.createElement("link",{key:A,nonce:e.nonce,...I})))}function MI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var gw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gw&&(window.__reactRouterVersion="7.8.2")}catch{}function OI({basename:n,children:t,window:e}){let i=j.useRef();i.current==null&&(i.current=bC({window:e,v5Compat:!0}));let r=i.current,[o,c]=j.useState({action:r.action,location:r.location}),u=j.useCallback(f=>{j.startTransition(()=>c(f))},[c]);return j.useLayoutEffect(()=>r.listen(u),[r,u]),j.createElement(lI,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var pw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mw=j.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:u,target:f,to:d,preventScrollReset:m,viewTransition:_,...b},S){let{basename:A}=j.useContext(pi),I=typeof d=="string"&&pw.test(d),x,V=!1;if(typeof d=="string"&&I&&(x=d,gw))try{let D=new URL(window.location.href),N=d.startsWith("//")?new URL(D.protocol+d):new URL(d),P=Is(N.pathname,A);N.origin===D.origin&&P!=null?d=P+N.search+N.hash:V=!0}catch{fi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=$C(d,{relative:r}),[F,tt,$]=RI(i,b),ot=VI(d,{replace:c,state:u,target:f,preventScrollReset:m,relative:r,viewTransition:_});function M(D){t&&t(D),D.defaultPrevented||ot(D)}let C=j.createElement("a",{...b,...$,href:x||z,onClick:V||o?t:M,ref:MI(S,tt),target:f,"data-discover":!I&&e==="render"?"true":void 0});return F&&!I?j.createElement(j.Fragment,null,C,j.createElement(CI,{page:z})):C});mw.displayName="Link";var kI=j.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:u,children:f,...d},m){let _=Au(c,{relative:d.relative}),b=Pr(),S=j.useContext(Cd),{navigator:A,basename:I}=j.useContext(pi),x=S!=null&&jI(_)&&u===!0,V=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,z=b.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;e||(z=z.toLowerCase(),F=F?F.toLowerCase():null,V=V.toLowerCase()),F&&I&&(F=Is(F,I)||F);const tt=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let $=z===V||!r&&z.startsWith(V)&&z.charAt(tt)==="/",ot=F!=null&&(F===V||!r&&F.startsWith(V)&&F.charAt(V.length)==="/"),M={isActive:$,isPending:ot,isTransitioning:x},C=$?t:void 0,D;typeof i=="function"?D=i(M):D=[i,$?"active":null,ot?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(M):o;return j.createElement(mw,{...d,"aria-current":C,className:D,ref:m,style:N,to:c,viewTransition:u},typeof f=="function"?f(M):f)});kI.displayName="NavLink";var NI=j.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=Uf,action:u,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:_,...b},S)=>{let A=zI(),I=BI(u,{relative:d}),x=c.toLowerCase()==="get"?"get":"post",V=typeof u=="string"&&pw.test(u),z=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let tt=F.nativeEvent.submitter,$=tt?.getAttribute("formmethod")||c;A(tt||F.currentTarget,{fetcherKey:t,method:$,navigate:e,replace:r,state:o,relative:d,preventScrollReset:m,viewTransition:_})};return j.createElement("form",{ref:S,method:x,action:I,onSubmit:i?f:z,...b,"data-discover":!V&&n==="render"?"true":void 0})});NI.displayName="Form";function PI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yw(n){let t=j.useContext(hl);return fe(t,PI(n)),t}function VI(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let u=Sy(),f=Pr(),d=Au(n,{relative:o});return j.useCallback(m=>{if(gI(m,t)){m.preventDefault();let _=e!==void 0?e:su(f)===su(d);u(n,{replace:_,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[f,u,d,e,i,t,n,r,o,c])}var LI=0,UI=()=>`__${String(++LI)}__`;function zI(){let{router:n}=yw("useSubmit"),{basename:t}=j.useContext(pi),e=sI();return j.useCallback(async(i,r={})=>{let{action:o,method:c,encType:u,formData:f,body:d}=yI(i,t);if(r.navigate===!1){let m=r.fetcherKey||UI();await n.fetch(m,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||c,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||c,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function BI(n,{relative:t}={}){let{basename:e}=j.useContext(pi),i=j.useContext(Gi);fe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Au(n||".",{relative:t})},c=Pr();if(n==null){o.search=c.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(_=>_).forEach(_=>u.append("index",_));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:xs([e,o.pathname])),su(o)}function jI(n,{relative:t}={}){let e=j.useContext(ow);fe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yw("useViewTransitionState"),r=Au(n,{relative:t});if(!e.isTransitioning)return!1;let o=Is(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Is(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Jf(r.pathname,c)!=null||Jf(r.pathname,o)!=null}const HI=()=>{};var dE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},FI=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],u=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,u=c?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,m=o>>2,_=(o&3)<<4|u>>4;let b=(u&15)<<2|d>>6,S=d&63;f||(S=64,c||(b=64)),i.push(e[m],e[_],e[b],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(_w(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):FI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||d==null||_==null)throw new qI;const b=o<<2|u>>4;if(i.push(b),d!==64){const S=u<<4&240|d>>2;if(i.push(S),_!==64){const A=d<<6&192|_;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GI=function(n){const t=_w(n);return vw.encodeByteArray(t,!0)},td=function(n){return GI(n).replace(/\./g,"")},bw=function(n){try{return vw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=()=>YI().__FIREBASE_DEFAULTS__,WI=()=>{if(typeof process>"u"||typeof dE>"u")return;const n=dE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&bw(n[1]);return t&&JSON.parse(t)},Dd=()=>{try{return HI()||$I()||WI()||KI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ew=n=>Dd()?.emulatorHosts?.[n],QI=n=>{const t=Ew(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},Tw=()=>Dd()?.config,Sw=n=>Dd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ww(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[td(JSON.stringify(e)),td(JSON.stringify(c)),""].join(".")}const $c={};function JI(){const n={prod:[],emulator:[]};for(const t of Object.keys($c))$c[t]?n.emulator.push(t):n.prod.push(t);return n}function t2(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let gE=!1;function Aw(n,t){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||$c[n]===t||$c[n]||gE)return;$c[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=JI().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{gE=!0,c()},b}function m(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=t2(i),S=e("text"),A=document.getElementById(S)||document.createElement("span"),I=e("learnmore"),x=document.getElementById(I)||document.createElement("a"),V=e("preprendIcon"),z=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;u(F),m(x,I);const tt=d();f(z,V),F.append(z,A,x,tt),document.body.appendChild(F)}o?(A.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function n2(){const n=Dd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function r2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a2(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function o2(){return!n2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l2(){try{return typeof indexedDB=="object"}catch{return!1}}function c2(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="FirebaseError";class Ps extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=u2,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?h2(o,i):"Error",u=`${this.serviceName}: ${c} (${r}).`;return new Ps(r,u,i)}}function h2(n,t){return n.replace(f2,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const f2=/\{\$([^}]+)}/g;function d2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Pa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(pE(o)&&pE(c)){if(!Pa(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function pE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Uc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function zc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function g2(n,t){const e=new p2(n,t);return e.subscribe.bind(e)}class p2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");m2(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=dm),r.error===void 0&&(r.error=dm),r.complete===void 0&&(r.complete=dm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m2(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n){return n&&n._delegate?n._delegate:n}class Va{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new XI;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(v2(t))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ca){return this.instances.has(t)}getOptions(t=Ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_2(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ca){return this.component?this.component.multipleInstances?t:Ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _2(n){return n===Ca?void 0:n}function v2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new y2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Nt||(Nt={}));const E2={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},T2=Nt.INFO,S2={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},w2=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=S2[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Iy{constructor(t){this.name=t,this._logLevel=T2,this._logHandler=w2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?E2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const A2=(n,t)=>t.some(e=>n instanceof e);let mE,yE;function x2(){return mE||(mE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R2(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xw=new WeakMap,Vm=new WeakMap,Rw=new WeakMap,gm=new WeakMap,Dy=new WeakMap;function C2(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Er(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&xw.set(e,n)}).catch(()=>{}),Dy.set(t,n),t}function I2(n){if(Vm.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Vm.set(n,t)}let Lm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Vm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Rw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Er(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function D2(n){Lm=n(Lm)}function M2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(pm(this),t,...e);return Rw.set(i,t.sort?t.sort():[t]),Er(i)}:R2().includes(n)?function(...t){return n.apply(pm(this),t),Er(xw.get(this))}:function(...t){return Er(n.apply(pm(this),t))}}function O2(n){return typeof n=="function"?M2(n):(n instanceof IDBTransaction&&I2(n),A2(n,x2())?new Proxy(n,Lm):n)}function Er(n){if(n instanceof IDBRequest)return C2(n);if(gm.has(n))return gm.get(n);const t=O2(n);return t!==n&&(gm.set(n,t),Dy.set(t,n)),t}const pm=n=>Dy.get(n);function k2(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),u=Er(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Er(c.result),f.oldVersion,f.newVersion,Er(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const N2=["get","getKey","getAll","getAllKeys","count"],P2=["put","add","delete","clear"],mm=new Map;function _E(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(mm.get(t))return mm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=P2.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||N2.includes(e)))return;const o=async function(c,...u){const f=this.transaction(c,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),r&&f.done]))[0]};return mm.set(t,o),o}D2(n=>({...n,get:(t,e,i)=>_E(t,e)||n.get(t,e,i),has:(t,e)=>!!_E(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(L2(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function L2(n){return n.getComponent()?.type==="VERSION"}const Um="@firebase/app",vE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Iy("@firebase/app"),U2="@firebase/app-compat",z2="@firebase/analytics-compat",B2="@firebase/analytics",j2="@firebase/app-check-compat",H2="@firebase/app-check",F2="@firebase/auth",q2="@firebase/auth-compat",G2="@firebase/database",Y2="@firebase/data-connect",$2="@firebase/database-compat",W2="@firebase/functions",K2="@firebase/functions-compat",Q2="@firebase/installations",X2="@firebase/installations-compat",Z2="@firebase/messaging",J2="@firebase/messaging-compat",tD="@firebase/performance",eD="@firebase/performance-compat",nD="@firebase/remote-config",iD="@firebase/remote-config-compat",sD="@firebase/storage",rD="@firebase/storage-compat",aD="@firebase/firestore",oD="@firebase/ai",lD="@firebase/firestore-compat",cD="firebase",uD="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",hD={[Um]:"fire-core",[U2]:"fire-core-compat",[B2]:"fire-analytics",[z2]:"fire-analytics-compat",[H2]:"fire-app-check",[j2]:"fire-app-check-compat",[F2]:"fire-auth",[q2]:"fire-auth-compat",[G2]:"fire-rtdb",[Y2]:"fire-data-connect",[$2]:"fire-rtdb-compat",[W2]:"fire-fn",[K2]:"fire-fn-compat",[Q2]:"fire-iid",[X2]:"fire-iid-compat",[Z2]:"fire-fcm",[J2]:"fire-fcm-compat",[tD]:"fire-perf",[eD]:"fire-perf-compat",[nD]:"fire-rc",[iD]:"fire-rc-compat",[sD]:"fire-gcs",[rD]:"fire-gcs-compat",[aD]:"fire-fst",[lD]:"fire-fst-compat",[oD]:"fire-vertex","fire-js":"fire-js",[cD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,fD=new Map,Bm=new Map;function bE(n,t){try{n.container.addComponent(t)}catch(e){Ds.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function tl(n){const t=n.name;if(Bm.has(t))return Ds.debug(`There were multiple attempts to register component ${t}.`),!1;Bm.set(t,n);for(const e of ed.values())bE(e,n);for(const e of fD.values())bE(e,n);return!0}function My(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new xu("app","Firebase",dD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=uD;function Cw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:zm,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Tr.create("bad-app-name",{appName:String(r)});if(e||(e=Tw()),!e)throw Tr.create("no-options");const o=ed.get(r);if(o){if(Pa(e,o.options)&&Pa(i,o.config))return o;throw Tr.create("duplicate-app",{appName:r})}const c=new b2(r);for(const f of Bm.values())c.addComponent(f);const u=new gD(e,i,c);return ed.set(r,u),u}function Iw(n=zm){const t=ed.get(n);if(!t&&n===zm&&Tw())return Cw();if(!t)throw Tr.create("no-app",{appName:n});return t}function Sr(n,t,e){let i=hD[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ds.warn(c.join(" "));return}tl(new Va(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="firebase-heartbeat-database",mD=1,ru="firebase-heartbeat-store";let ym=null;function Dw(){return ym||(ym=k2(pD,mD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ru)}catch(e){console.warn(e)}}}}).catch(n=>{throw Tr.create("idb-open",{originalErrorMessage:n.message})})),ym}async function yD(n){try{const e=(await Dw()).transaction(ru),i=await e.objectStore(ru).get(Mw(n));return await e.done,i}catch(t){if(t instanceof Ps)Ds.warn(t.message);else{const e=Tr.create("idb-get",{originalErrorMessage:t?.message});Ds.warn(e.message)}}}async function EE(n,t){try{const i=(await Dw()).transaction(ru,"readwrite");await i.objectStore(ru).put(t,Mw(n)),await i.done}catch(e){if(e instanceof Ps)Ds.warn(e.message);else{const i=Tr.create("idb-set",{originalErrorMessage:e?.message});Ds.warn(i.message)}}}function Mw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=1024,vD=30;class bD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new TD(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=TE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>vD){const r=SD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ds.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=TE(),{heartbeatsToSend:e,unsentEntries:i}=ED(this._heartbeatsCache.heartbeats),r=td(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Ds.warn(t),""}}}function TE(){return new Date().toISOString().substring(0,10)}function ED(n,t=_D){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),SE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),SE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class TD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l2()?c2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await yD(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return EE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return EE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function SE(n){return td(JSON.stringify({version:2,heartbeats:n})).length}function SD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(n){tl(new Va("platform-logger",t=>new V2(t),"PRIVATE")),tl(new Va("heartbeat",t=>new bD(t),"PRIVATE")),Sr(Um,vE,n),Sr(Um,vE,"esm2020"),Sr("fire-js","")}wD("");function Ow(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AD=Ow,kw=new xu("auth","Firebase",Ow());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Iy("@firebase/auth");function xD(n,...t){nd.logLevel<=Nt.WARN&&nd.warn(`Auth (${gl}): ${n}`,...t)}function Bf(n,...t){nd.logLevel<=Nt.ERROR&&nd.error(`Auth (${gl}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(n,...t){throw Oy(n,...t)}function Ui(n,...t){return Oy(n,...t)}function Nw(n,t,e){const i={...AD(),[t]:e};return new xu("auth","Firebase",i).create(t,{appName:n.name})}function Rs(n){return Nw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Oy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return kw.create(n,...t)}function Tt(n,t,...e){if(!n)throw Oy(t,...e)}function Ss(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Bf(t),new Error(t)}function Ms(n,t){n||Ss(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(){return typeof self<"u"&&self.location?.href||""}function RD(){return wE()==="http:"||wE()==="https:"}function wE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RD()||s2()||"connection"in navigator)?navigator.onLine:!0}function ID(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ms(e>t,"Short delay should be less than long delay!"),this.isMobile=e2()||r2()}get(){return CD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n,t){Ms(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OD=new Cu(3e4,6e4);function Vs(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Ls(n,t,e,i,r={}){return Vw(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const u=Ru({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return i2()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&dl(n.emulatorConfig.host)&&(d.credentials="include"),Pw.fetch()(await Lw(n,n.config.apiHost,e,u),d)})}async function Vw(n,t,e){n._canInitEmulator=!1;const i={...DD,...t};try{const r=new ND(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw yf(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw yf(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw yf(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw yf(n,"user-disabled",c);const m=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Nw(n,m,d);di(n,m)}}catch(r){if(r instanceof Ps)throw r;di(n,"network-request-failed",{message:String(r)})}}async function Iu(n,t,e,i,r={}){const o=await Ls(n,t,e,i,r);return"mfaPendingCredential"in o&&di(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Lw(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?ky(n.config,r):`${n.config.apiScheme}://${r}`;return MD.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function kD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ND{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ui(this.auth,"network-request-failed")),OD.get())})}}function yf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Ui(n,t,i);return r.customData._tokenResponse=e,r}function AE(n){return n!==void 0&&n.enterprise!==void 0}class PD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return kD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VD(n,t){return Ls(n,"GET","/v2/recaptchaConfig",Vs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(n,t){return Ls(n,"POST","/v1/accounts:delete",t)}async function id(n,t){return Ls(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function UD(n,t=!1){const e=je(n),i=await e.getIdToken(t),r=Ny(i);Tt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:Wc(_m(r.auth_time)),issuedAtTime:Wc(_m(r.iat)),expirationTime:Wc(_m(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function _m(n){return Number(n)*1e3}function Ny(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Bf("JWT malformed, contained fewer than 3 sections"),null;try{const r=bw(e);return r?JSON.parse(r):(Bf("Failed to decode base64 JWT payload"),null)}catch(r){return Bf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function xE(n){const t=Ny(n);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Ps&&zD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function zD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(n){const t=n.auth,e=await n.getIdToken(),i=await au(n,id(t,{idToken:e}));Tt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?Uw(r.providerUserInfo):[],c=HD(n.providerData,o),u=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,d=u?f:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new Hm(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,m)}async function jD(n){const t=je(n);await sd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HD(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Uw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(n,t){const e=await Vw(n,{},async()=>{const i=Ru({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await Lw(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:i};return n.emulatorConfig&&dl(n.emulatorConfig.host)&&(f.credentials="include"),Pw.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function qD(n,t){return Ls(n,"POST","/v2/accounts:revokeToken",Vs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):xE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const e=xE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await FD(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Wo;return i&&(Tt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(Tt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n,t){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ci{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new BD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Hm(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await au(this,this.stsTokenManager.getToken(this.auth,t));return Tt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return UD(this,t)}reload(){return jD(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await sd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Rs(this.auth));const t=await this.getIdToken();return await au(this,LD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,u=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,m=e.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:S,providerData:A,stsTokenManager:I}=e;Tt(_&&I,t,"internal-error");const x=Wo.fromJSON(this.name,I);Tt(typeof _=="string",t,"internal-error"),dr(i,t.name),dr(r,t.name),Tt(typeof b=="boolean",t,"internal-error"),Tt(typeof S=="boolean",t,"internal-error"),dr(o,t.name),dr(c,t.name),dr(u,t.name),dr(f,t.name),dr(d,t.name),dr(m,t.name);const V=new ci({uid:_,auth:t,email:r,emailVerified:b,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:x,createdAt:d,lastLoginAt:m});return A&&Array.isArray(A)&&(V.providerData=A.map(z=>({...z}))),f&&(V._redirectEventId=f),V}static async _fromIdTokenResponse(t,e,i=!1){const r=new Wo;r.updateFromServerResponse(e);const o=new ci({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await sd(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Tt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?Uw(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,u=new Wo;u.updateFromIdToken(i);const f=new ci({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:c}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Hm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;function ws(n){Ms(n instanceof Function,"Expected a class definition");let t=RE.get(n);return t?(Ms(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,RE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}zw.type="NONE";const CE=zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n,t,e){return`firebase:${n}:${t}:${e}`}class Ko{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=jf(this.userKey,r.apiKey,o),this.fullPersistenceKey=jf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await id(this.auth,{idToken:t}).catch(()=>{});return e?ci._fromGetAccountInfoResponse(this.auth,e,t):null}return ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Ko(ws(CE),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||ws(CE);const c=jf(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const m=await d._get(c);if(m){let _;if(typeof m=="string"){const b=await id(t,{idToken:m}).catch(()=>{});if(!b)break;_=await ci._fromGetAccountInfoResponse(t,b,m)}else _=ci._fromJSON(t,m);d!==o&&(u=_),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ko(o,t,i):(o=f[0],u&&await o._set(c,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(c)}catch{}})),new Ko(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Gw(t))return"Blackberry";if(Yw(t))return"Webos";if(jw(t))return"Safari";if((t.includes("chrome/")||Hw(t))&&!t.includes("edge/"))return"Chrome";if(qw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function Bw(n=dn()){return/firefox\//i.test(n)}function jw(n=dn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Hw(n=dn()){return/crios\//i.test(n)}function Fw(n=dn()){return/iemobile/i.test(n)}function qw(n=dn()){return/android/i.test(n)}function Gw(n=dn()){return/blackberry/i.test(n)}function Yw(n=dn()){return/webos/i.test(n)}function Py(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function GD(n=dn()){return Py(n)&&!!window.navigator?.standalone}function YD(){return a2()&&document.documentMode===10}function $w(n=dn()){return Py(n)||qw(n)||Yw(n)||Gw(n)||/windows phone/i.test(n)||Fw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(n,t=[]){let e;switch(n){case"Browser":e=IE(dn());break;case"Worker":e=`${IE(dn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${gl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,u)=>{try{const f=t(o);c(f)}catch(f){u(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(n,t={}){return Ls(n,"GET","/v2/passwordPolicy",Vs(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=6;class QD{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??KD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new $D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ws(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ko.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await id(this,{idToken:t}),i=await ci._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===c)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await sd(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ID()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Rs(this));const e=t?je(t):null;return e&&Tt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await WD(this),e=new QD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new xu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await qD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ws(t)||this._popupRedirectResolver;Tt(e,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[ws(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ww(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&xD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Vr(n){return je(n)}class DE{constructor(t){this.auth=t,this.observer=null,this.addObserver=g2(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZD(n){Md=n}function Kw(n){return Md.loadJS(n)}function JD(){return Md.recaptchaEnterpriseScript}function tM(){return Md.gapiScript}function eM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class nM{constructor(){this.enterprise=new iM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class iM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const sM="recaptcha-enterprise",Qw="NO_RECAPTCHA";class rM{constructor(t){this.type=sM,this.auth=Vr(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{VD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new PD(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,c(d.siteKey)}}).catch(f=>{u(f)})})}function r(o,c,u){const f=window.grecaptcha;AE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{c(d)}).catch(()=>{c(Qw)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nM().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(u=>{if(!e&&AE(window.grecaptcha))r(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=JD();f.length!==0&&(f+=u),Kw(f).then(()=>{r(u,o,c)}).catch(d=>{c(d)})}}).catch(u=>{c(u)})})}}async function ME(n,t,e,i=!1,r=!1){const o=new rM(n);let c;if(r)c=Qw;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function rd(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ME(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ME(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(n,t){const e=My(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Pa(o,t??{}))return r;di(r,"already-initialized")}return e.initialize({options:t})}function oM(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(ws);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function lM(n,t,e){const i=Vr(n);Tt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=Xw(t),{host:c,port:u}=cM(t),f=u===null?"":`:${u}`,d={url:`${o}//${c}${f}/`},m=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Tt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Tt(Pa(d,i.config.emulator)&&Pa(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,dl(c)?(ww(`${o}//${c}${f}`),Aw("Auth",!0)):uM()}function Xw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function cM(n){const t=Xw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:OE(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:OE(c)}}}function OE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function uM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ss("not implemented")}_getIdTokenResponse(t){return Ss("not implemented")}_linkToIdToken(t,e){return Ss("not implemented")}_getReauthenticationResolver(t){return Ss("not implemented")}}async function hM(n,t){return Ls(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(n,t){return Iu(n,"POST","/v1/accounts:signInWithPassword",Vs(n,t))}async function dM(n,t){return Ls(n,"POST","/v1/accounts:sendOobCode",Vs(n,t))}async function gM(n,t){return dM(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(n,t){return Iu(n,"POST","/v1/accounts:signInWithEmailLink",Vs(n,t))}async function mM(n,t){return Iu(n,"POST","/v1/accounts:signInWithEmailLink",Vs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Vy{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new ou(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new ou(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rd(t,e,"signInWithPassword",fM);case"emailLink":return pM(t,{email:this._email,oobCode:this._password});default:di(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rd(t,i,"signUpPassword",hM);case"emailLink":return mM(t,{idToken:e,email:this._email,oobCode:this._password});default:di(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n,t){return Iu(n,"POST","/v1/accounts:signInWithIdp",Vs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="http://localhost";class La extends Vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new La(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):di("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new La(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Qo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Qo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Qo(t,e)}buildRequest(){const t={requestUri:yM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ru(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vM(n){const t=Uc(zc(n)).link,e=t?Uc(zc(t)).deep_link_id:null,i=Uc(zc(n)).deep_link_id;return(i?Uc(zc(i)).link:null)||i||e||t||n}class Ly{constructor(t){const e=Uc(zc(t)),i=e.apiKey??null,r=e.oobCode??null,o=_M(e.mode??null);Tt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=vM(t);try{return new Ly(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(t,e){return ou._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Ly.parseLink(e);return Tt(i,"argument-error"),ou._fromEmailAndCode(t,i.code,i.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Zw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Du{constructor(){super("facebook.com")}static credential(t){return La._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gr.credential(t.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return La._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return pr.credential(e,i)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Du{constructor(){super("github.com")}static credential(t){return La._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mr.credential(t.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Du{constructor(){super("twitter.com")}static credential(t,e){return La._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return yr.credential(e,i)}catch{return null}}}yr.TWITTER_SIGN_IN_METHOD="twitter.com";yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(n,t){return Iu(n,"POST","/v1/accounts:signUp",Vs(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await ci._fromIdTokenResponse(t,i,r),c=kE(i);return new Ua({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=kE(i);return new Ua({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function kE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends Ps{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new ad(t,e,i,r)}}function Jw(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ad._fromErrorAndOperation(n,o,t,i):o})}async function EM(n,t,e=!1){const i=await au(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ua._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(n,t,e=!1){const{auth:i}=n;if(Xn(i.app))return Promise.reject(Rs(i));const r="reauthenticate";try{const o=await au(n,Jw(i,r,t,n),e);Tt(o.idToken,i,"internal-error");const c=Ny(o.idToken);Tt(c,i,"internal-error");const{sub:u}=c;return Tt(n.uid===u,i,"user-mismatch"),Ua._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&di(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(n,t,e=!1){if(Xn(n.app))return Promise.reject(Rs(n));const i="signIn",r=await Jw(n,i,t),o=await Ua._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function SM(n,t){return tA(Vr(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(n){const t=Vr(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function wM(n,t,e){const i=Vr(n);await rd(i,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",gM)}async function AM(n,t,e){if(Xn(n.app))return Promise.reject(Rs(n));const i=Vr(n),c=await rd(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bM).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&eA(n),f}),u=await Ua._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(u.user),u}function xM(n,t,e){return Xn(n.app)?Promise.reject(Rs(n)):SM(je(n),pl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&eA(n),i})}function RM(n,t,e,i){return je(n).onIdTokenChanged(t,e,i)}function CM(n,t,e){return je(n).beforeAuthStateChanged(t,e)}function IM(n,t,e,i){return je(n).onAuthStateChanged(t,e,i)}function DM(n){return je(n).signOut()}const od="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(od,"1"),this.storage.removeItem(od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=1e3,OM=10;class iA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$w(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,u,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);YD()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,OM):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},MM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}iA.type="LOCAL";const kM=iA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}sA.type="SESSION";const rA=sA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Od(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(c).map(async d=>d(e.origin,o)),f=await NM(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((u,f)=>{const d=Uy("",20);r.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(_){const b=_;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(b.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function VM(n){zi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function LM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UM(){return navigator?.serviceWorker?.controller||null}function zM(){return aA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="firebaseLocalStorageDb",BM=1,ld="firebaseLocalStorage",lA="fbase_key";class Mu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function kd(n,t){return n.transaction([ld],t?"readwrite":"readonly").objectStore(ld)}function jM(){const n=indexedDB.deleteDatabase(oA);return new Mu(n).toPromise()}function Fm(){const n=indexedDB.open(oA,BM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ld,{keyPath:lA})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ld)?t(i):(i.close(),await jM(),t(await Fm()))})})}async function NE(n,t,e){const i=kd(n,!0).put({[lA]:t,value:e});return new Mu(i).toPromise()}async function HM(n,t){const e=kd(n,!1).get(t),i=await new Mu(e).toPromise();return i===void 0?null:i.value}function PE(n,t){const e=kd(n,!0).delete(t);return new Mu(e).toPromise()}const FM=800,qM=3;class cA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>qM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Od._getInstance(zM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LM(),!this.activeServiceWorker)return;this.sender=new PM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||UM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fm();return await NE(t,od,"1"),await PE(t,od),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>NE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>HM(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>PE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=kd(r,!1).getAll();return new Mu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cA.type="LOCAL";const GM=cA;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(n,t){return t?ws(t):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy extends Vy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Qo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Qo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function $M(n){return tA(n.auth,new zy(n),n.bypassAuthState)}function WM(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),TM(e,new zy(n),n.bypassAuthState)}async function KM(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),EM(e,new zy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:u}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $M;case"linkViaPopup":case"linkViaRedirect":return KM;case"reauthViaPopup":case"reauthViaRedirect":return WM;default:di(this.auth,"internal-error")}}resolve(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=new Cu(2e3,1e4);class Yo extends uA{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Yo.currentPopupAction&&Yo.currentPopupAction.cancel(),Yo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const t=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,QM.get())};t()}}Yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="pendingRedirect",Hf=new Map;class ZM extends uA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Hf.get(this.auth._key());if(!t){try{const i=await JM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Hf.set(this.auth._key(),t)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JM(n,t){const e=nO(t),i=eO(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function tO(n,t){Hf.set(n._key(),t)}function eO(n){return ws(n._redirectPersistence)}function nO(n){return jf(XM,n.config.apiKey,n.name)}async function iO(n,t,e=!1){if(Xn(n.app))return Promise.reject(Rs(n));const i=Vr(n),r=YM(i,t),c=await new ZM(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=600*1e3;class rO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!aO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!hA(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ui(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sO&&this.cachedEventUids.clear(),this.cachedEventUids.has(VE(t))}saveEventToCache(t){this.cachedEventUids.add(VE(t)),this.lastProcessedEventTime=Date.now()}}function VE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function hA({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function aO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(n,t={}){return Ls(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cO=/^https?/;async function uO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await oO(n);for(const e of t)try{if(hO(e))return}catch{}di(n,"unauthorized-domain")}function hO(n){const t=jm(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!cO.test(e))return!1;if(lO.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new Cu(3e4,6e4);function LE(){const n=zi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function dO(n){return new Promise((t,e)=>{function i(){LE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{LE(),e(Ui(n,"network-request-failed"))},timeout:fO.get()})}if(zi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(zi().gapi?.load)i();else{const r=eM("iframefcb");return zi()[r]=()=>{gapi.load?i():e(Ui(n,"network-request-failed"))},Kw(`${tM()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw Ff=null,t})}let Ff=null;function gO(n){return Ff=Ff||dO(n),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new Cu(5e3,15e3),mO="__/auth/iframe",yO="emulator/auth/iframe",_O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bO(n){const t=n.config;Tt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?ky(t,yO):`https://${n.config.authDomain}/${mO}`,i={apiKey:t.apiKey,appName:n.name,v:gl},r=vO.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Ru(i).slice(1)}`}async function EO(n){const t=await gO(n),e=zi().gapi;return Tt(e,n,"internal-error"),t.open({where:document.body,url:bO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_O,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Ui(n,"network-request-failed"),u=zi().setTimeout(()=>{o(c)},pO.get());function f(){zi().clearTimeout(u),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SO=500,wO=600,AO="_blank",xO="http://localhost";class UE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RO(n,t,e,i=SO,r=wO){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f={...TO,width:i.toString(),height:r.toString(),top:o,left:c},d=dn().toLowerCase();e&&(u=Hw(d)?AO:e),Bw(d)&&(t=t||xO,f.scrollbars="yes");const m=Object.entries(f).reduce((b,[S,A])=>`${b}${S}=${A},`,"");if(GD(d)&&u!=="_self")return CO(t||"",u),new UE(null);const _=window.open(t||"",u,m);Tt(_,n,"popup-blocked");try{_.focus()}catch{}return new UE(_)}function CO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="__/auth/handler",DO="emulator/auth/handler",MO=encodeURIComponent("fac");async function zE(n,t,e,i,r,o){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:gl,eventId:r};if(t instanceof Zw){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",d2(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,_]of Object.entries({}))c[m]=_}if(t instanceof Du){const m=t.getScopes().filter(_=>_!=="");m.length>0&&(c.scopes=m.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await n._getAppCheckToken(),d=f?`#${MO}=${encodeURIComponent(f)}`:"";return`${OO(n)}?${Ru(u).slice(1)}${d}`}function OO({config:n}){return n.emulator?ky(n,DO):`https://${n.authDomain}/${IO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="webStorageSupport";class kO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rA,this._completeRedirectFn=iO,this._overrideRedirectResult=tO}async _openPopup(t,e,i,r){Ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await zE(t,e,i,jm(),r);return RO(t,o,Uy())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await zE(t,e,i,jm(),r);return VM(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Ms(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await EO(t),i=new rO(t);return e.register("authEvent",r=>(Tt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(vm,{type:vm},r=>{const o=r?.[0]?.[vm];o!==void 0&&e(!!o),di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=uO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return $w()||jw()||Py()}}const NO=kO;var BE="@firebase/auth",jE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LO(n){tl(new Va("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=i.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ww(n)},d=new XD(i,r,o,f);return oM(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),tl(new Va("auth-internal",t=>{const e=Vr(t.getProvider("auth").getImmediate());return(i=>new PO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(BE,jE,VO(n)),Sr(BE,jE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=300,zO=Sw("authIdTokenMaxAge")||UO;let HE=null;const BO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>zO)return;const r=e?.token;HE!==r&&(HE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function jO(n=Iw()){const t=My(n,"auth");if(t.isInitialized())return t.getImmediate();const e=aM(n,{popupRedirectResolver:NO,persistence:[GM,kM,rA]}),i=Sw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=BO(o.toString());CM(e,c,()=>c(e.currentUser)),RM(e,u=>c(u))}}const r=Ew("auth");return r&&lM(e,`http://${r}`),e}function HO(){return document.getElementsByTagName("head")?.[0]??document}ZD({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Ui("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",HO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LO("Browser");var FO="firebase",qO="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(FO,qO,"app");var FE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wr,fA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,C){function D(){}D.prototype=C.prototype,M.D=C.prototype,M.prototype=new D,M.prototype.constructor=M,M.C=function(N,P,U){for(var O=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)O[qt-2]=arguments[qt];return C.prototype[P].apply(N,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,C,D){D||(D=0);var N=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)N[P]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(P=0;16>P;++P)N[P]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=M.g[0],D=M.g[1],P=M.g[2];var U=M.g[3],O=C+(U^D&(P^U))+N[0]+3614090360&4294967295;C=D+(O<<7&4294967295|O>>>25),O=U+(P^C&(D^P))+N[1]+3905402710&4294967295,U=C+(O<<12&4294967295|O>>>20),O=P+(D^U&(C^D))+N[2]+606105819&4294967295,P=U+(O<<17&4294967295|O>>>15),O=D+(C^P&(U^C))+N[3]+3250441966&4294967295,D=P+(O<<22&4294967295|O>>>10),O=C+(U^D&(P^U))+N[4]+4118548399&4294967295,C=D+(O<<7&4294967295|O>>>25),O=U+(P^C&(D^P))+N[5]+1200080426&4294967295,U=C+(O<<12&4294967295|O>>>20),O=P+(D^U&(C^D))+N[6]+2821735955&4294967295,P=U+(O<<17&4294967295|O>>>15),O=D+(C^P&(U^C))+N[7]+4249261313&4294967295,D=P+(O<<22&4294967295|O>>>10),O=C+(U^D&(P^U))+N[8]+1770035416&4294967295,C=D+(O<<7&4294967295|O>>>25),O=U+(P^C&(D^P))+N[9]+2336552879&4294967295,U=C+(O<<12&4294967295|O>>>20),O=P+(D^U&(C^D))+N[10]+4294925233&4294967295,P=U+(O<<17&4294967295|O>>>15),O=D+(C^P&(U^C))+N[11]+2304563134&4294967295,D=P+(O<<22&4294967295|O>>>10),O=C+(U^D&(P^U))+N[12]+1804603682&4294967295,C=D+(O<<7&4294967295|O>>>25),O=U+(P^C&(D^P))+N[13]+4254626195&4294967295,U=C+(O<<12&4294967295|O>>>20),O=P+(D^U&(C^D))+N[14]+2792965006&4294967295,P=U+(O<<17&4294967295|O>>>15),O=D+(C^P&(U^C))+N[15]+1236535329&4294967295,D=P+(O<<22&4294967295|O>>>10),O=C+(P^U&(D^P))+N[1]+4129170786&4294967295,C=D+(O<<5&4294967295|O>>>27),O=U+(D^P&(C^D))+N[6]+3225465664&4294967295,U=C+(O<<9&4294967295|O>>>23),O=P+(C^D&(U^C))+N[11]+643717713&4294967295,P=U+(O<<14&4294967295|O>>>18),O=D+(U^C&(P^U))+N[0]+3921069994&4294967295,D=P+(O<<20&4294967295|O>>>12),O=C+(P^U&(D^P))+N[5]+3593408605&4294967295,C=D+(O<<5&4294967295|O>>>27),O=U+(D^P&(C^D))+N[10]+38016083&4294967295,U=C+(O<<9&4294967295|O>>>23),O=P+(C^D&(U^C))+N[15]+3634488961&4294967295,P=U+(O<<14&4294967295|O>>>18),O=D+(U^C&(P^U))+N[4]+3889429448&4294967295,D=P+(O<<20&4294967295|O>>>12),O=C+(P^U&(D^P))+N[9]+568446438&4294967295,C=D+(O<<5&4294967295|O>>>27),O=U+(D^P&(C^D))+N[14]+3275163606&4294967295,U=C+(O<<9&4294967295|O>>>23),O=P+(C^D&(U^C))+N[3]+4107603335&4294967295,P=U+(O<<14&4294967295|O>>>18),O=D+(U^C&(P^U))+N[8]+1163531501&4294967295,D=P+(O<<20&4294967295|O>>>12),O=C+(P^U&(D^P))+N[13]+2850285829&4294967295,C=D+(O<<5&4294967295|O>>>27),O=U+(D^P&(C^D))+N[2]+4243563512&4294967295,U=C+(O<<9&4294967295|O>>>23),O=P+(C^D&(U^C))+N[7]+1735328473&4294967295,P=U+(O<<14&4294967295|O>>>18),O=D+(U^C&(P^U))+N[12]+2368359562&4294967295,D=P+(O<<20&4294967295|O>>>12),O=C+(D^P^U)+N[5]+4294588738&4294967295,C=D+(O<<4&4294967295|O>>>28),O=U+(C^D^P)+N[8]+2272392833&4294967295,U=C+(O<<11&4294967295|O>>>21),O=P+(U^C^D)+N[11]+1839030562&4294967295,P=U+(O<<16&4294967295|O>>>16),O=D+(P^U^C)+N[14]+4259657740&4294967295,D=P+(O<<23&4294967295|O>>>9),O=C+(D^P^U)+N[1]+2763975236&4294967295,C=D+(O<<4&4294967295|O>>>28),O=U+(C^D^P)+N[4]+1272893353&4294967295,U=C+(O<<11&4294967295|O>>>21),O=P+(U^C^D)+N[7]+4139469664&4294967295,P=U+(O<<16&4294967295|O>>>16),O=D+(P^U^C)+N[10]+3200236656&4294967295,D=P+(O<<23&4294967295|O>>>9),O=C+(D^P^U)+N[13]+681279174&4294967295,C=D+(O<<4&4294967295|O>>>28),O=U+(C^D^P)+N[0]+3936430074&4294967295,U=C+(O<<11&4294967295|O>>>21),O=P+(U^C^D)+N[3]+3572445317&4294967295,P=U+(O<<16&4294967295|O>>>16),O=D+(P^U^C)+N[6]+76029189&4294967295,D=P+(O<<23&4294967295|O>>>9),O=C+(D^P^U)+N[9]+3654602809&4294967295,C=D+(O<<4&4294967295|O>>>28),O=U+(C^D^P)+N[12]+3873151461&4294967295,U=C+(O<<11&4294967295|O>>>21),O=P+(U^C^D)+N[15]+530742520&4294967295,P=U+(O<<16&4294967295|O>>>16),O=D+(P^U^C)+N[2]+3299628645&4294967295,D=P+(O<<23&4294967295|O>>>9),O=C+(P^(D|~U))+N[0]+4096336452&4294967295,C=D+(O<<6&4294967295|O>>>26),O=U+(D^(C|~P))+N[7]+1126891415&4294967295,U=C+(O<<10&4294967295|O>>>22),O=P+(C^(U|~D))+N[14]+2878612391&4294967295,P=U+(O<<15&4294967295|O>>>17),O=D+(U^(P|~C))+N[5]+4237533241&4294967295,D=P+(O<<21&4294967295|O>>>11),O=C+(P^(D|~U))+N[12]+1700485571&4294967295,C=D+(O<<6&4294967295|O>>>26),O=U+(D^(C|~P))+N[3]+2399980690&4294967295,U=C+(O<<10&4294967295|O>>>22),O=P+(C^(U|~D))+N[10]+4293915773&4294967295,P=U+(O<<15&4294967295|O>>>17),O=D+(U^(P|~C))+N[1]+2240044497&4294967295,D=P+(O<<21&4294967295|O>>>11),O=C+(P^(D|~U))+N[8]+1873313359&4294967295,C=D+(O<<6&4294967295|O>>>26),O=U+(D^(C|~P))+N[15]+4264355552&4294967295,U=C+(O<<10&4294967295|O>>>22),O=P+(C^(U|~D))+N[6]+2734768916&4294967295,P=U+(O<<15&4294967295|O>>>17),O=D+(U^(P|~C))+N[13]+1309151649&4294967295,D=P+(O<<21&4294967295|O>>>11),O=C+(P^(D|~U))+N[4]+4149444226&4294967295,C=D+(O<<6&4294967295|O>>>26),O=U+(D^(C|~P))+N[11]+3174756917&4294967295,U=C+(O<<10&4294967295|O>>>22),O=P+(C^(U|~D))+N[2]+718787259&4294967295,P=U+(O<<15&4294967295|O>>>17),O=D+(U^(P|~C))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+U&4294967295}i.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var D=C-this.blockSize,N=this.B,P=this.h,U=0;U<C;){if(P==0)for(;U<=D;)r(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<C;)if(N[P++]=M.charCodeAt(U++),P==this.blockSize){r(this,N),P=0;break}}else for(;U<C;)if(N[P++]=M[U++],P==this.blockSize){r(this,N),P=0;break}}this.h=P,this.o+=C},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var D=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=D&255,D/=256;for(this.u(M),M=Array(16),C=D=0;4>C;++C)for(var N=0;32>N;N+=8)M[D++]=this.g[C]>>>N&255;return M};function o(M,C){var D=u;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=C(M)}function c(M,C){this.h=C;for(var D=[],N=!0,P=M.length-1;0<=P;P--){var U=M[P]|0;N&&U==C||(D[P]=U,N=!1)}this.g=D}var u={};function f(M){return-128<=M&&128>M?o(M,function(C){return new c([C|0],0>C?-1:0)}):new c([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return x(d(-M));for(var C=[],D=1,N=0;M>=D;N++)C[N]=M/D|0,D*=4294967296;return new c(C,0)}function m(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return x(m(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=d(Math.pow(C,8)),N=_,P=0;P<M.length;P+=8){var U=Math.min(8,M.length-P),O=parseInt(M.substring(P,P+U),C);8>U?(U=d(Math.pow(C,U)),N=N.j(U).add(d(O))):(N=N.j(D),N=N.add(d(O)))}return N}var _=f(0),b=f(1),S=f(16777216);n=c.prototype,n.m=function(){if(I(this))return-x(this).m();for(var M=0,C=1,D=0;D<this.g.length;D++){var N=this.i(D);M+=(0<=N?N:4294967296+N)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(A(this))return"0";if(I(this))return"-"+x(this).toString(M);for(var C=d(Math.pow(M,6)),D=this,N="";;){var P=tt(D,C).g;D=V(D,P.j(C));var U=((0<D.g.length?D.g[0]:D.h)>>>0).toString(M);if(D=P,A(D))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function A(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function I(M){return M.h==-1}n.l=function(M){return M=V(this,M),I(M)?-1:A(M)?0:1};function x(M){for(var C=M.g.length,D=[],N=0;N<C;N++)D[N]=~M.g[N];return new c(D,~M.h).add(b)}n.abs=function(){return I(this)?x(this):this},n.add=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],N=0,P=0;P<=C;P++){var U=N+(this.i(P)&65535)+(M.i(P)&65535),O=(U>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);N=O>>>16,U&=65535,O&=65535,D[P]=O<<16|U}return new c(D,D[D.length-1]&-2147483648?-1:0)};function V(M,C){return M.add(x(C))}n.j=function(M){if(A(this)||A(M))return _;if(I(this))return I(M)?x(this).j(x(M)):x(x(this).j(M));if(I(M))return x(this.j(x(M)));if(0>this.l(S)&&0>M.l(S))return d(this.m()*M.m());for(var C=this.g.length+M.g.length,D=[],N=0;N<2*C;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<M.g.length;P++){var U=this.i(N)>>>16,O=this.i(N)&65535,qt=M.i(P)>>>16,vt=M.i(P)&65535;D[2*N+2*P]+=O*vt,z(D,2*N+2*P),D[2*N+2*P+1]+=U*vt,z(D,2*N+2*P+1),D[2*N+2*P+1]+=O*qt,z(D,2*N+2*P+1),D[2*N+2*P+2]+=U*qt,z(D,2*N+2*P+2)}for(N=0;N<C;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=C;N<2*C;N++)D[N]=0;return new c(D,0)};function z(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function F(M,C){this.g=M,this.h=C}function tt(M,C){if(A(C))throw Error("division by zero");if(A(M))return new F(_,_);if(I(M))return C=tt(x(M),C),new F(x(C.g),x(C.h));if(I(C))return C=tt(M,x(C)),new F(x(C.g),C.h);if(30<M.g.length){if(I(M)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var D=b,N=C;0>=N.l(M);)D=$(D),N=$(N);var P=ot(D,1),U=ot(N,1);for(N=ot(N,2),D=ot(D,2);!A(N);){var O=U.add(N);0>=O.l(M)&&(P=P.add(D),U=O),N=ot(N,1),D=ot(D,1)}return C=V(M,P.j(C)),new F(P,C)}for(P=_;0<=M.l(C);){for(D=Math.max(1,Math.floor(M.m()/C.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=d(D),O=U.j(C);I(O)||0<O.l(M);)D-=N,U=d(D),O=U.j(C);A(U)&&(U=b),P=P.add(U),M=V(M,O)}return new F(P,M)}n.A=function(M){return tt(this,M).h},n.and=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],N=0;N<C;N++)D[N]=this.i(N)&M.i(N);return new c(D,this.h&M.h)},n.or=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],N=0;N<C;N++)D[N]=this.i(N)|M.i(N);return new c(D,this.h|M.h)},n.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),D=[],N=0;N<C;N++)D[N]=this.i(N)^M.i(N);return new c(D,this.h^M.h)};function $(M){for(var C=M.g.length+1,D=[],N=0;N<C;N++)D[N]=M.i(N)<<1|M.i(N-1)>>>31;return new c(D,M.h)}function ot(M,C){var D=C>>5;C%=32;for(var N=M.g.length-D,P=[],U=0;U<N;U++)P[U]=0<C?M.i(U+D)>>>C|M.i(U+D+1)<<32-C:M.i(U+D);return new c(P,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,fA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=m,wr=c}).apply(typeof FE<"u"?FE:typeof self<"u"?self:typeof window<"u"?window:{});var _f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dA,Bc,gA,qf,qm,pA,mA,yA;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,v,E){return g==Array.prototype||g==Object.prototype||(g[v]=E.value),g};function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof _f=="object"&&_f];for(var v=0;v<g.length;++v){var E=g[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(g,v){if(v)t:{var E=i;g=g.split(".");for(var R=0;R<g.length-1;R++){var q=g[R];if(!(q in E))break t;E=E[q]}g=g[g.length-1],R=E[g],v=v(R),v!=R&&v!=null&&t(E,g,{configurable:!0,writable:!0,value:v})}}function o(g,v){g instanceof String&&(g+="");var E=0,R=!1,q={next:function(){if(!R&&E<g.length){var Z=E++;return{value:v(Z,g[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}r("Array.prototype.values",function(g){return g||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function f(g){var v=typeof g;return v=v!="object"?v:g?Array.isArray(g)?"array":v:"null",v=="array"||v=="object"&&typeof g.length=="number"}function d(g){var v=typeof g;return v=="object"&&g!=null||v=="function"}function m(g,v,E){return g.call.apply(g.bind,arguments)}function _(g,v,E){if(!g)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),g.apply(v,q)}}return function(){return g.apply(v,arguments)}}function b(g,v,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,b.apply(null,arguments)}function S(g,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),g.apply(this,R)}}function A(g,v){function E(){}E.prototype=v.prototype,g.aa=v.prototype,g.prototype=new E,g.prototype.constructor=g,g.Qb=function(R,q,Z){for(var ct=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ct[Ut-2]=arguments[Ut];return v.prototype[q].apply(R,ct)}}function I(g){const v=g.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=g[R];return E}return[]}function x(g,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(f(R)){const q=g.length||0,Z=R.length||0;g.length=q+Z;for(let ct=0;ct<Z;ct++)g[q+ct]=R[ct]}else g.push(R)}}class V{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(g){return/^[\s\xa0]*$/.test(g)}function F(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function tt(g){return tt[" "](g),g}tt[" "]=function(){};var $=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ot(g,v,E){for(const R in g)v.call(E,g[R],R,g)}function M(g,v){for(const E in g)v.call(void 0,g[E],E,g)}function C(g){const v={};for(const E in g)v[E]=g[E];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(g,v){let E,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(E in R)g[E]=R[E];for(let Z=0;Z<D.length;Z++)E=D[Z],Object.prototype.hasOwnProperty.call(R,E)&&(g[E]=R[E])}}function P(g){var v=1;g=g.split(":");const E=[];for(;0<v&&g.length;)E.push(g.shift()),v--;return g.length&&E.push(g.join(":")),E}function U(g){u.setTimeout(()=>{throw g},0)}function O(){var g=wt;let v=null;return g.g&&(v=g.g,g.g=g.g.next,g.g||(g.h=null),v.next=null),v}class qt{constructor(){this.h=this.g=null}add(v,E){const R=vt.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var vt=new V(()=>new Q,g=>g.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,dt=!1,wt=new qt,L=()=>{const g=u.Promise.resolve(void 0);at=()=>{g.then(rt)}};var rt=()=>{for(var g;g=O();){try{g.h.call(g.g)}catch(E){U(E)}var v=vt;v.j(g),100>v.h&&(v.h++,g.next=v.g,v.g=g)}dt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(g,v){this.type=g,this.g=this.target=v,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var pt=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,v=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const E=()=>{};u.addEventListener("test",E,v),u.removeEventListener("test",E,v)}catch{}return g})();function Rt(g,v){if(lt.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var E=this.type=g.type,R=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=v,v=g.relatedTarget){if($){t:{try{tt(v.nodeName);var q=!0;break t}catch{}q=!1}q||(v=null)}}else E=="mouseover"?v=g.fromElement:E=="mouseout"&&(v=g.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:_t[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Rt.aa.h.call(this)}}A(Rt,lt);var _t={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),re=0;function mi(g,v,E,R,q){this.listener=g,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=q,this.key=++re,this.da=this.fa=!1}function Us(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Yi(g){this.src=g,this.g={},this.h=0}Yi.prototype.add=function(g,v,E,R,q){var Z=g.toString();g=this.g[Z],g||(g=this.g[Z]=[],this.h++);var ct=Fr(g,v,R,q);return-1<ct?(v=g[ct],E||(v.fa=!1)):(v=new mi(v,this.src,Z,!!R,q),v.fa=E,g.push(v)),v};function Hr(g,v){var E=v.type;if(E in g.g){var R=g.g[E],q=Array.prototype.indexOf.call(R,v,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(R,q,1),Z&&(Us(v),g.g[E].length==0&&(delete g.g[E],g.h--))}}function Fr(g,v,E,R){for(var q=0;q<g.length;++q){var Z=g[q];if(!Z.da&&Z.listener==v&&Z.capture==!!E&&Z.ha==R)return q}return-1}var qr="closure_lm_"+(1e6*Math.random()|0),El={};function Gu(g,v,E,R,q){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Gu(g,v[Z],E,R,q);return null}return E=Yu(E),g&&g[He]?g.K(v,E,d(R)?!!R.capture:!1,q):Ln(g,v,E,!1,R,q)}function Ln(g,v,E,R,q,Z){if(!v)throw Error("Invalid event type");var ct=d(q)?!!q.capture:!!q,Ut=Wa(g);if(Ut||(g[qr]=Ut=new Yi(g)),E=Ut.add(v,E,R,ct,Z),E.proxy)return E;if(R=rg(),E.proxy=R,R.src=g,R.listener=E,g.addEventListener)pt||(q=ct),q===void 0&&(q=!1),g.addEventListener(v.toString(),R,q);else if(g.attachEvent)g.attachEvent(Gr(v.toString()),R);else if(g.addListener&&g.removeListener)g.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function rg(){function g(E){return v.call(g.src,g.listener,E)}const v=ag;return g}function Tl(g,v,E,R,q){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Tl(g,v[Z],E,R,q);else R=d(R)?!!R.capture:!!R,E=Yu(E),g&&g[He]?(g=g.i,v=String(v).toString(),v in g.g&&(Z=g.g[v],E=Fr(Z,E,R,q),-1<E&&(Us(Z[E]),Array.prototype.splice.call(Z,E,1),Z.length==0&&(delete g.g[v],g.h--)))):g&&(g=Wa(g))&&(v=g.g[v.toString()],g=-1,v&&(g=Fr(v,E,R,q)),(E=-1<g?v[g]:null)&&$a(E))}function $a(g){if(typeof g!="number"&&g&&!g.da){var v=g.src;if(v&&v[He])Hr(v.i,g);else{var E=g.type,R=g.proxy;v.removeEventListener?v.removeEventListener(E,R,g.capture):v.detachEvent?v.detachEvent(Gr(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=Wa(v))?(Hr(E,g),E.h==0&&(E.src=null,v[qr]=null)):Us(g)}}}function Gr(g){return g in El?El[g]:El[g]="on"+g}function ag(g,v){if(g.da)g=!0;else{v=new Rt(v,this);var E=g.listener,R=g.ha||g.src;g.fa&&$a(g),g=E.call(R,v)}return g}function Wa(g){return g=g[qr],g instanceof Yi?g:null}var Sl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yu(g){return typeof g=="function"?g:(g[Sl]||(g[Sl]=function(v){return g.handleEvent(v)}),g[Sl])}function pe(){ut.call(this),this.i=new Yi(this),this.M=this,this.F=null}A(pe,ut),pe.prototype[He]=!0,pe.prototype.removeEventListener=function(g,v,E,R){Tl(this,g,v,E,R)};function Wt(g,v){var E,R=g.F;if(R)for(E=[];R;R=R.F)E.push(R);if(g=g.M,R=v.type||v,typeof v=="string")v=new lt(v,g);else if(v instanceof lt)v.target=v.target||g;else{var q=v;v=new lt(R,g),N(v,q)}if(q=!0,E)for(var Z=E.length-1;0<=Z;Z--){var ct=v.g=E[Z];q=Rn(ct,R,!0,v)&&q}if(ct=v.g=g,q=Rn(ct,R,!0,v)&&q,q=Rn(ct,R,!1,v)&&q,E)for(Z=0;Z<E.length;Z++)ct=v.g=E[Z],q=Rn(ct,R,!1,v)&&q}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var g=this.i,v;for(v in g.g){for(var E=g.g[v],R=0;R<E.length;R++)Us(E[R]);delete g.g[v],g.h--}}this.F=null},pe.prototype.K=function(g,v,E,R){return this.i.add(String(g),v,!1,E,R)},pe.prototype.L=function(g,v,E,R){return this.i.add(String(g),v,!0,E,R)};function Rn(g,v,E,R){if(v=g.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Z=0;Z<v.length;++Z){var ct=v[Z];if(ct&&!ct.da&&ct.capture==E){var Ut=ct.listener,ke=ct.ha||ct.src;ct.fa&&Hr(g.i,ct),q=Ut.call(ke,R)!==!1&&q}}return q&&!R.defaultPrevented}function rn(g,v,E){if(typeof g=="function")E&&(g=b(g,E));else if(g&&typeof g.handleEvent=="function")g=b(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(g,v||0)}function $u(g){g.g=rn(()=>{g.g=null,g.i&&(g.i=!1,$u(g))},g.l);const v=g.h;g.h=null,g.m.apply(null,v)}class og extends ut{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$u(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(g){ut.call(this),this.h=g,this.g={}}A(Yr,ut);var $r=[];function Wr(g){ot(g.g,function(v,E){this.g.hasOwnProperty(E)&&$a(v)},g),g.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Wr(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=u.JSON.stringify,Ka=u.JSON.parse,Kr=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function wl(){}wl.prototype.h=null;function Al(g){return g.h||(g.h=g.i())}function xl(){}var $i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){lt.call(this,"d")}A(Wi,lt);function Rl(){lt.call(this,"c")}A(Rl,lt);var yi={},Cl=null;function zs(){return Cl=Cl||new pe}yi.La="serverreachability";function Qa(g){lt.call(this,yi.La,g)}A(Qa,lt);function Bs(g){const v=zs();Wt(v,new Qa(v))}yi.STAT_EVENT="statevent";function Wu(g,v){lt.call(this,yi.STAT_EVENT,g),this.stat=v}A(Wu,lt);function ue(g){const v=zs();Wt(v,new Wu(v,g))}yi.Ma="timingevent";function Oe(g,v){lt.call(this,yi.Ma,g),this.size=v}A(Oe,lt);function Ae(g,v){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},v)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function Il(g,v,E,R,q,Z){g.info(function(){if(g.g)if(Z)for(var ct="",Ut=Z.split("&"),ke=0;ke<Ut.length;ke++){var zt=Ut[ke].split("=");if(1<zt.length){var qe=zt[0];zt=zt[1];var Ne=qe.split("_");ct=2<=Ne.length&&Ne[1]=="type"?ct+(qe+"="+zt+"&"):ct+(qe+"=redacted&")}}else ct=null;else ct=Z;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+v+`
`+E+`
`+ct})}function lg(g,v,E,R,q,Z,ct){g.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+v+`
`+E+`
`+Z+" "+ct})}function js(g,v,E,R){g.info(function(){return"XMLHTTP TEXT ("+v+"): "+Qr(g,E)+(R?" "+R:"")})}function Ku(g,v){g.info(function(){return"TIMEOUT: "+v})}Un.prototype.info=function(){};function Qr(g,v){if(!g.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(g=0;g<E.length;g++)if(Array.isArray(E[g])){var R=E[g];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ct=1;ct<q.length;ct++)q[ct]=""}}}}return ni(E)}catch{return v}}var Hs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function vi(){}A(vi,wl),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},_i=new vi;function gn(g,v,E,R){this.j=g,this.i=v,this.l=E,this.R=R||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var Dl={},Xa={};function ii(g,v,E){g.L=1,g.v=ea(Cn(v)),g.m=E,g.P=!0,Qi(g,null)}function Qi(g,v){g.F=Date.now(),Xr(g),g.A=Cn(g.v);var E=g.A,R=g.R;Array.isArray(R)||(R=[String(R)]),Vl(E.i,"t",R),g.C=0,E=g.j.J,g.h=new ve,g.g=hh(g.j,E?v:null,!g.m),0<g.O&&(g.M=new og(b(g.Y,g,g.g),g.O)),v=g.U,E=g.g,R=g.ca;var q="readystatechange";Array.isArray(q)||(q&&($r[0]=q.toString()),q=$r);for(var Z=0;Z<q.length;Z++){var ct=Gu(E,q[Z],R||v.handleEvent,!1,v.h||v);if(!ct)break;v.g[ct.key]=ct}v=g.H?C(g.H):{},g.m?(g.u||(g.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,v)):(g.u="GET",g.g.ea(g.A,g.u,null,v)),Bs(),Il(g.i,g.u,g.A,g.l,g.R,g.m)}gn.prototype.ca=function(g){g=g.target;const v=this.M;v&&Hn(g)==3?v.j():this.Y(g)},gn.prototype.Y=function(g){try{if(g==this.g)t:{const Ne=Hn(this.g);var v=this.g.Ba();const ss=this.g.Z();if(!(3>Ne)&&(Ne!=3||this.g&&(this.h.h||this.g.oa()||ih(this.g)))){this.J||Ne!=4||v==7||(v==8||0>=ss?Bs(3):Bs(2)),Fs(this);var E=this.g.Z();this.X=E;e:if(Qu(this)){var R=ih(this.g);g="";var q=R.length,Z=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qe(this),bi(this);var ct="";break e}this.h.i=new u.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,g+=this.h.i.decode(R[v],{stream:!(Z&&v==q-1)});R.length=0,this.h.g+=g,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=E==200,lg(this.i,this.u,this.A,this.l,this.R,Ne,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,ke=this.g;if((Ut=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ut)){var zt=Ut;break e}}zt=null}if(E=zt)js(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zr(this,E);else{this.o=!1,this.s=3,ue(12),Qe(this),bi(this);break t}}if(this.P){E=!0;let Xe;for(;!this.J&&this.C<ct.length;)if(Xe=Xu(this,ct),Xe==Xa){Ne==4&&(this.s=4,ue(14),E=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==Dl){this.s=4,ue(15),js(this.i,this.l,ct,"[Invalid Chunk]"),E=!1;break}else js(this.i,this.l,Xe,null),Zr(this,Xe);if(Qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||ct.length!=0||this.h.h||(this.s=1,ue(16),E=!1),this.o=this.o&&E,!E)js(this.i,this.l,ct,"[Invalid Chunked Response]"),Qe(this),bi(this);else if(0<ct.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),ca(qe),qe.M=!0,ue(11))}}else js(this.i,this.l,ct,null),Zr(this,ct);Ne==4&&Qe(this),this.o&&!this.J&&(Ne==4?lh(this.j,this):(this.o=!1,Xr(this)))}else dg(this.g),E==400&&0<ct.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),Qe(this),bi(this)}}}catch{}finally{}};function Qu(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Xu(g,v){var E=g.C,R=v.indexOf(`
`,E);return R==-1?Xa:(E=Number(v.substring(E,R)),isNaN(E)?Dl:(R+=1,R+E>v.length?Xa:(v=v.slice(R,R+E),g.C=R+E,v)))}gn.prototype.cancel=function(){this.J=!0,Qe(this)};function Xr(g){g.S=Date.now()+g.I,Zu(g,g.I)}function Zu(g,v){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Ae(b(g.ba,g),v)}function Fs(g){g.B&&(u.clearTimeout(g.B),g.B=null)}gn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ku(this.i,this.A),this.L!=2&&(Bs(),ue(17)),Qe(this),this.s=2,bi(this)):Zu(this,this.S-g)};function bi(g){g.j.G==0||g.J||lh(g.j,g)}function Qe(g){Fs(g);var v=g.M;v&&typeof v.ma=="function"&&v.ma(),g.M=null,Wr(g.U),g.g&&(v=g.g,g.g=null,v.abort(),v.ma())}function Zr(g,v){try{var E=g.j;if(E.G!=0&&(E.g==g||Ml(E.h,g))){if(!g.K&&Ml(E.h,g)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<g.F)co(E),oo(E);else break t;jl(E),ue(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ae(b(E.Za,E),6e3));if(1>=Ja(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else is(E,11)}else if((g.K||E.g==g)&&co(E),!z(v))for(q=E.Da.g.parse(v),v=0;v<q.length;v++){let zt=q[v];if(E.T=zt[0],zt=zt[1],E.G==2)if(zt[0]=="c"){E.K=zt[1],E.ia=zt[2];const qe=zt[3];qe!=null&&(E.la=qe,E.j.info("VER="+E.la));const Ne=zt[4];Ne!=null&&(E.Aa=Ne,E.j.info("SVER="+E.Aa));const ss=zt[5];ss!=null&&typeof ss=="number"&&0<ss&&(R=1.5*ss,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Xe=g.g;if(Xe){const Ri=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var Z=R.h;Z.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(to(Z,Z.h),Z.h=null))}if(R.D){const Fl=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Fl&&(R.ya=Fl,Jt(R.I,R.D,Fl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-g.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ct=g;if(R.qa=uh(R,R.J?R.ia:null,R.W),ct.K){pn(R.h,ct);var Ut=ct,ke=R.L;ke&&(Ut.I=ke),Ut.B&&(Fs(Ut),Xr(Ut)),R.g=ct}else ah(R);0<E.i.length&&lo(E)}else zt[0]!="stop"&&zt[0]!="close"||is(E,7);else E.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?is(E,7):zl(E):zt[0]!="noop"&&E.l&&E.l.ta(zt),E.v=0)}}Bs(4)}catch{}}var Ju=class{constructor(g,v){this.g=g,this.map=v}};function Xi(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Za(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ja(g){return g.h?1:g.g?g.g.size:0}function Ml(g,v){return g.h?g.h==v:g.g?g.g.has(v):!1}function to(g,v){g.g?g.g.add(v):g.h=v}function pn(g,v){g.h&&g.h==v?g.h=null:g.g&&g.g.has(v)&&g.g.delete(v)}Xi.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Ol(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let v=g.i;for(const E of g.g.values())v=v.concat(E.D);return v}return I(g.i)}function cg(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(f(g)){for(var v=[],E=g.length,R=0;R<E;R++)v.push(g[R]);return v}v=[],E=0;for(R in g)v[E++]=g[R];return v}function eo(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(f(g)||typeof g=="string"){var v=[];g=g.length;for(var E=0;E<g;E++)v.push(E);return v}v=[],E=0;for(const R in g)v[E++]=R;return v}}}function kl(g,v){if(g.forEach&&typeof g.forEach=="function")g.forEach(v,void 0);else if(f(g)||typeof g=="string")Array.prototype.forEach.call(g,v,void 0);else for(var E=eo(g),R=cg(g),q=R.length,Z=0;Z<q;Z++)v.call(void 0,R[Z],E&&E[Z],g)}var Jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ug(g,v){if(g){g=g.split("&");for(var E=0;E<g.length;E++){var R=g[E].indexOf("="),q=null;if(0<=R){var Z=g[E].substring(0,R);q=g[E].substring(R+1)}else Z=g[E];v(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function xe(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof xe){this.h=g.h,ta(this,g.j),this.o=g.o,this.g=g.g,qs(this,g.s),this.l=g.l;var v=g.i,E=new Ji;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Zi(this,E),this.m=g.m}else g&&(v=String(g).match(Jr))?(this.h=!1,ta(this,v[1]||"",!0),this.o=zn(v[2]||""),this.g=zn(v[3]||"",!0),qs(this,v[4]),this.l=zn(v[5]||"",!0),Zi(this,v[6]||"",!0),this.m=zn(v[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}xe.prototype.toString=function(){var g=[],v=this.j;v&&g.push(na(v,Nl,!0),":");var E=this.g;return(E||v=="file")&&(g.push("//"),(v=this.o)&&g.push(na(v,Nl,!0),"@"),g.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&g.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&g.push("/"),g.push(na(E,E.charAt(0)=="/"?hg:Pl,!0))),(E=this.i.toString())&&g.push("?",E),(E=this.m)&&g.push("#",na(E,no)),g.join("")};function Cn(g){return new xe(g)}function ta(g,v,E){g.j=E?zn(v,!0):v,g.j&&(g.j=g.j.replace(/:$/,""))}function qs(g,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);g.s=v}else g.s=null}function Zi(g,v,E){v instanceof Ji?(g.i=v,eh(g.i,g.h)):(E||(v=na(v,fg)),g.i=new Ji(v,g.h))}function Jt(g,v,E){g.i.set(v,E)}function ea(g){return Jt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function zn(g,v){return g?v?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function na(g,v,E){return typeof g=="string"?(g=encodeURI(g).replace(v,th),E&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function th(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Nl=/[#\/\?@]/g,Pl=/[#\?:]/g,hg=/[#\?]/g,fg=/[#\?@]/g,no=/#/g;function Ji(g,v){this.h=this.g=null,this.i=g||null,this.j=!!v}function Bn(g){g.g||(g.g=new Map,g.h=0,g.i&&ug(g.i,function(v,E){g.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Ji.prototype,n.add=function(g,v){Bn(this),this.i=null,g=Ei(this,g);var E=this.g.get(g);return E||this.g.set(g,E=[]),E.push(v),this.h+=1,this};function ts(g,v){Bn(g),v=Ei(g,v),g.g.has(v)&&(g.i=null,g.h-=g.g.get(v).length,g.g.delete(v))}function es(g,v){return Bn(g),v=Ei(g,v),g.g.has(v)}n.forEach=function(g,v){Bn(this),this.g.forEach(function(E,R){E.forEach(function(q){g.call(v,q,R,this)},this)},this)},n.na=function(){Bn(this);const g=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const q=g[R];for(let Z=0;Z<q.length;Z++)E.push(v[R])}return E},n.V=function(g){Bn(this);let v=[];if(typeof g=="string")es(this,g)&&(v=v.concat(this.g.get(Ei(this,g))));else{g=Array.from(this.g.values());for(let E=0;E<g.length;E++)v=v.concat(g[E])}return v},n.set=function(g,v){return Bn(this),this.i=null,g=Ei(this,g),es(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[v]),this.h+=1,this},n.get=function(g,v){return g?(g=this.V(g),0<g.length?String(g[0]):v):v};function Vl(g,v,E){ts(g,v),0<E.length&&(g.i=null,g.g.set(Ei(g,v),I(E)),g.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const Z=encodeURIComponent(String(R)),ct=this.V(R);for(R=0;R<ct.length;R++){var q=Z;ct[R]!==""&&(q+="="+encodeURIComponent(String(ct[R]))),g.push(q)}}return this.i=g.join("&")};function Ei(g,v){return v=String(v),g.j&&(v=v.toLowerCase()),v}function eh(g,v){v&&!g.j&&(Bn(g),g.i=null,g.g.forEach(function(E,R){var q=R.toLowerCase();R!=q&&(ts(this,R),Vl(this,q,E))},g)),g.j=v}function ia(g,v){const E=new Un;if(u.Image){const R=new Image;R.onload=S(jn,E,"TestLoadImage: loaded",!0,v,R),R.onerror=S(jn,E,"TestLoadImage: error",!1,v,R),R.onabort=S(jn,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=S(jn,E,"TestLoadImage: timeout",!1,v,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=g}else v(!1)}function si(g,v){const E=new Un,R=new AbortController,q=setTimeout(()=>{R.abort(),jn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(g,{signal:R.signal}).then(Z=>{clearTimeout(q),Z.ok?jn(E,"TestPingServer: ok",!0,v):jn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),jn(E,"TestPingServer: error",!1,v)})}function jn(g,v,E,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(E)}catch{}}function sa(){this.g=new Kr}function Ti(g,v,E){const R=E||"";try{kl(g,function(q,Z){let ct=q;d(q)&&(ct=ni(q)),v.push(R+Z+"="+encodeURIComponent(ct))})}catch(q){throw v.push(R+"type="+encodeURIComponent("_badmap")),q}}function Gs(g){this.l=g.Ub||null,this.j=g.eb||!1}A(Gs,wl),Gs.prototype.g=function(){return new ns(this.l,this.j)},Gs.prototype.i=(function(g){return function(){return g}})({});function ns(g,v){pe.call(this),this.D=g,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ns,pe),n=ns.prototype,n.open=function(g,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=v,this.readyState=1,wi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(v.body=g),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ll(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ll(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var v=g.value?g.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!g.done}))&&(this.response=this.responseText+=v)}g.done?Si(this):wi(this),this.readyState==3&&Ll(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Si(this))},n.Qa=function(g){this.g&&(this.response=g,Si(this))},n.ga=function(){this.g&&Si(this)};function Si(g){g.readyState=4,g.l=null,g.j=null,g.v=null,wi(g)}n.setRequestHeader=function(g,v){this.u.append(g,v)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,g.push(E[0]+": "+E[1]),E=v.next();return g.join(`\r
`)};function wi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ul(g){let v="";return ot(g,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function Fe(g,v,E){t:{for(R in E){var R=!1;break t}R=!0}R||(E=Ul(E),typeof g=="string"?E!=null&&encodeURIComponent(String(E)):Jt(g,v,E))}function Yt(g){pe.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Yt,pe);var io=/^https?$/i,ra=["POST","PUT"];n=Yt.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);v=v?v.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?Al(this.o):Al(_i),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(g),!0),this.B=!1}catch(Z){nh(this,Z);return}if(g=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)E.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())E.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ra,v,void 0))||R||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ct]of E)this.g.setRequestHeader(Z,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(g),this.u=!1}catch(Z){nh(this,Z)}};function nh(g,v){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=v,g.m=5,so(g),Ai(g)}function so(g){g.A||(g.A=!0,Wt(g,"complete"),Wt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Wt(this,"complete"),Wt(this,"abort"),Ai(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ro(this):this.bb())},n.bb=function(){ro(this)};function ro(g){if(g.h&&typeof c<"u"&&(!g.v[1]||Hn(g)!=4||g.Z()!=2)){if(g.u&&Hn(g)==4)rn(g.Ea,0,g);else if(Wt(g,"readystatechange"),Hn(g)==4){g.h=!1;try{const ct=g.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var R;if(R=ct===0){var q=String(g.D).match(Jr)[1]||null;!q&&u.self&&u.self.location&&(q=u.self.location.protocol.slice(0,-1)),R=!io.test(q?q.toLowerCase():"")}E=R}if(E)Wt(g,"complete"),Wt(g,"success");else{g.m=6;try{var Z=2<Hn(g)?g.g.statusText:""}catch{Z=""}g.l=Z+" ["+g.Z()+"]",so(g)}}finally{Ai(g)}}}}function Ai(g,v){if(g.g){aa(g);const E=g.g,R=g.v[0]?()=>{}:null;g.g=null,g.v=null,v||Wt(g,"ready");try{E.onreadystatechange=R}catch{}}}function aa(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function Hn(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var v=this.g.responseText;return g&&v.indexOf(g)==0&&(v=v.substring(g.length)),Ka(v)}};function ih(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function dg(g){const v={};g=(g.g&&2<=Hn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<g.length;R++){if(z(g[R]))continue;var E=P(g[R]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=v[q]||[];v[q]=Z,Z.push(E)}M(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(g,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[g]||v}function ao(g){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,g),this.cb=oa("retryDelaySeedMs",1e4,g),this.Wa=oa("forwardChannelMaxRetries",2,g),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Xi(g&&g.concurrentRequestLimit),this.Da=new sa,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ao.prototype,n.la=8,n.G=1,n.connect=function(g,v,E,R){ue(0),this.W=g,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=uh(this,null,this.W),lo(this)};function zl(g){if(sh(g),g.G==3){var v=g.U++,E=Cn(g.I);if(Jt(E,"SID",g.K),Jt(E,"RID",v),Jt(E,"TYPE","terminate"),la(g,E),v=new gn(g,g.j,v),v.L=2,v.v=ea(Cn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=v.v,E=!0),E||(v.g=hh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xr(v)}ch(g)}function oo(g){g.g&&(ca(g),g.g.cancel(),g.g=null)}function sh(g){oo(g),g.u&&(u.clearTimeout(g.u),g.u=null),co(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function lo(g){if(!Za(g.h)&&!g.s){g.s=!0;var v=g.Ga;at||L(),dt||(at(),dt=!0),wt.add(v,g),g.B=0}}function gg(g,v){return Ja(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=v.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Ae(b(g.Ga,g,v),Hl(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const q=new gn(this,this.j,g);let Z=this.o;if(this.S&&(Z?(Z=C(Z),N(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=rh(this,q,v),E=Cn(this.I),Jt(E,"RID",g),Jt(E,"CVER",22),this.D&&Jt(E,"X-HTTP-Session-Id",this.D),la(this,E),Z&&(this.O?v="headers="+encodeURIComponent(String(Ul(Z)))+"&"+v:this.m&&Fe(E,this.m,Z)),to(this.h,q),this.Ua&&Jt(E,"TYPE","init"),this.P?(Jt(E,"$req",v),Jt(E,"SID","null"),q.T=!0,ii(q,E,null)):ii(q,E,v),this.G=2}}else this.G==3&&(g?Bl(this,g):this.i.length==0||Za(this.h)||Bl(this))};function Bl(g,v){var E;v?E=v.l:E=g.U++;const R=Cn(g.I);Jt(R,"SID",g.K),Jt(R,"RID",E),Jt(R,"AID",g.T),la(g,R),g.m&&g.o&&Fe(R,g.m,g.o),E=new gn(g,g.j,E,g.B+1),g.m===null&&(E.H=g.o),v&&(g.i=v.D.concat(g.i)),v=rh(g,E,1e3),E.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),to(g.h,E),ii(E,R,v)}function la(g,v){g.H&&ot(g.H,function(E,R){Jt(v,R,E)}),g.l&&kl({},function(E,R){Jt(v,R,E)})}function rh(g,v,E){E=Math.min(g.i.length,E);var R=g.l?b(g.l.Na,g.l,g):null;t:{var q=g.i;let Z=-1;for(;;){const ct=["count="+E];Z==-1?0<E?(Z=q[0].g,ct.push("ofs="+Z)):Z=0:ct.push("ofs="+Z);let Ut=!0;for(let ke=0;ke<E;ke++){let zt=q[ke].g;const qe=q[ke].map;if(zt-=Z,0>zt)Z=Math.max(0,q[ke].g-100),Ut=!1;else try{Ti(qe,ct,"req"+zt+"_")}catch{R&&R(qe)}}if(Ut){R=ct.join("&");break t}}}return g=g.i.splice(0,E),v.D=g,R}function ah(g){if(!g.g&&!g.u){g.Y=1;var v=g.Fa;at||L(),dt||(at(),dt=!0),wt.add(v,g),g.v=0}}function jl(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Ae(b(g.Fa,g),Hl(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,oh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Ae(b(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),oo(this),oh(this))};function ca(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function oh(g){g.g=new gn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var v=Cn(g.qa);Jt(v,"RID","rpc"),Jt(v,"SID",g.K),Jt(v,"AID",g.T),Jt(v,"CI",g.F?"0":"1"),!g.F&&g.ja&&Jt(v,"TO",g.ja),Jt(v,"TYPE","xmlhttp"),la(g,v),g.m&&g.o&&Fe(v,g.m,g.o),g.L&&(g.g.I=g.L);var E=g.g;g=g.ia,E.L=1,E.v=ea(Cn(v)),E.m=null,E.P=!0,Qi(E,g)}n.Za=function(){this.C!=null&&(this.C=null,oo(this),jl(this),ue(19))};function co(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function lh(g,v){var E=null;if(g.g==v){co(g),ca(g),g.g=null;var R=2}else if(Ml(g.h,v))E=v.D,pn(g.h,v),R=1;else return;if(g.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var q=g.B;R=zs(),Wt(R,new Oe(R,E)),lo(g)}else ah(g);else if(q=v.s,q==3||q==0&&0<v.X||!(R==1&&gg(g,v)||R==2&&jl(g)))switch(E&&0<E.length&&(v=g.h,v.i=v.i.concat(E)),q){case 1:is(g,5);break;case 4:is(g,10);break;case 3:is(g,6);break;default:is(g,2)}}}function Hl(g,v){let E=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(E*=2),E*v}function is(g,v){if(g.j.info("Error code "+v),v==2){var E=b(g.fb,g),R=g.Xa;const q=!R;R=new xe(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ta(R,"https"),ea(R),q?ia(R.toString(),E):si(R.toString(),E)}else ue(2);g.G=0,g.l&&g.l.sa(v),ch(g),sh(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function ch(g){if(g.G=0,g.ka=[],g.l){const v=Ol(g.h);(v.length!=0||g.i.length!=0)&&(x(g.ka,v),x(g.ka,g.i),g.h.i.length=0,I(g.i),g.i.length=0),g.l.ra()}}function uh(g,v,E){var R=E instanceof xe?Cn(E):new xe(E);if(R.g!="")v&&(R.g=v+"."+R.g),qs(R,R.s);else{var q=u.location;R=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Z=new xe(null);R&&ta(Z,R),v&&(Z.g=v),q&&qs(Z,q),E&&(Z.l=E),R=Z}return E=g.D,v=g.ya,E&&v&&Jt(R,E,v),Jt(R,"VER",g.la),la(g,R),R}function hh(g,v,E){if(v&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=g.Ca&&!g.pa?new Yt(new Gs({eb:E})):new Yt(g.pa),v.Ha(g.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fh(){}n=fh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function uo(){}uo.prototype.g=function(g,v){return new mn(g,v)};function mn(g,v){pe.call(this),this.g=new ao(v),this.l=g,this.h=v&&v.messageUrlParams||null,g=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(g?g["X-WebChannel-Content-Type"]=v.messageContentType:g={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(g?g["X-WebChannel-Client-Profile"]=v.va:g={"X-WebChannel-Client-Profile":v.va}),this.g.S=g,(g=v&&v.Sb)&&!z(g)&&(this.g.m=g),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,g=this.h,g!==null&&v in g&&(g=this.h,v in g&&delete g[v])),this.j=new xi(this)}A(mn,pe),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){zl(this.g)},mn.prototype.o=function(g){var v=this.g;if(typeof g=="string"){var E={};E.__data__=g,g=E}else this.u&&(E={},E.__data__=ni(g),g=E);v.i.push(new Ju(v.Ya++,g)),v.G==3&&lo(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,mn.aa.N.call(this)};function dh(g){Wi.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var v=g.__sm__;if(v){t:{for(const E in v){g=E;break t}g=void 0}(this.i=g)&&(g=this.i,v=v!==null&&g in v?v[g]:void 0),this.data=v}else this.data=g}A(dh,Wi);function gh(){Rl.call(this),this.status=1}A(gh,Rl);function xi(g){this.g=g}A(xi,fh),xi.prototype.ua=function(){Wt(this.g,"a")},xi.prototype.ta=function(g){Wt(this.g,new dh(g))},xi.prototype.sa=function(g){Wt(this.g,new gh)},xi.prototype.ra=function(){Wt(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,yA=function(){return new uo},mA=function(){return zs()},pA=yi,qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,qf=Hs,Ki.COMPLETE="complete",gA=Ki,xl.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Bc=xl,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,dA=Yt}).apply(typeof _f<"u"?_f:typeof self<"u"?self:typeof window<"u"?window:{});const qE="@firebase/firestore",GE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Iy("@firebase/firestore");function Ho(){return za.logLevel}function ft(n,...t){if(za.logLevel<=Nt.DEBUG){const e=t.map(By);za.debug(`Firestore (${ml}): ${n}`,...e)}}function Os(n,...t){if(za.logLevel<=Nt.ERROR){const e=t.map(By);za.error(`Firestore (${ml}): ${n}`,...e)}}function el(n,...t){if(za.logLevel<=Nt.WARN){const e=t.map(By);za.warn(`Firestore (${ml}): ${n}`,...e)}}function By(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,_A(n,i,e)}function _A(n,t,e){let i=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Os(i),new Error(i)}function $t(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||_A(t,r,i)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Ps{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(un.UNAUTHENTICATED)))}shutdown(){}}class YO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class $O{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){$t(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ar,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},u=f=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ar)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($t(typeof i.accessToken=="string",31837,{l:i}),new vA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class WO{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KO{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new WO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){$t(this.o===void 0,3512);const i=o=>{o.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?($t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new YE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=XO(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Pt(n,t){return n<t?-1:n>t?1:0}function Gm(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return bm(r)===bm(o)?Pt(r,o):bm(r)?1:-1}return Pt(n.length,t.length)}const ZO=55296,JO=57343;function bm(n){const t=n.charCodeAt(0);return t>=ZO&&t<=JO}function nl(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="__name__";class Vi{constructor(t,e,i){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&St(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Vi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Pt(t.length,e.length)}static compareSegments(t,e){const i=Vi.isNumericId(t),r=Vi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Vi.extractNumericId(t).compare(Vi.extractNumericId(e)):Gm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wr.fromString(t.substring(4,t.length-2))}}class se extends Vi{construct(t,e,i){return new se(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ht(nt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new se(e)}static emptyPath(){return new se([])}}const tk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Vi{construct(t,e,i){return new nn(t,e,i)}static isValidIdentifier(t){return tk.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$E}static keyField(){return new nn([$E])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new ht(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ht(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else u==="`"?(c=!c,r++):u!=="."||c?(i+=u,r++):(o(),r++)}if(o(),c)throw new ht(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(e)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(se.fromString(t))}static fromName(t){return new yt(se.fromString(t).popFirst(5))}static empty(){return new yt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return se.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(n,t,e){if(!e)throw new ht(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function ek(n,t,e,i){if(t===!0&&i===!0)throw new ht(nt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function WE(n){if(!yt.isDocumentKey(n))throw new ht(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KE(n){if(yt.isDocumentKey(n))throw new ht(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Nd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function ui(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ht(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Nd(n);throw new ht(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,t){const e={typeString:n};return t&&(e.value=t),e}function Ou(n,t){if(!bA(n))throw new ht(nt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ht(nt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=-62135596800,XE=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*XE);return new ce(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<QE)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XE}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ou(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-QE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:Me("string",ce._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new ce(0,0))}static max(){return new xt(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function nk(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(i===1e9?new ce(e+1,0):new ce(e,i));return new Cr(r,yt.empty(),t)}function ik(n){return new Cr(n.readTime,n.key,lu)}class Cr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Cr(xt.min(),yt.empty(),lu)}static max(){return new Cr(xt.max(),yt.empty(),lu)}}function sk(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:Pt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ak{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==rk)throw n;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,i)=>{e(t)}))}static reject(t){return new st(((e,i)=>{i(t)}))}static waitFor(t){return new st(((e,i)=>{let r=0,o=0,c=!1;t.forEach((u=>{++r,u.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=st.resolve(!1);for(const i of t)e=e.next((r=>r?st.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new st(((i,r)=>{const o=t.length,c=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((m=>{c[d]=m,++u,u===o&&i(c)}),(m=>r(m)))}}))}static doWhile(t,e){return new st(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function ok(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function _l(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=-1;function Vd(n){return n==null}function cd(n){return n===0&&1/n==-1/0}function lk(n){return typeof n=="number"&&Number.isInteger(n)&&!cd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="";function ck(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ZE(t)),t=uk(n.get(e),t);return ZE(t)}function uk(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case EA:e+="";break;default:e+=o}}return e}function ZE(n){return n+EA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Lr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function TA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,e){this.comparator=t,this.root=e||en.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vf(this.root,t,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vf(this.root,t,this.comparator,!0)}}class vf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??en.RED,this.left=r??en.EMPTY,this.right=o??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new en(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return en.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new en(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new tT(this.data.getIterator())}getIteratorFrom(t){return new tT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Be(this.comparator);return e.data=t,e}}class tT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new Vn([])}unionWith(t){let e=new Be(nn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Vn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return nl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new SA("Invalid base64 string: "+o):o}})(t);return new sn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new sn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const hk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(n){if($t(!!n,39018),typeof n=="string"){let t=0;const e=hk.exec(n);if($t(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Dr(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="server_timestamp",AA="__type__",xA="__previous_value__",RA="__local_write_time__";function qy(n){return(n?.mapValue?.fields||{})[AA]?.stringValue===wA}function Ld(n){const t=n.mapValue.fields[xA];return qy(t)?Ld(t):t}function cu(n){const t=Ir(n.mapValue.fields[RA].timestampValue);return new ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(t,e,i,r,o,c,u,f,d,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const ud="(default)";class uu{constructor(t,e){this.projectId=t,this.database=e||ud}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===ud}isEqual(t){return t instanceof uu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="__type__",dk="__max__",bf={mapValue:{}},IA="__vector__",hd="value";function Mr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qy(n)?4:pk(n)?9007199254740991:gk(n)?10:11:St(28295,{value:n})}function qi(n,t){if(n===t)return!0;const e=Mr(n);if(e!==Mr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return cu(n).isEqual(cu(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Ir(r.timestampValue),u=Ir(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Dr(r.bytesValue).isEqual(Dr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Te(r.geoPointValue.latitude)===Te(o.geoPointValue.latitude)&&Te(r.geoPointValue.longitude)===Te(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Te(r.integerValue)===Te(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Te(r.doubleValue),u=Te(o.doubleValue);return c===u?cd(c)===cd(u):isNaN(c)&&isNaN(u)}return!1})(n,t);case 9:return nl(n.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},u=o.mapValue.fields||{};if(JE(c)!==JE(u))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(u[f]===void 0||!qi(c[f],u[f])))return!1;return!0})(n,t);default:return St(52216,{left:n})}}function hu(n,t){return(n.values||[]).find((e=>qi(e,t)))!==void 0}function il(n,t){if(n===t)return 0;const e=Mr(n),i=Mr(t);if(e!==i)return Pt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const u=Te(o.integerValue||o.doubleValue),f=Te(c.integerValue||c.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,t);case 3:return eT(n.timestampValue,t.timestampValue);case 4:return eT(cu(n),cu(t));case 5:return Gm(n.stringValue,t.stringValue);case 6:return(function(o,c){const u=Dr(o),f=Dr(c);return u.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const u=o.split("/"),f=c.split("/");for(let d=0;d<u.length&&d<f.length;d++){const m=Pt(u[d],f[d]);if(m!==0)return m}return Pt(u.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const u=Pt(Te(o.latitude),Te(c.latitude));return u!==0?u:Pt(Te(o.longitude),Te(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return nT(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const u=o.fields||{},f=c.fields||{},d=u[hd]?.arrayValue,m=f[hd]?.arrayValue,_=Pt(d?.values?.length||0,m?.values?.length||0);return _!==0?_:nT(d,m)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===bf.mapValue&&c===bf.mapValue)return 0;if(o===bf.mapValue)return 1;if(c===bf.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=c.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let _=0;_<f.length&&_<m.length;++_){const b=Gm(f[_],m[_]);if(b!==0)return b;const S=il(u[f[_]],d[m[_]]);if(S!==0)return S}return Pt(f.length,m.length)})(n.mapValue,t.mapValue);default:throw St(23264,{he:e})}}function eT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pt(n,t);const e=Ir(n),i=Ir(t),r=Pt(e.seconds,i.seconds);return r!==0?r:Pt(e.nanos,i.nanos)}function nT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=il(e[r],i[r]);if(o)return o}return Pt(e.length,i.length)}function sl(n){return Ym(n)}function Ym(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Ir(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Dr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Ym(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${Ym(e.fields[c])}`;return r+"}"})(n.mapValue):St(61005,{value:n})}function Gf(n){switch(Mr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ld(n);return t?16+Gf(t):16;case 5:return 2*n.stringValue.length;case 6:return Dr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+Gf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Lr(i.fields,((o,c)=>{r+=o.length+Gf(c)})),r})(n.mapValue);default:throw St(13486,{value:n})}}function iT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function $m(n){return!!n&&"integerValue"in n}function Gy(n){return!!n&&"arrayValue"in n}function sT(n){return!!n&&"nullValue"in n}function rT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yf(n){return!!n&&"mapValue"in n}function gk(n){return(n?.mapValue?.fields||{})[CA]?.stringValue===IA}function Kc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Lr(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Kc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Kc(n.arrayValue.values[e]);return t}return{...n}}function pk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===dk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Yf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kc(e)}setAll(t){let e=nn.emptyPath(),i={},r=[];t.forEach(((c,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}c?i[u.lastSegment()]=Kc(c):r.push(u.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Yf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Yf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Lr(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new An(Kc(this.value))}}function DA(n){const t=[];return Lr(n.fields,((e,i)=>{const r=new nn([e]);if(Yf(i)){const o=DA(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new Vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,e,i,r,o,c,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(t){return new hn(t,0,xt.min(),xt.min(),xt.min(),An.empty(),0)}static newFoundDocument(t,e,i,r){return new hn(t,1,e,xt.min(),i,r,0)}static newNoDocument(t,e){return new hn(t,2,e,xt.min(),xt.min(),An.empty(),0)}static newUnknownDocument(t,e){return new hn(t,3,e,xt.min(),xt.min(),An.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,e){this.position=t,this.inclusive=e}}function aT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=yt.comparator(yt.fromName(c.referenceValue),e.key):i=il(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function oT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!qi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,e="asc"){this.field=t,this.dir=e}}function mk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{}class De extends MA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new _k(t,e,i):e==="array-contains"?new Ek(t,i):e==="in"?new Tk(t,i):e==="not-in"?new Sk(t,i):e==="array-contains-any"?new wk(t,i):new De(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new vk(t,i):new bk(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(il(e,this.value)):e!==null&&Mr(this.value)===Mr(e)&&this.matchesComparison(il(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends MA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new gi(t,e)}matches(t){return OA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OA(n){return n.op==="and"}function kA(n){return yk(n)&&OA(n)}function yk(n){for(const t of n.filters)if(t instanceof gi)return!1;return!0}function Wm(n){if(n instanceof De)return n.field.canonicalString()+n.op.toString()+sl(n.value);if(kA(n))return n.filters.map((t=>Wm(t))).join(",");{const t=n.filters.map((e=>Wm(e))).join(",");return`${n.op}(${t})`}}function NA(n,t){return n instanceof De?(function(i,r){return r instanceof De&&i.op===r.op&&i.field.isEqual(r.field)&&qi(i.value,r.value)})(n,t):n instanceof gi?(function(i,r){return r instanceof gi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,u)=>o&&NA(c,r.filters[u])),!0):!1})(n,t):void St(19439)}function PA(n){return n instanceof De?(function(e){return`${e.field.canonicalString()} ${e.op} ${sl(e.value)}`})(n):n instanceof gi?(function(e){return e.op.toString()+" {"+e.getFilters().map(PA).join(" ,")+"}"})(n):"Filter"}class _k extends De{constructor(t,e,i){super(t,e,i),this.key=yt.fromName(i.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class vk extends De{constructor(t,e){super(t,"in",e),this.keys=VA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class bk extends De{constructor(t,e){super(t,"not-in",e),this.keys=VA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function VA(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class Ek extends De{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Gy(e)&&hu(e.arrayValue,this.value)}}class Tk extends De{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&hu(this.value.arrayValue,e)}}class Sk extends De{constructor(t,e){super(t,"not-in",e)}matches(t){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!hu(this.value.arrayValue,e)}}class wk extends De{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Gy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>hu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(t,e=null,i=[],r=[],o=null,c=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=u,this.Te=null}}function lT(n,t=null,e=[],i=[],r=null,o=null,c=null){return new Ak(n,t,e,i,r,o,c)}function Yy(n){const t=Ct(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Wm(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Vd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>sl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>sl(i))).join(",")),t.Te=e}return t.Te}function $y(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!mk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!NA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!oT(n.startAt,t.startAt)&&oT(n.endAt,t.endAt)}function Km(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t,e=null,i=[],r=[],o=null,c="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xk(n,t,e,i,r,o,c,u){return new Fa(n,t,e,i,r,o,c,u)}function Ud(n){return new Fa(n)}function cT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function LA(n){return n.collectionGroup!==null}function Qc(n){const t=Ct(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new Be(nn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new fu(o,i))})),e.has(nn.keyField().canonicalString())||t.Ie.push(new fu(nn.keyField(),i))}return t.Ie}function Bi(n){const t=Ct(n);return t.Ee||(t.Ee=Rk(t,Qc(n))),t.Ee}function Rk(n,t){if(n.limitType==="F")return lT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new fu(r.field,o)}));const e=n.endAt?new fd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new fd(n.startAt.position,n.startAt.inclusive):null;return lT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Qm(n,t){const e=n.filters.concat([t]);return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Xm(n,t,e){return new Fa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function zd(n,t){return $y(Bi(n),Bi(t))&&n.limitType===t.limitType}function UA(n){return`${Yy(Bi(n))}|lt:${n.limitType}`}function Fo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>PA(r))).join(", ")}]`),Vd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>sl(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>sl(r))).join(",")),`Target(${i})`})(Bi(n))}; limitType=${n.limitType})`}function Bd(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):yt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Qc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,u,f){const d=aT(c,u,f);return c.inclusive?d<=0:d<0})(i.startAt,Qc(i),r)||i.endAt&&!(function(c,u,f){const d=aT(c,u,f);return c.inclusive?d>=0:d>0})(i.endAt,Qc(i),r))})(n,t)}function Ck(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zA(n){return(t,e)=>{let i=!1;for(const r of Qc(n)){const o=Ik(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function Ik(n,t,e){const i=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(o,c,u){const f=c.data.field(o),d=u.data.field(o);return f!==null&&d!==null?il(f,d):St(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return St(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Lr(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return TA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=new ge(yt.comparator);function ks(){return Dk}const BA=new ge(yt.comparator);function jc(...n){let t=BA;for(const e of n)t=t.insert(e.key,e);return t}function jA(n){let t=BA;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Ma(){return Xc()}function HA(){return Xc()}function Xc(){return new qa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const Mk=new ge(yt.comparator),Ok=new Be(yt.comparator);function Lt(...n){let t=Ok;for(const e of n)t=t.add(e);return t}const kk=new Be(Pt);function Nk(){return kk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(t)?"-0":t}}function FA(n){return{integerValue:""+n}}function Pk(n,t){return lk(t)?FA(t):Wy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this._=void 0}}function Vk(n,t,e){return n instanceof du?(function(r,o){const c={fields:{[AA]:{stringValue:wA},[RA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&qy(o)&&(o=Ld(o)),o&&(c.fields[xA]=o),{mapValue:c}})(e,t):n instanceof gu?GA(n,t):n instanceof pu?YA(n,t):(function(r,o){const c=qA(r,o),u=uT(c)+uT(r.Ae);return $m(c)&&$m(r.Ae)?FA(u):Wy(r.serializer,u)})(n,t)}function Lk(n,t,e){return n instanceof gu?GA(n,t):n instanceof pu?YA(n,t):e}function qA(n,t){return n instanceof dd?(function(i){return $m(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class du extends jd{}class gu extends jd{constructor(t){super(),this.elements=t}}function GA(n,t){const e=$A(t);for(const i of n.elements)e.some((r=>qi(r,i)))||e.push(i);return{arrayValue:{values:e}}}class pu extends jd{constructor(t){super(),this.elements=t}}function YA(n,t){let e=$A(t);for(const i of n.elements)e=e.filter((r=>!qi(r,i)));return{arrayValue:{values:e}}}class dd extends jd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function uT(n){return Te(n.integerValue||n.doubleValue)}function $A(n){return Gy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(t,e){this.field=t,this.transform=e}}function zk(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof gu&&r instanceof gu||i instanceof pu&&r instanceof pu?nl(i.elements,r.elements,qi):i instanceof dd&&r instanceof dd?qi(i.Ae,r.Ae):i instanceof du&&r instanceof du})(n.transform,t.transform)}class Bk{constructor(t,e){this.version=t,this.transformResults=e}}class hi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $f(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Hd{}function WA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Ky(n.key,hi.none()):new ku(n.key,n.data,hi.none());{const e=n.data,i=An.empty();let r=new Be(nn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Ur(n.key,i,new Vn(r.toArray()),hi.none())}}function jk(n,t,e){n instanceof ku?(function(r,o,c){const u=r.value.clone(),f=fT(r.fieldTransforms,o,c.transformResults);u.setAll(f),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,t,e):n instanceof Ur?(function(r,o,c){if(!$f(r.precondition,o))return void o.convertToUnknownDocument(c.version);const u=fT(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(KA(r)),f.setAll(u),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Zc(n,t,e,i){return n instanceof ku?(function(o,c,u,f){if(!$f(o.precondition,c))return u;const d=o.value.clone(),m=dT(o.fieldTransforms,f,c);return d.setAll(m),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof Ur?(function(o,c,u,f){if(!$f(o.precondition,c))return u;const d=dT(o.fieldTransforms,f,c),m=c.data;return m.setAll(KA(o)),m.setAll(d),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,c,u){return $f(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(n,t,e)}function Hk(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=qA(i.transform,r||null);o!=null&&(e===null&&(e=An.empty()),e.set(i.field,o))}return e||null}function hT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&nl(i,r,((o,c)=>zk(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class ku extends Hd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ur extends Hd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function fT(n,t,e){const i=new Map;$t(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,u=t.data.field(o.field);i.set(o.field,Lk(c,u,e[r]))}return i}function dT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,Vk(o,c,t))}return i}class Ky extends Hd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fk extends Hd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&jk(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Zc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Zc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=HA();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=e.has(r.key)?null:u;const f=WA(c,u);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(xt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&nl(this.mutations,t.mutations,((e,i)=>hT(e,i)))&&nl(this.baseMutations,t.baseMutations,((e,i)=>hT(e,i)))}}class Qy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){$t(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return Mk})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Qy(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,jt;function $k(n){switch(n){case nt.OK:return St(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function QA(n){if(n===void 0)return Os("GRPC error has no .code"),nt.UNKNOWN;switch(n){case Ie.OK:return nt.OK;case Ie.CANCELLED:return nt.CANCELLED;case Ie.UNKNOWN:return nt.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return nt.INTERNAL;case Ie.UNAVAILABLE:return nt.UNAVAILABLE;case Ie.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ie.NOT_FOUND:return nt.NOT_FOUND;case Ie.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ie.ABORTED:return nt.ABORTED;case Ie.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ie.DATA_LOSS:return nt.DATA_LOSS;default:return St(39323,{code:n})}}(jt=Ie||(Ie={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=new wr([4294967295,4294967295],0);function gT(n){const t=Wk().encode(n),e=new fA;return e.update(t),new Uint8Array(e.digest())}function pT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new wr([e,i],0),new wr([r,o],0)]}class Xy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Hc(`Invalid padding: ${e}`);if(i<0)throw new Hc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Hc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Hc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=wr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(wr.fromNumber(i)));return r.compare(Kk)===1&&(r=new wr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=gT(t),[i,r]=pT(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Xy(o,r,e);return i.forEach((u=>c.insert(u))),c}insert(t){if(this.ge===0)return;const e=gT(t),[i,r]=pT(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Nu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Fd(xt.min(),r,new ge(Pt),ks(),Lt())}}class Nu{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Nu(i,e,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class XA{constructor(t,e){this.targetId=t,this.Ce=e}}class ZA{constructor(t,e,i=sn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class mT{constructor(){this.ve=0,this.Fe=yT(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),e=Lt(),i=Lt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:St(38017,{changeType:o})}})),new Nu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=yT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Qk{constructor(t){this.Ge=t,this.ze=new Map,this.je=ks(),this.Je=Ef(),this.He=Ef(),this.Ye=new ge(Pt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(Km(o))if(i===0){const c=new yt(o.path);this.et(e,c,hn.newNoDocument(c,xt.min()))}else $t(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const u=this.ut(t),f=u?this.ct(u,t,c):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,u;try{c=Dr(i).toUint8Array()}catch(f){if(f instanceof SA)return el("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Xy(c,r,o)}catch(f){return el(f instanceof Hc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const u=this.ot(c);if(u){if(o.current&&Km(u.target)){const f=new yt(u.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,hn.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Lt();this.He.forEach(((o,c)=>{let u=!0;c.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new Fd(t,e,this.Ye,this.je,i);return this.je=ks(),this.Je=Ef(),this.He=Ef(),this.Ye=new ge(Pt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new mT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Be(Pt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Be(Pt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new mT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ef(){return new ge(yt.comparator)}function yT(){return new ge(yt.comparator)}const Xk={asc:"ASCENDING",desc:"DESCENDING"},Zk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jk={and:"AND",or:"OR"};class tN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Zm(n,t){return n.useProto3Json||Vd(t)?t:{value:t}}function gd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function eN(n,t){return gd(n,t.toTimestamp())}function ji(n){return $t(!!n,49232),xt.fromTimestamp((function(e){const i=Ir(e);return new ce(i.seconds,i.nanos)})(n))}function Zy(n,t){return Jm(n,t).canonicalString()}function Jm(n,t){const e=(function(r){return new se(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function t1(n){const t=se.fromString(n);return $t(r1(t),10190,{key:t.toString()}),t}function ty(n,t){return Zy(n.databaseId,t.path)}function Em(n,t){const e=t1(t);if(e.get(1)!==n.databaseId.projectId)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(n1(e))}function e1(n,t){return Zy(n.databaseId,t)}function nN(n){const t=t1(n);return t.length===4?se.emptyPath():n1(t)}function ey(n){return new se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function n1(n){return $t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function _T(n,t,e){return{name:ty(n,t),fields:e.value.mapValue.fields}}function iN(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:St(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(d,m){return d.useProto3Json?($t(m===void 0||typeof m=="string",58123),sn.fromBase64String(m||"")):($t(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),sn.fromUint8Array(m||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,u=c&&(function(d){const m=d.code===void 0?nt.UNKNOWN:QA(d.code);return new ht(m,d.message||"")})(c);e=new ZA(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Em(n,i.document.name),o=ji(i.document.updateTime),c=i.document.createTime?ji(i.document.createTime):xt.min(),u=new An({mapValue:{fields:i.document.fields}}),f=hn.newFoundDocument(r,o,c,u),d=i.targetIds||[],m=i.removedTargetIds||[];e=new Wf(d,m,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Em(n,i.document),o=i.readTime?ji(i.readTime):xt.min(),c=hn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new Wf([],u,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Em(n,i.document),o=i.removedTargetIds||[];e=new Wf([],o,r,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new Yk(r,o),u=i.targetId;e=new XA(u,c)}}return e}function sN(n,t){let e;if(t instanceof ku)e={update:_T(n,t.key,t.value)};else if(t instanceof Ky)e={delete:ty(n,t.key)};else if(t instanceof Ur)e={update:_T(n,t.key,t.data),updateMask:dN(t.fieldMask)};else{if(!(t instanceof Fk))return St(16599,{Vt:t.type});e={verify:ty(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const u=c.transform;if(u instanceof du)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof gu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof pu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof dd)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw St(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:eN(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St(27497)})(n,t.precondition)),e}function rN(n,t){return n&&n.length>0?($t(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?ji(r.updateTime):ji(o);return c.isEqual(xt.min())&&(c=ji(o)),new Bk(c,r.transformResults||[])})(e,t)))):[]}function aN(n,t){return{documents:[e1(n,t.path)]}}function oN(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=e1(n,r);const o=(function(d){if(d.length!==0)return s1(gi.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((m=>(function(b){return{field:qo(b.field),direction:uN(b.dir)}})(m)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const u=Zm(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:r}}function lN(n){let t=nN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){$t(i===1,65062);const m=e.from[0];m.allDescendants?r=m.collectionId:t=t.child(m.collectionId)}let o=[];e.where&&(o=(function(_){const b=i1(_);return b instanceof gi&&kA(b)?b.getFilters():[b]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((b=>(function(A){return new fu(Go(A.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(b)))})(e.orderBy));let u=null;e.limit&&(u=(function(_){let b;return b=typeof _=="object"?_.value:_,Vd(b)?null:b})(e.limit));let f=null;e.startAt&&(f=(function(_){const b=!!_.before,S=_.values||[];return new fd(S,b)})(e.startAt));let d=null;return e.endAt&&(d=(function(_){const b=!_.before,S=_.values||[];return new fd(S,b)})(e.endAt)),xk(t,r,c,o,u,"F",f,d)}function cN(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function i1(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Go(e.unaryFilter.field);return De.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Go(e.unaryFilter.field);return De.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Go(e.unaryFilter.field);return De.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Go(e.unaryFilter.field);return De.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(n):n.fieldFilter!==void 0?(function(e){return De.create(Go(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return gi.create(e.compositeFilter.filters.map((i=>i1(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(e.compositeFilter.op))})(n):St(30097,{filter:n})}function uN(n){return Xk[n]}function hN(n){return Zk[n]}function fN(n){return Jk[n]}function qo(n){return{fieldPath:n.canonicalString()}}function Go(n){return nn.fromServerFormat(n.fieldPath)}function s1(n){return n instanceof De?(function(e){if(e.op==="=="){if(rT(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NAN"}};if(sT(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(rT(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NOT_NAN"}};if(sT(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(e.field),op:hN(e.op),value:e.value}}})(n):n instanceof gi?(function(e){const i=e.getFilters().map((r=>s1(r)));return i.length===1?i[0]:{compositeFilter:{op:fN(e.op),filters:i}}})(n):St(54877,{filter:n})}function dN(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function r1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,e,i,r,o=xt.min(),c=xt.min(),u=sn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t){this.yt=t}}function pN(n){const t=lN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.Cn=new yN}addToCollectionParentIndex(t,e){return this.Cn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(Cr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(Cr.min())}updateCollectionGroup(t,e,i){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class yN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Be(se.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Be(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a1=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(a1,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new rl(0)}static cr(){return new rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="LruGarbageCollector",_N=1048576;function ET([n,t],[e,i]){const r=Pt(n,e);return r===0?Pt(t,i):r}class vN{constructor(t){this.Ir=t,this.buffer=new Be(ET),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();ET(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class bN{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(bT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){_l(e)?ft(bT,"Ignoring IndexedDB error during garbage collection: ",e):await yl(e)}await this.Vr(3e5)}))}}class EN{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return st.resolve(Pd.ce);const i=new vN(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(vT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,u,f,d;const m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,c=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,u=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(d=Date.now(),Ho()<=Nt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-m}ms
	Determined least recently used ${r} in `+(u-c)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function TN(n,t){return new EN(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.changes=new qa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,hn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?st.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&Zc(i.mutation,r,Vn.empty(),ce.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Lt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Lt()){const r=Ma();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=jc();return o.forEach(((u,f)=>{c=c.insert(u,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Ma();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Lt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,u)=>{e.set(c,u)}))}))}computeViews(t,e,i,r){let o=ks();const c=Xc(),u=(function(){return Xc()})();return e.forEach(((f,d)=>{const m=i.get(d.key);r.has(d.key)&&(m===void 0||m.mutation instanceof Ur)?o=o.insert(d.key,d):m!==void 0?(c.set(d.key,m.mutation.getFieldMask()),Zc(m.mutation,d,m.mutation.getFieldMask(),ce.now())):c.set(d.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,m)=>c.set(d,m))),e.forEach(((d,m)=>u.set(d,new wN(m,c.get(d)??null)))),u)))}recalculateAndSaveOverlays(t,e){const i=Xc();let r=new ge(((c,u)=>c-u)),o=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const u of c)u.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let m=i.get(f)||Vn.empty();m=u.applyToLocalView(d,m),i.set(f,m);const _=(r.get(u.batchId)||Lt()).add(f);r=r.insert(u.batchId,_)}))})).next((()=>{const c=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,m=f.value,_=HA();m.forEach((b=>{if(!o.has(b)){const S=WA(e.get(b),i.get(b));S!==null&&_.set(b,S),o=o.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,d,_))}return st.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):LA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):st.resolve(Ma());let u=lu,f=o;return c.next((d=>st.forEach(d,((m,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(m)?st.resolve():this.remoteDocumentCache.getEntry(t,m).next((b=>{f=f.insert(m,b)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,Lt()))).next((m=>({batchId:u,changes:jA(m)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((i=>{let r=jc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=jc();return this.indexManager.getCollectionParents(t,o).next((u=>st.forEach(u,(f=>{const d=(function(_,b){return new Fa(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next((m=>{m.forEach(((_,b)=>{c=c.insert(_,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,d)=>{const m=d.getKey();c.get(m)===null&&(c=c.insert(m,hn.newInvalidDocument(m)))}));let u=jc();return c.forEach(((f,d)=>{const m=o.get(f);m!==void 0&&Zc(m.mutation,d,Vn.empty(),ce.now()),Bd(e,d)&&(u=u.insert(f,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return st.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:ji(r.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:pN(r.bundledQuery),readTime:ji(r.readTime)}})(e)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.overlays=new ge(yt.comparator),this.qr=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ma();return st.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),st.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),st.resolve()}getOverlaysForCollection(t,e,i){const r=Ma(),o=e.length+1,c=new yt(e.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ge(((d,m)=>d-m));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let m=o.get(d.largestBatchId);m===null&&(m=Ma(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Ma(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,m)=>u.set(d,m))),!(u.size()>=r)););return st.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Gk(e,i));let o=this.qr.get(e);o===void 0&&(o=Lt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.Qr=new Be(We.$r),this.Ur=new Be(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new We(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new We(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new yt(new se([])),i=new We(e,t),r=new We(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new yt(new se([])),i=new We(e,t),r=new We(e,t+1);let o=Lt();return this.Ur.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new We(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class We{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return yt.comparator(t.key,e.key)||Pt(t.Yr,e.Yr)}static Kr(t,e){return Pt(t.Yr,e.Yr)||yt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Be(We.$r)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new qk(o,e,i,r);this.mutationQueue.push(c);for(const u of r)this.Zr=this.Zr.add(new We(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?Fy:this.tr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new We(e,0),r=new We(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(c=>{const u=this.Xr(c.Yr);o.push(u)})),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Be(Pt);return e.forEach((r=>{const o=new We(r,0),c=new We(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(u=>{i=i.add(u.Yr)}))})),st.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;yt.isDocumentKey(o)||(o=o.child(""));const c=new We(new yt(o),0);let u=new Be(Pt);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(f.Yr)),!0)}),c),st.resolve(this.ti(u))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){$t(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return st.forEach(e.mutations,(r=>{const o=new We(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new We(e,0),r=this.Zr.firstAfterOrEqual(i);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.ri=t,this.docs=(function(){return new ge(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return st.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(e))}getEntries(t,e){let i=ks();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():hn.newInvalidDocument(r))})),st.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=ks();const c=e.path,u=new yt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||sk(ik(m),i)<=0||(r.has(m.key)||Bd(e,m))&&(o=o.insert(m.key,m.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,i,r){St(9500)}ii(t,e){return st.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new MN(this)}getSize(t){return st.resolve(this.size)}}class MN extends SN{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),st.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t){this.persistence=t,this.si=new qa((e=>Yy(e)),$y),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new Jy,this.targetCount=0,this.ai=rl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),st.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new rl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.Pr(e),st.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((c,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),st.waitFor(o).next((()=>r))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return st.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),st.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return st.resolve(i)}containsKey(t,e){return st.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,e){this.ui={},this.overlays={},this.ci=new Pd(0),this.li=!1,this.li=!0,this.hi=new CN,this.referenceDelegate=t(this),this.Pi=new ON(this),this.indexManager=new mN,this.remoteDocumentCache=(function(r){return new DN(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new gN(e),this.Ii=new xN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new RN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new IN(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ft("MemoryPersistence","Starting transaction:",t);const r=new kN(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return st.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class kN extends ak{constructor(t){super(),this.currentSequenceNumber=t}}class t_{constructor(t){this.persistence=t,this.Ri=new Jy,this.Vi=null}static mi(t){return new t_(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),st.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.fi,(i=>{const r=yt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,xt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return st.or([()=>st.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class pd{constructor(t,e){this.persistence=t,this.pi=new qa((i=>ck(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=TN(this,e)}static mi(t,e){return new pd(t,e)}Ei(){}di(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return st.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?st.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(c=>this.br(t,c,e).next((u=>{u||(i++,o.removeEntry(c,xt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),st.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Gf(t.data.value)),e}br(t,e,i){return st.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return st.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Lt(),r=Lt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new e_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return o2()?8:ok(dn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new NN;return this.Ss(t,e,c).next((u=>{if(o.result=u,this.Vs)return this.bs(t,e,c,u.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Ho()<=Nt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Fo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),st.resolve()):(Ho()<=Nt.DEBUG&&ft("QueryEngine","Query:",Fo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Ho()<=Nt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Fo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(e))):st.resolve())}ys(t,e){if(cT(e))return st.resolve(null);let i=Bi(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=Xm(e,null,"F"),i=Bi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Lt(...o);return this.ps.getDocuments(t,c).next((u=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.Ds(e,u);return this.Cs(e,d,c,f.readTime)?this.ys(t,Xm(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,i,r){return cT(e)||r.isEqual(xt.min())?st.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?st.resolve(null):(Ho()<=Nt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fo(e)),this.vs(t,c,e,nk(r,lu)).next((u=>u)))}))}Ds(t,e){let i=new Be(zA(t));return e.forEach(((r,o)=>{Bd(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Ho()<=Nt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Fo(e)),this.ps.getDocumentsMatchingQuery(t,e,Cr.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LocalStore",VN=3e8;class LN{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new ge(Pt),this.xs=new qa((o=>Yy(o)),$y),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new AN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function UN(n,t,e,i){return new LN(n,t,e,i)}async function l1(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],u=[];let f=Lt();for(const d of r){c.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of o){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:c,addedBatchIds:u})))}))}))}function zN(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,m){const _=d.batch,b=_.keys();let S=st.resolve();return b.forEach((A=>{S=S.next((()=>m.getEntry(f,A))).next((I=>{const x=d.docVersions.get(A);$t(x!==null,48541),I.version.compareTo(x)<0&&(_.applyToRemoteDocument(I,d),I.isValidDocument()&&(I.setReadTime(d.commitVersion),m.addEntry(I)))}))})),S.next((()=>u.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let f=Lt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function c1(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function BN(n,t){const e=Ct(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach(((m,_)=>{const b=r.get(_);if(!b)return;u.push(e.Pi.removeMatchingKeys(o,m.removedDocuments,_).next((()=>e.Pi.addMatchingKeys(o,m.addedDocuments,_))));let S=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?S=S.withResumeToken(sn.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,i)),r=r.insert(_,S),(function(I,x,V){return I.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=VN?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(b,S,m)&&u.push(e.Pi.updateTargetData(o,S))}));let f=ks(),d=Lt();if(t.documentUpdates.forEach((m=>{t.resolvedLimboDocuments.has(m)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,m))})),u.push(jN(o,c,t.documentUpdates).next((m=>{f=m.ks,d=m.qs}))),!i.isEqual(xt.min())){const m=e.Pi.getLastRemoteSnapshotVersion(o).next((_=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(m)}return st.waitFor(u).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function jN(n,t,e){let i=Lt(),r=Lt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=ks();return e.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(xt.min())?(t.removeEntry(u,f.readTime),c=c.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),c=c.insert(u,f)):ft(n_,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:c,qs:r}}))}function HN(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Fy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function FN(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,st.resolve(r)):e.Pi.allocateTargetId(i).next((c=>(r=new vr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function ny(n,t,e){const i=Ct(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!_l(c))throw c;ft(n_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function TT(n,t,e){const i=Ct(n);let r=xt.min(),o=Lt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,d,m){const _=Ct(f),b=_.xs.get(m);return b!==void 0?st.resolve(_.Ms.get(b)):_.Pi.getTargetData(d,m)})(i,c,Bi(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,u.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:xt.min(),e?o:Lt()))).next((u=>(qN(i,Ck(t),u),{documents:u,Qs:o})))))}function qN(n,t,e){let i=n.Os.get(t)||xt.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class ST{constructor(){this.activeTargetIds=Nk()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GN{constructor(){this.Mo=new ST,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ST,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="ConnectivityMonitor";class AT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(wT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(wT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=null;function iy(){return Tf===null?Tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tf++,"0x"+Tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",$N={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WN{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===ud?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=iy(),u=this.zo(t,e.toUriEncodedString());ft(Tm,`Sending RPC '${t}' ${c}:`,u,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:d}=new URL(u),m=dl(d);return this.Jo(t,u,f,i,m).then((_=>(ft(Tm,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw el(Tm,`RPC '${t}' ${c} failed with error: `,_,"url: ",u,"request:",i),_}))}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ml})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=$N[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class QN extends WN{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=iy();return new Promise(((u,f)=>{const d=new dA;d.setWithCredentials(!0),d.listenOnce(gA.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case qf.NO_ERROR:const _=d.getResponseJson();ft(ln,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),u(_);break;case qf.TIMEOUT:ft(ln,`RPC '${t}' ${c} timed out`),f(new ht(nt.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const b=d.getStatus();if(ft(ln,`RPC '${t}' ${c} failed with status:`,b,"response text:",d.getResponseText()),b>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S?.error;if(A&&A.status&&A.message){const I=(function(V){const z=V.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(z)>=0?z:nt.UNKNOWN})(A.status);f(new ht(I,A.message))}else f(new ht(nt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new ht(nt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ft(ln,`RPC '${t}' ${c} completed.`)}}));const m=JSON.stringify(r);ft(ln,`RPC '${t}' ${c} sending request:`,r),d.send(e,"POST",m,i,15)}))}T_(t,e,i){const r=iy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=yA(),u=mA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const m=o.join("");ft(ln,`Creating RPC '${t}' stream ${r}: ${m}`,f);const _=c.createWebChannel(m,f);this.I_(_);let b=!1,S=!1;const A=new KN({Yo:x=>{S?ft(ln,`Not sending because RPC '${t}' stream ${r} is closed:`,x):(b||(ft(ln,`Opening RPC '${t}' stream ${r} transport.`),_.open(),b=!0),ft(ln,`RPC '${t}' stream ${r} sending:`,x),_.send(x))},Zo:()=>_.close()}),I=(x,V,z)=>{x.listen(V,(F=>{try{z(F)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return I(_,Bc.EventType.OPEN,(()=>{S||(ft(ln,`RPC '${t}' stream ${r} transport opened.`),A.o_())})),I(_,Bc.EventType.CLOSE,(()=>{S||(S=!0,ft(ln,`RPC '${t}' stream ${r} transport closed`),A.a_(),this.E_(_))})),I(_,Bc.EventType.ERROR,(x=>{S||(S=!0,el(ln,`RPC '${t}' stream ${r} transport errored. Name:`,x.name,"Message:",x.message),A.a_(new ht(nt.UNAVAILABLE,"The operation could not be completed")))})),I(_,Bc.EventType.MESSAGE,(x=>{if(!S){const V=x.data[0];$t(!!V,16349);const z=V,F=z?.error||z[0]?.error;if(F){ft(ln,`RPC '${t}' stream ${r} received error:`,F);const tt=F.status;let $=(function(C){const D=Ie[C];if(D!==void 0)return QA(D)})(tt),ot=F.message;$===void 0&&($=nt.INTERNAL,ot="Unknown error status: "+tt+" with message "+F.message),S=!0,A.a_(new ht($,ot)),_.close()}else ft(ln,`RPC '${t}' stream ${r} received:`,V),A.u_(V)}})),I(u,pA.STAT_EVENT,(x=>{x.stat===qm.PROXY?ft(ln,`RPC '${t}' stream ${r} detected buffering proxy`):x.stat===qm.NOPROXY&&ft(ln,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(n){return new tN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&ft("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="PersistentStream";class h1{constructor(t,e,i,r,o,c,u,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new u1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===nt.RESOURCE_EXHAUSTED?(Os(e.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new ht(nt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(xT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ft(xT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XN extends h1{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=iN(this.serializer,t),i=(function(o){if(!("targetChange"in o))return xt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?xt.min():c.readTime?ji(c.readTime):xt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=ey(this.serializer),e.addTarget=(function(o,c){let u;const f=c.target;if(u=Km(f)?{documents:aN(o,f)}:{query:oN(o,f).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=JA(o,c.resumeToken);const d=Zm(o,c.expectedCount);d!==null&&(u.expectedCount=d)}else if(c.snapshotVersion.compareTo(xt.min())>0){u.readTime=gd(o,c.snapshotVersion.toTimestamp());const d=Zm(o,c.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,t);const i=cN(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=ey(this.serializer),e.removeTarget=t,this.q_(e)}}class ZN extends h1{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=rN(t.writeResults,t.commitTime),i=ji(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=ey(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>sN(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{}class tP extends JN{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,Jm(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ht(nt.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Ho(t,Jm(e,i),r,c,u,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(nt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(e),this.aa=!1):ft("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class nP{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ga(this)&&(ft(Ba,"Restarting streams for network reachability change."),await(async function(f){const d=Ct(f);d.Ea.add(4),await Pu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Gd(d)})(this))}))})),this.Ra=new eP(i,r)}}async function Gd(n){if(Ga(n))for(const t of n.da)await t(!0)}async function Pu(n){for(const t of n.da)await t(!1)}function f1(n,t){const e=Ct(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),a_(e)?r_(e):vl(e).O_()&&s_(e,t))}function i_(n,t){const e=Ct(n),i=vl(e);e.Ia.delete(t),i.O_()&&d1(e,t),e.Ia.size===0&&(i.O_()?i.L_():Ga(e)&&e.Ra.set("Unknown"))}function s_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}vl(n).Y_(t)}function d1(n,t){n.Va.Ue(t),vl(n).Z_(t)}function r_(n){n.Va=new Qk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),vl(n).start(),n.Ra.ua()}function a_(n){return Ga(n)&&!vl(n).x_()&&n.Ia.size>0}function Ga(n){return Ct(n).Ea.size===0}function g1(n){n.Va=void 0}async function iP(n){n.Ra.set("Online")}async function sP(n){n.Ia.forEach(((t,e)=>{s_(n,t)}))}async function rP(n,t){g1(n),a_(n)?(n.Ra.ha(t),r_(n)):n.Ra.set("Unknown")}async function aP(n,t,e){if(n.Ra.set("Online"),t instanceof ZA&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,c),r.Ia.delete(u),r.Va.removeTarget(u))})(n,t)}catch(i){ft(Ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await md(n,i)}else if(t instanceof Wf?n.Va.Ze(t):t instanceof XA?n.Va.st(t):n.Va.tt(t),!e.isEqual(xt.min()))try{const i=await c1(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const u=o.Va.Tt(c);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.Ia.get(d);m&&o.Ia.set(d,m.withResumeToken(f.resumeToken,c))}})),u.targetMismatches.forEach(((f,d)=>{const m=o.Ia.get(f);if(!m)return;o.Ia.set(f,m.withResumeToken(sn.EMPTY_BYTE_STRING,m.snapshotVersion)),d1(o,f);const _=new vr(m.target,f,d,m.sequenceNumber);s_(o,_)})),o.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){ft(Ba,"Failed to raise snapshot:",i),await md(n,i)}}async function md(n,t,e){if(!_l(t))throw t;n.Ea.add(1),await Pu(n),n.Ra.set("Offline"),e||(e=()=>c1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ft(Ba,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Gd(n)}))}function p1(n,t){return t().catch((e=>md(n,e,t)))}async function Yd(n){const t=Ct(n),e=Or(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Fy;for(;oP(t);)try{const r=await HN(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,lP(t,r)}catch(r){await md(t,r)}m1(t)&&y1(t)}function oP(n){return Ga(n)&&n.Ta.length<10}function lP(n,t){n.Ta.push(t);const e=Or(n);e.O_()&&e.X_&&e.ea(t.mutations)}function m1(n){return Ga(n)&&!Or(n).x_()&&n.Ta.length>0}function y1(n){Or(n).start()}async function cP(n){Or(n).ra()}async function uP(n){const t=Or(n);for(const e of n.Ta)t.ea(e.mutations)}async function hP(n,t,e){const i=n.Ta.shift(),r=Qy.from(i,t,e);await p1(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Yd(n)}async function fP(n,t){t&&Or(n).X_&&await(async function(i,r){if((function(c){return $k(c)&&c!==nt.ABORTED})(r.code)){const o=i.Ta.shift();Or(i).B_(),await p1(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Yd(i)}})(n,t),m1(n)&&y1(n)}async function RT(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),ft(Ba,"RemoteStore received new credentials");const i=Ga(e);e.Ea.add(3),await Pu(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Gd(e)}async function dP(n,t){const e=Ct(n);t?(e.Ea.delete(2),await Gd(e)):t||(e.Ea.add(2),await Pu(e),e.Ra.set("Unknown"))}function vl(n){return n.ma||(n.ma=(function(e,i,r){const o=Ct(e);return o.sa(),new XN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:iP.bind(null,n),t_:sP.bind(null,n),r_:rP.bind(null,n),H_:aP.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),a_(n)?r_(n):n.Ra.set("Unknown")):(await n.ma.stop(),g1(n))}))),n.ma}function Or(n){return n.fa||(n.fa=(function(e,i,r){const o=Ct(e);return o.sa(),new ZN(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:cP.bind(null,n),r_:fP.bind(null,n),ta:uP.bind(null,n),na:hP.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Yd(n)):(await n.fa.stop(),n.Ta.length>0&&(ft(Ba,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,u=new o_(t,e,c,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l_(n,t){if(Os("AsyncQueue",`${t}: ${n}`),_l(n))return new ht(nt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(t){return new Xo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||yt.comparator(e.key,i.key):(e,i)=>yt.comparator(e.key,i.key),this.keyedMap=jc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Xo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Xo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.ga=new ge(yt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class al{constructor(t,e,i,r,o,c,u,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((u=>{c.push({type:0,doc:u})})),new al(t,e,Xo.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class pP{constructor(){this.queries=IT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Ct(e),o=r.queries;r.queries=IT(),o.forEach(((c,u)=>{for(const f of u.Sa)f.onError(i)}))})(this,new ht(nt.ABORTED,"Firestore shutting down"))}}function IT(){return new qa((n=>UA(n)),zd)}async function _1(n,t){const e=Ct(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new gP,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const u=l_(c,`Initialization of query '${Fo(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&c_(e)}async function v1(n,t){const e=Ct(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function mP(n,t){const e=Ct(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const u of c.Sa)u.Fa(r)&&(i=!0);c.wa=r}}i&&c_(e)}function yP(n,t,e){const i=Ct(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function c_(n){n.Ca.forEach((t=>{t.next()}))}var sy,DT;(DT=sy||(sy={})).Ma="default",DT.Cache="cache";class b1{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new al(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=al.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t){this.key=t}}class T1{constructor(t){this.key=t}}class _P{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=zA(t),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new CT,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,u=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((m,_)=>{const b=r.get(m),S=Bd(this.query,_)?_:null,A=!!b&&this.mutatedKeys.has(b.key),I=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;b&&S?b.data.isEqual(S.data)?A!==I&&(i.track({type:3,doc:S}),x=!0):this.su(b,S)||(i.track({type:2,doc:S}),x=!0,(f&&this.eu(S,f)>0||d&&this.eu(S,d)<0)&&(u=!0)):!b&&S?(i.track({type:0,doc:S}),x=!0):b&&!S&&(i.track({type:1,doc:b}),x=!0,(f||d)&&(u=!0)),x&&(S?(c=c.add(S),o=I?o.add(m):o.delete(m)):(c=c.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const m=this.query.limitType==="F"?c.last():c.first();c=c.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{tu:c,iu:i,Cs:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((m,_)=>(function(S,A){const I=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:x})}};return I(S)-I(A)})(m.type,_.type)||this.eu(m.doc,_.doc))),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,c.length!==0||d?{snapshot:new al(this.query,t.tu,o,c,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new T1(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new E1(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Lt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const u_="SyncEngine";class vP{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class bP{constructor(t){this.key=t,this.hu=!1}}class EP{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new qa((u=>UA(u)),zd),this.Iu=new Map,this.Eu=new Set,this.du=new ge(yt.comparator),this.Au=new Map,this.Ru=new Jy,this.Vu={},this.mu=new Map,this.fu=rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TP(n,t,e=!0){const i=C1(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await S1(i,t,e,!0),r}async function SP(n,t){const e=C1(n);await S1(e,t,!0,!1)}async function S1(n,t,e,i){const r=await FN(n.localStore,Bi(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await wP(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&f1(n.remoteStore,r),u}async function wP(n,t,e,i,r){n.pu=(_,b,S)=>(async function(I,x,V,z){let F=x.view.ru(V);F.Cs&&(F=await TT(I.localStore,x.query,!1).then((({documents:M})=>x.view.ru(M,F))));const tt=z&&z.targetChanges.get(x.targetId),$=z&&z.targetMismatches.get(x.targetId)!=null,ot=x.view.applyChanges(F,I.isPrimaryClient,tt,$);return OT(I,x.targetId,ot.au),ot.snapshot})(n,_,b,S);const o=await TT(n.localStore,t,!0),c=new _P(t,o.Qs),u=c.ru(o.documents),f=Nu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=c.applyChanges(u,n.isPrimaryClient,f);OT(n,e,d.au);const m=new vP(t,e,c);return n.Tu.set(t,m),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function AP(n,t,e){const i=Ct(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!zd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await ny(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&i_(i.remoteStore,r.targetId),ry(i,r.targetId)})).catch(yl)):(ry(i,r.targetId),await ny(i.localStore,r.targetId,!0))}async function xP(n,t){const e=Ct(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),i_(e.remoteStore,i.targetId))}async function RP(n,t,e){const i=NP(n);try{const r=await(function(c,u){const f=Ct(c),d=ce.now(),m=u.reduce(((S,A)=>S.add(A.key)),Lt());let _,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let A=ks(),I=Lt();return f.Ns.getEntries(S,m).next((x=>{A=x,A.forEach(((V,z)=>{z.isValidDocument()||(I=I.add(V))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,A))).next((x=>{_=x;const V=[];for(const z of u){const F=Hk(z,_.get(z.key).overlayedDocument);F!=null&&V.push(new Ur(z.key,F,DA(F.value.mapValue),hi.exists(!0)))}return f.mutationQueue.addMutationBatch(S,d,V,u)})).next((x=>{b=x;const V=x.applyToLocalDocumentSet(_,I);return f.documentOverlayCache.saveOverlays(S,x.batchId,V)}))})).then((()=>({batchId:b.batchId,changes:jA(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,u,f){let d=c.Vu[c.currentUser.toKey()];d||(d=new ge(Pt)),d=d.insert(u,f),c.Vu[c.currentUser.toKey()]=d})(i,r.batchId,e),await Vu(i,r.changes),await Yd(i.remoteStore)}catch(r){const o=l_(r,"Failed to persist write");e.reject(o)}}async function w1(n,t){const e=Ct(n);try{const i=await BN(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&($t(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?$t(c.hu,14607):r.removedDocuments.size>0&&($t(c.hu,42227),c.hu=!1))})),await Vu(e,i,t)}catch(i){await yl(i)}}function MT(n,t,e){const i=Ct(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const u=c.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(c,u){const f=Ct(c);f.onlineState=u;let d=!1;f.queries.forEach(((m,_)=>{for(const b of _.Sa)b.va(u)&&(d=!0)})),d&&c_(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function CP(n,t,e){const i=Ct(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new ge(yt.comparator);c=c.insert(o,hn.newNoDocument(o,xt.min()));const u=Lt().add(o),f=new Fd(xt.min(),new Map,new ge(Pt),c,u);await w1(i,f),i.du=i.du.remove(o),i.Au.delete(t),h_(i)}else await ny(i.localStore,t,!1).then((()=>ry(i,t,e))).catch(yl)}async function IP(n,t){const e=Ct(n),i=t.batch.batchId;try{const r=await zN(e.localStore,t);x1(e,i,null),A1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Vu(e,r)}catch(r){await yl(r)}}async function DP(n,t,e){const i=Ct(n);try{const r=await(function(c,u){const f=Ct(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return f.mutationQueue.lookupMutationBatch(d,u).next((_=>($t(_!==null,37113),m=_.keys(),f.mutationQueue.removeMutationBatch(d,_)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>f.localDocuments.getDocuments(d,m)))}))})(i.localStore,t);x1(i,t,e),A1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Vu(i,r)}catch(r){await yl(r)}}function A1(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function x1(n,t,e){const i=Ct(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function ry(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||R1(n,i)}))}function R1(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(i_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),h_(n))}function OT(n,t,e){for(const i of e)i instanceof E1?(n.Ru.addReference(i.key,t),MP(n,i)):i instanceof T1?(ft(u_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||R1(n,i.key)):St(19791,{wu:i})}function MP(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(ft(u_,"New document in limbo: "+e),n.Eu.add(i),h_(n))}function h_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(se.fromString(t)),i=n.fu.next();n.Au.set(i,new bP(e)),n.du=n.du.insert(e,i),f1(n.remoteStore,new vr(Bi(Ud(e.path)),i,"TargetPurposeLimboResolution",Pd.ce))}}async function Vu(n,t,e){const i=Ct(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,f)=>{c.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const m=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(d){r.push(d);const m=e_.As(f.targetId,d);o.push(m)}})))})),await Promise.all(c),i.Pu.H_(r),await(async function(f,d){const m=Ct(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>st.forEach(d,(b=>st.forEach(b.Es,(S=>m.persistence.referenceDelegate.addReference(_,b.targetId,S))).next((()=>st.forEach(b.ds,(S=>m.persistence.referenceDelegate.removeReference(_,b.targetId,S)))))))))}catch(_){if(!_l(_))throw _;ft(n_,"Failed to update sequence numbers: "+_)}for(const _ of d){const b=_.targetId;if(!_.fromCache){const S=m.Ms.get(b),A=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(A);m.Ms=m.Ms.insert(b,I)}}})(i.localStore,o))}async function OP(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){ft(u_,"User change. New user:",t.toKey());const i=await l1(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new ht(nt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Vu(e,i.Ls)}}function kP(n,t){const e=Ct(n),i=e.Au.get(t);if(i&&i.hu)return Lt().add(i.key);{let r=Lt();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const u=e.Tu.get(c);r=r.unionWith(u.view.nu)}return r}}function C1(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=w1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CP.bind(null,t),t.Pu.H_=mP.bind(null,t.eventManager),t.Pu.yu=yP.bind(null,t.eventManager),t}function NP(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=IP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DP.bind(null,t),t}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return UN(this.persistence,new PN,t.initialUser,this.serializer)}Cu(t){return new o1(t_.mi,this.serializer)}Du(t){return new GN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class PP extends yd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){$t(this.persistence.referenceDelegate instanceof pd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bN(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new o1((i=>pd.mi(i,e)),this.serializer)}}class ay{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>MT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=OP.bind(null,this.syncEngine),await dP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pP})()}createDatastore(t){const e=qd(t.databaseInfo.databaseId),i=(function(o){return new QN(o)})(t.databaseInfo);return(function(o,c,u,f){return new tP(o,c,u,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,u){return new nP(i,r,o,c,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>MT(this.syncEngine,e,0)),(function(){return AT.v()?new AT:new YN})())}createSyncEngine(t,e){return(function(r,o,c,u,f,d,m){const _=new EP(r,o,c,u,f,d);return m&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Ct(e);ft(Ba,"RemoteStore shutting down."),i.Ea.add(5),await Pu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ay.provider={build:()=>new ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Os("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class VP{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=un.UNAUTHENTICATED,this.clientId=jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{ft(kr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ft(kr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=l_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function wm(n,t){n.asyncQueue.verifyOperationInProgress(),ft(kr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await l1(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function kT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await LP(n);ft(kr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>RT(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>RT(t.remoteStore,r))),n._onlineComponents=t}async function LP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(kr,"Using user provided OfflineComponentProvider");try{await wm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===nt.FAILED_PRECONDITION||r.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;el("Error using user provided cache. Falling back to memory cache: "+e),await wm(n,new yd)}}else ft(kr,"Using default OfflineComponentProvider"),await wm(n,new PP(void 0));return n._offlineComponents}async function D1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(kr,"Using user provided OnlineComponentProvider"),await kT(n,n._uninitializedComponentsProvider._online)):(ft(kr,"Using default OnlineComponentProvider"),await kT(n,new ay))),n._onlineComponents}function UP(n){return D1(n).then((t=>t.syncEngine))}async function oy(n){const t=await D1(n),e=t.eventManager;return e.onListen=TP.bind(null,t.syncEngine),e.onUnlisten=AP.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=SP.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=xP.bind(null,t.syncEngine),e}function zP(n,t,e={}){const i=new Ar;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,f,d){const m=new I1({next:b=>{m.Nu(),c.enqueueAndForget((()=>v1(o,_)));const S=b.docs.has(u);!S&&b.fromCache?d.reject(new ht(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&f&&f.source==="server"?d.reject(new ht(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),_=new b1(Ud(u.path),m,{includeMetadataChanges:!0,qa:!0});return _1(o,_)})(await oy(n),n.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firestore.googleapis.com",PT=!0;class VT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O1,this.ssl=PT}else this.host=t.host,this.ssl=t.ssl??PT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=a1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_N)throw new ht(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ek("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M1(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Lu{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new GO;switch(i.type){case"firstParty":return new KO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ht(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=NT.get(e);i&&(ft("ComponentProvider","Removing Datastore"),NT.delete(e),i.terminate())})(this),Promise.resolve()}}function BP(n,t,e,i={}){n=ui(n,Lu);const r=dl(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(ww(`https://${u}`),Aw("Firestore",!0)),o.host!==O1&&o.host!==u&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:r,emulatorOptions:i};if(!Pa(f,c)&&(n._setSettings(f),i.mockUserToken)){let d,m;if(typeof i.mockUserToken=="string")d=i.mockUserToken,m=un.MOCK_USER;else{d=ZI(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ht(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new un(_)}n._authCredentials=new YO(new vA(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new zr(this.firestore,t,this._query)}}class Se{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Se(this.firestore,t,this._key)}toJSON(){return{type:Se._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Ou(e,Se._jsonSchema))return new Se(t,i||null,new yt(se.fromString(e.referencePath)))}}Se._jsonSchemaVersion="firestore/documentReference/1.0",Se._jsonSchema={type:Me("string",Se._jsonSchemaVersion),referencePath:Me("string")};class xr extends zr{constructor(t,e,i){super(t,e,Ud(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Se(this.firestore,null,new yt(t))}withConverter(t){return new xr(this.firestore,t,this._path)}}function Uu(n,t,...e){if(n=je(n),Hy("collection","path",t),n instanceof Lu){const i=se.fromString(t,...e);return KE(i),new xr(n,null,i)}{if(!(n instanceof Se||n instanceof xr))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(se.fromString(t,...e));return KE(i),new xr(n.firestore,null,i)}}function jP(n,t){if(n=ui(n,Lu),Hy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ht(nt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zr(n,null,(function(i){return new Fa(se.emptyPath(),i)})(t))}function _d(n,t,...e){if(n=je(n),arguments.length===1&&(t=jy.newId()),Hy("doc","path",t),n instanceof Lu){const i=se.fromString(t,...e);return WE(i),new Se(n,null,new yt(i))}{if(!(n instanceof Se||n instanceof xr))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(se.fromString(t,...e));return WE(i),new Se(n.firestore,n instanceof xr?n.converter:null,new yt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="AsyncQueue";class UT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new u1(this,"async_queue_retry"),this._c=()=>{const i=Sm();i&&ft(LT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Sm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Sm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_l(t))throw t;ft(LT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",zT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=o_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&St(47125,{Pc:zT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function zT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class ja extends Lu{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new UT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new UT(t),this._firestoreClient=void 0,await t}}}function HP(n,t){const e=typeof n=="object"?n:Iw(),i=typeof n=="string"?n:ud,r=My(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=QI("firestore");o&&BP(r,...o)}return r}function f_(n){if(n._terminated)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||FP(n),n._firestoreClient}function FP(n){const t=n._freezeSettings(),e=(function(r,o,c,u){return new fk(r,o,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,M1(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new VP(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(sn.fromBase64String(t))}catch(e){throw new ht(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Zn(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ou(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Me("string",Zn._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ht(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ht(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ht(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(Ou(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Me("string",Hi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ou(t,Fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Fi(t.vectorValues);throw new ht(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Me("string",Fi._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=/^__.*__$/;class GP{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ur(t,this.data,this.fieldMask,e,this.fieldTransforms):new ku(t,this.data,e,this.fieldTransforms)}}class k1{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ur(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function N1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:n})}}class d_{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new d_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return vd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(N1(this.Ac)&&qP.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class YP{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||qd(t)}Cc(t,e,i,r=!1){return new d_({Ac:t,methodName:e,Dc:i,path:nn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g_(n){const t=n._freezeSettings(),e=qd(n._databaseId);return new YP(n._databaseId,!!t.ignoreUndefinedProperties,e)}function $P(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);m_("Data must be an object, but it was:",c,i);const u=P1(i,c);let f,d;if(o.merge)f=new Vn(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const b=ly(t,_,e);if(!c.contains(b))throw new ht(nt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);L1(m,b)||m.push(b)}f=new Vn(m),d=c.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,d=c.fieldTransforms;return new GP(new An(u),f,d)}class Kd extends Wd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kd}}class p_ extends Wd{_toFieldTransform(t){return new Uk(t.path,new du)}isEqual(t){return t instanceof p_}}function WP(n,t,e,i){const r=n.Cc(1,t,e);m_("Data must be an object, but it was:",r,i);const o=[],c=An.empty();Lr(i,((f,d)=>{const m=y_(t,f,e);d=je(d);const _=r.yc(m);if(d instanceof Kd)o.push(m);else{const b=zu(d,_);b!=null&&(o.push(m),c.set(m,b))}}));const u=new Vn(o);return new k1(c,u,r.fieldTransforms)}function KP(n,t,e,i,r,o){const c=n.Cc(1,t,e),u=[ly(t,i,e)],f=[r];if(o.length%2!=0)throw new ht(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)u.push(ly(t,o[b])),f.push(o[b+1]);const d=[],m=An.empty();for(let b=u.length-1;b>=0;--b)if(!L1(d,u[b])){const S=u[b];let A=f[b];A=je(A);const I=c.yc(S);if(A instanceof Kd)d.push(S);else{const x=zu(A,I);x!=null&&(d.push(S),m.set(S,x))}}const _=new Vn(d);return new k1(m,_,c.fieldTransforms)}function QP(n,t,e,i=!1){return zu(e,n.Cc(i?4:3,t))}function zu(n,t){if(V1(n=je(n)))return m_("Unsupported field value:",t,n),P1(n,t);if(n instanceof Wd)return(function(i,r){if(!N1(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const u of i){let f=zu(u,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=je(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Pk(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ce.fromDate(i);return{timestampValue:gd(r.serializer,o)}}if(i instanceof ce){const o=new ce(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gd(r.serializer,o)}}if(i instanceof Hi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zn)return{bytesValue:JA(r.serializer,i._byteString)};if(i instanceof Se){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Fi)return(function(c,u){return{mapValue:{fields:{[CA]:{stringValue:IA},[hd]:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return Wy(u.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Nd(i)}`)})(n,t)}function P1(n,t){const e={};return TA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lr(n,((i,r)=>{const o=zu(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function V1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ce||n instanceof Hi||n instanceof Zn||n instanceof Se||n instanceof Wd||n instanceof Fi)}function m_(n,t,e){if(!V1(e)||!bA(e)){const i=Nd(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function ly(n,t,e){if((t=je(t))instanceof $d)return t._internalPath;if(typeof t=="string")return y_(n,t);throw vd("Field path arguments must be of type string or ",n,!1,void 0,e)}const XP=new RegExp("[~\\*/\\[\\]]");function y_(n,t,e){if(t.search(XP)>=0)throw vd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new $d(...t.split("."))._internalPath}catch{throw vd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function vd(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new ht(nt.INVALID_ARGUMENT,u+n+f)}function L1(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Qd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class ZP extends U1{data(){return super.data()}}function Qd(n,t){return typeof t=="string"?y_(n,t):t instanceof $d?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ht(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class __{}class z1 extends __{}function Bu(n,t,...e){let i=[];t instanceof __&&i.push(t),i=i.concat(e),(function(o){const c=o.filter((f=>f instanceof v_)).length,u=o.filter((f=>f instanceof Xd)).length;if(c>1||c>0&&u>0)throw new ht(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class Xd extends z1{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Xd(t,e,i)}_apply(t){const e=this._parse(t);return B1(t._query,e),new zr(t.firestore,t.converter,Qm(t._query,e))}_parse(t){const e=g_(t.firestore);return(function(o,c,u,f,d,m,_){let b;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ht(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){HT(_,m);const A=[];for(const I of _)A.push(jT(f,o,I));b={arrayValue:{values:A}}}else b=jT(f,o,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||HT(_,m),b=QP(u,c,_,m==="in"||m==="not-in");return De.create(d,m,b)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function tV(n,t,e){const i=t,r=Qd("where",n);return Xd._create(r,i,e)}class v_ extends __{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new v_(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:gi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let c=r;const u=o.getFlattenedFilters();for(const f of u)B1(c,f),c=Qm(c,f)})(t._query,e),new zr(t.firestore,t.converter,Qm(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class b_ extends z1{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new b_(t,e)}_apply(t){const e=(function(r,o,c){if(r.startAt!==null)throw new ht(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ht(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(o,c)})(t._query,this._field,this._direction);return new zr(t.firestore,t.converter,(function(r,o){const c=r.explicitOrderBy.concat([o]);return new Fa(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function E_(n,t="asc"){const e=t,i=Qd("orderBy",n);return b_._create(i,e)}function jT(n,t,e){if(typeof(e=je(e))=="string"){if(e==="")throw new ht(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LA(t)&&e.indexOf("/")!==-1)throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(se.fromString(e));if(!yt.isDocumentKey(i))throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return iT(n,new yt(i))}if(e instanceof Se)return iT(n,e._key);throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nd(e)}.`)}function HT(n,t){if(!Array.isArray(n)||n.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function B1(n,t){const e=(function(r,o){for(const c of r)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class eV{convertValue(t,e="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Lr(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[hd].arrayValue?.values?.map((i=>Te(i.doubleValue)));return new Fi(e)}convertGeoPoint(t){return new Hi(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Ld(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(cu(t));default:return null}}convertTimestamp(t){const e=Ir(t);return new ce(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=se.fromString(t);$t(r1(i),9688,{name:t});const r=new uu(i.get(1),i.get(3)),o=new yt(i.popFirst(5));return r.isEqual(e)||Os(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class Fc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ka extends U1{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Qd("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ka._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",ka._jsonSchema={type:Me("string",ka._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Kf extends ka{data(t={}){return super.data(t)}}class Zo{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Fc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Kf(this._firestore,this._userDataWriter,i.key,i,new Fc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ht(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((u=>{const f=new Kf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Fc(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new Kf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Fc(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,m=-1;return u.type!==0&&(d=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),m=c.indexOf(u.doc.key)),{type:iV(u.type),doc:f,oldIndex:d,newIndex:m}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Zo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=jy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function iV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(n){n=ui(n,Se);const t=ui(n.firestore,ja);return zP(f_(t),n._key).then((e=>H1(t,n,e)))}Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:Me("string",Zo._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class j1 extends eV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Se(this.firestore,null,e)}}function rV(n,t,e,...i){n=ui(n,Se);const r=ui(n.firestore,ja),o=g_(r);let c;return c=typeof(t=je(t))=="string"||t instanceof $d?KP(o,"updateDoc",n._key,t,e,i):WP(o,"updateDoc",n._key,t),T_(r,[c.toMutation(n._key,hi.exists(!0))])}function aV(n){return T_(ui(n.firestore,ja),[new Ky(n._key,hi.none())])}function oV(n,t){const e=ui(n.firestore,ja),i=_d(n),r=nV(n.converter,t);return T_(e,[$P(g_(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,hi.exists(!1))]).then((()=>i))}function ju(n,...t){n=je(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||BT(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(BT(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,c,u;if(n instanceof Se)c=ui(n.firestore,ja),u=Ud(n._key.path),o={next:f=>{t[i]&&t[i](H1(c,n,f))},error:t[i+1],complete:t[i+2]};else{const f=ui(n,zr);c=ui(f.firestore,ja),u=f._query;const d=new j1(c);o={next:m=>{t[i]&&t[i](new Zo(c,d,f,m))},error:t[i+1],complete:t[i+2]},JP(n._query)}return(function(d,m,_,b){const S=new I1(b),A=new b1(m,S,_);return d.asyncQueue.enqueueAndForget((async()=>_1(await oy(d),A))),()=>{S.Nu(),d.asyncQueue.enqueueAndForget((async()=>v1(await oy(d),A)))}})(f_(c),u,r,o)}function T_(n,t){return(function(i,r){const o=new Ar;return i.asyncQueue.enqueueAndForget((async()=>RP(await UP(i),r,o))),o.promise})(f_(n),t)}function H1(n,t,e){const i=e.docs.get(t._key),r=new j1(n);return new ka(n,r,t._key,i,new Fc(e.hasPendingWrites,e.fromCache),t.converter)}function lV(){return new p_("serverTimestamp")}(function(t,e=!0){(function(r){ml=r})(gl),tl(new Va("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),u=new ja(new $O(i.getProvider("auth-internal")),new QO(c,i.getProvider("app-check-internal")),(function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ht(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(d.options.projectId,m)})(c,r),c);return o={useFetchStreams:e,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Sr(qE,GE,t),Sr(qE,GE,"esm2020")})();const cV={apiKey:"AIzaSyCPVy5yb8g-mDOQvTrrHlaXjnx7G1BRdl0",authDomain:"finance-tracker-93d53.firebaseapp.com",projectId:"finance-tracker-93d53",storageBucket:"finance-tracker-93d53.firebasestorage.app",messagingSenderId:"916170105392",appId:"1:916170105392:web:520f4b479ecadc794503f5",measurementId:"G-EENLEN866Q"},F1=Cw(cV),Le=jO(F1),Cs=HP(F1),Zd=j.createContext(),uV=({children:n})=>{const[t,e]=j.useState(null),[i,r]=j.useState(!0);return j.useEffect(()=>{const o=IM(Le,c=>{e(c),r(!1)});return()=>o()},[]),X.jsx(Zd.Provider,{value:{user:t,loading:i},children:n})},Jd=j.createContext(),hV=({children:n})=>{const[t,e]=j.useState(()=>localStorage.getItem("theme")||"light");j.useEffect(()=>{localStorage.setItem("theme",t)},[t]),j.useEffect(()=>{document.body.className=t},[t]);const i=()=>{e(r=>r==="light"?"dark":"light")};return X.jsx(Jd.Provider,{value:{theme:t,toggleTheme:i},children:n})};let fV={data:""},dV=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||fV,gV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pV=/\/\*[^]*?\*\/|  +/g,FT=/\n+/g,_r=(n,t)=>{let e="",i="",r="";for(let o in n){let c=n[o];o[0]=="@"?o[1]=="i"?e=o+" "+c+";":i+=o[1]=="f"?_r(c,o):o+"{"+_r(c,o[1]=="k"?"":t)+"}":typeof c=="object"?i+=_r(c,t?t.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,u):u?u+" "+f:f)):o):c!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=_r.p?_r.p(o,c):o+":"+c+";")}return e+(t&&r?t+"{"+r+"}":r)+i},_s={},q1=n=>{if(typeof n=="object"){let t="";for(let e in n)t+=e+q1(n[e]);return t}return n},mV=(n,t,e,i,r)=>{let o=q1(n),c=_s[o]||(_s[o]=(f=>{let d=0,m=11;for(;d<f.length;)m=101*m+f.charCodeAt(d++)>>>0;return"go"+m})(o));if(!_s[c]){let f=o!==n?n:(d=>{let m,_,b=[{}];for(;m=gV.exec(d.replace(pV,""));)m[4]?b.shift():m[3]?(_=m[3].replace(FT," ").trim(),b.unshift(b[0][_]=b[0][_]||{})):b[0][m[1]]=m[2].replace(FT," ").trim();return b[0]})(n);_s[c]=_r(r?{["@keyframes "+c]:f}:f,e?"":"."+c)}let u=e&&_s.g?_s.g:null;return e&&(_s.g=_s[c]),((f,d,m,_)=>{_?d.data=d.data.replace(_,f):d.data.indexOf(f)===-1&&(d.data=m?f+d.data:d.data+f)})(_s[c],t,i,u),c},yV=(n,t,e)=>n.reduce((i,r,o)=>{let c=t[o];if(c&&c.call){let u=c(e),f=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=f?"."+f:u&&typeof u=="object"?u.props?"":_r(u,""):u===!1?"":u}return i+r+(c??"")},"");function tg(n){let t=this||{},e=n.call?n(t.p):n;return mV(e.unshift?e.raw?yV(e,[].slice.call(arguments,1),t.p):e.reduce((i,r)=>Object.assign(i,r&&r.call?r(t.p):r),{}):e,dV(t.target),t.g,t.o,t.k)}let G1,cy,uy;tg.bind({g:1});let Ns=tg.bind({k:1});function _V(n,t,e,i){_r.p=t,G1=n,cy=e,uy=i}function Br(n,t){let e=this||{};return function(){let i=arguments;function r(o,c){let u=Object.assign({},o),f=u.className||r.className;e.p=Object.assign({theme:cy&&cy()},u),e.o=/ *go\d+/.test(f),u.className=tg.apply(e,i)+(f?" "+f:"");let d=n;return n[0]&&(d=u.as||n,delete u.as),uy&&d[0]&&uy(u),G1(d,u)}return r}}var vV=n=>typeof n=="function",bd=(n,t)=>vV(n)?n(t):n,bV=(()=>{let n=0;return()=>(++n).toString()})(),Y1=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),EV=20,S_="default",$1=(n,t)=>{let{toastLimit:e}=n.settings;switch(t.type){case 0:return{...n,toasts:[t.toast,...n.toasts].slice(0,e)};case 1:return{...n,toasts:n.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:i}=t;return $1(n,{type:n.toasts.find(c=>c.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=t;return{...n,toasts:n.toasts.map(c=>c.id===r||r===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...n,pausedAt:t.time};case 6:let o=t.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+o}))}}},Qf=[],W1={toasts:[],pausedAt:void 0,settings:{toastLimit:EV}},Li={},K1=(n,t=S_)=>{Li[t]=$1(Li[t]||W1,n),Qf.forEach(([e,i])=>{e===t&&i(Li[t])})},Q1=n=>Object.keys(Li).forEach(t=>K1(n,t)),TV=n=>Object.keys(Li).find(t=>Li[t].toasts.some(e=>e.id===n)),eg=(n=S_)=>t=>{K1(t,n)},SV={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wV=(n={},t=S_)=>{let[e,i]=j.useState(Li[t]||W1),r=j.useRef(Li[t]);j.useEffect(()=>(r.current!==Li[t]&&i(Li[t]),Qf.push([t,i]),()=>{let c=Qf.findIndex(([u])=>u===t);c>-1&&Qf.splice(c,1)}),[t]);let o=e.toasts.map(c=>{var u,f,d;return{...n,...n[c.type],...c,removeDelay:c.removeDelay||((u=n[c.type])==null?void 0:u.removeDelay)||n?.removeDelay,duration:c.duration||((f=n[c.type])==null?void 0:f.duration)||n?.duration||SV[c.type],style:{...n.style,...(d=n[c.type])==null?void 0:d.style,...c.style}}});return{...e,toasts:o}},AV=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:e?.id||bV()}),Hu=n=>(t,e)=>{let i=AV(t,n,e);return eg(i.toasterId||TV(i.id))({type:2,toast:i}),i.id},Ue=(n,t)=>Hu("blank")(n,t);Ue.error=Hu("error");Ue.success=Hu("success");Ue.loading=Hu("loading");Ue.custom=Hu("custom");Ue.dismiss=(n,t)=>{let e={type:3,toastId:n};t?eg(t)(e):Q1(e)};Ue.dismissAll=n=>Ue.dismiss(void 0,n);Ue.remove=(n,t)=>{let e={type:4,toastId:n};t?eg(t)(e):Q1(e)};Ue.removeAll=n=>Ue.remove(void 0,n);Ue.promise=(n,t,e)=>{let i=Ue.loading(t.loading,{...e,...e?.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let o=t.success?bd(t.success,r):void 0;return o?Ue.success(o,{id:i,...e,...e?.success}):Ue.dismiss(i),r}).catch(r=>{let o=t.error?bd(t.error,r):void 0;o?Ue.error(o,{id:i,...e,...e?.error}):Ue.dismiss(i)}),n};var xV=1e3,RV=(n,t="default")=>{let{toasts:e,pausedAt:i}=wV(n,t),r=j.useRef(new Map).current,o=j.useCallback((_,b=xV)=>{if(r.has(_))return;let S=setTimeout(()=>{r.delete(_),c({type:4,toastId:_})},b);r.set(_,S)},[]);j.useEffect(()=>{if(i)return;let _=Date.now(),b=e.map(S=>{if(S.duration===1/0)return;let A=(S.duration||0)+S.pauseDuration-(_-S.createdAt);if(A<0){S.visible&&Ue.dismiss(S.id);return}return setTimeout(()=>Ue.dismiss(S.id,t),A)});return()=>{b.forEach(S=>S&&clearTimeout(S))}},[e,i,t]);let c=j.useCallback(eg(t),[t]),u=j.useCallback(()=>{c({type:5,time:Date.now()})},[c]),f=j.useCallback((_,b)=>{c({type:1,toast:{id:_,height:b}})},[c]),d=j.useCallback(()=>{i&&c({type:6,time:Date.now()})},[i,c]),m=j.useCallback((_,b)=>{let{reverseOrder:S=!1,gutter:A=8,defaultPosition:I}=b||{},x=e.filter(F=>(F.position||I)===(_.position||I)&&F.height),V=x.findIndex(F=>F.id===_.id),z=x.filter((F,tt)=>tt<V&&F.visible).length;return x.filter(F=>F.visible).slice(...S?[z+1]:[0,z]).reduce((F,tt)=>F+(tt.height||0)+A,0)},[e]);return j.useEffect(()=>{e.forEach(_=>{if(_.dismissed)o(_.id,_.removeDelay);else{let b=r.get(_.id);b&&(clearTimeout(b),r.delete(_.id))}})},[e,o]),{toasts:e,handlers:{updateHeight:f,startPause:u,endPause:d,calculateOffset:m}}},CV=Ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,IV=Ns`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DV=Ns`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,MV=Br("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${IV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${DV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,OV=Ns`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,kV=Br("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${OV} 1s linear infinite;
`,NV=Ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,PV=Ns`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,VV=Br("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${NV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${PV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,LV=Br("div")`
  position: absolute;
`,UV=Br("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zV=Ns`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BV=Br("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jV=({toast:n})=>{let{icon:t,type:e,iconTheme:i}=n;return t!==void 0?typeof t=="string"?j.createElement(BV,null,t):t:e==="blank"?null:j.createElement(UV,null,j.createElement(kV,{...i}),e!=="loading"&&j.createElement(LV,null,e==="error"?j.createElement(MV,{...i}):j.createElement(VV,{...i})))},HV=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,FV=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,qV="0%{opacity:0;} 100%{opacity:1;}",GV="0%{opacity:1;} 100%{opacity:0;}",YV=Br("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,$V=Br("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,WV=(n,t)=>{let e=n.includes("top")?1:-1,[i,r]=Y1()?[qV,GV]:[HV(e),FV(e)];return{animation:t?`${Ns(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ns(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},KV=j.memo(({toast:n,position:t,style:e,children:i})=>{let r=n.height?WV(n.position||t||"top-center",n.visible):{opacity:0},o=j.createElement(jV,{toast:n}),c=j.createElement($V,{...n.ariaProps},bd(n.message,n));return j.createElement(YV,{className:n.className,style:{...r,...e,...n.style}},typeof i=="function"?i({icon:o,message:c}):j.createElement(j.Fragment,null,o,c))});_V(j.createElement);var QV=({id:n,className:t,style:e,onHeightUpdate:i,children:r})=>{let o=j.useCallback(c=>{if(c){let u=()=>{let f=c.getBoundingClientRect().height;i(n,f)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return j.createElement("div",{ref:o,className:t,style:e},r)},XV=(n,t)=>{let e=n.includes("top"),i=e?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Y1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...i,...r}},ZV=tg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sf=16,JV=({reverseOrder:n,position:t="top-center",toastOptions:e,gutter:i,children:r,toasterId:o,containerStyle:c,containerClassName:u})=>{let{toasts:f,handlers:d}=RV(e,o);return j.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Sf,left:Sf,right:Sf,bottom:Sf,pointerEvents:"none",...c},className:u,onMouseEnter:d.startPause,onMouseLeave:d.endPause},f.map(m=>{let _=m.position||t,b=d.calculateOffset(m,{reverseOrder:n,gutter:i,defaultPosition:t}),S=XV(_,b);return j.createElement(QV,{id:m.id,key:m.id,onHeightUpdate:d.updateHeight,className:m.visible?ZV:"",style:S},m.type==="custom"?bd(m.message,m):r?r(m):j.createElement(KV,{toast:m,position:_}))}))},wn=Ue;function tL(){const[n,t]=j.useState(""),[e,i]=j.useState(""),[r,o]=j.useState(!0),c=Sy(),{user:u}=j.useContext(Zd),{theme:f,toggleTheme:d}=j.useContext(Jd);j.useEffect(()=>{u&&c("/dashboard")},[u,c]);const m=async b=>{b.preventDefault();try{r?(await xM(Le,n,e),c("/dashboard")):(await AM(Le,n,e),c("/dashboard")),t(""),i("")}catch(S){wn.error(S.message)}},_=async()=>{if(!n){wn.error("Please enter your email first.");return}try{await wM(Le,n),wn.success("Password reset email sent! Check your inbox.")}catch(b){wn.error(b.message)}};return X.jsxs("div",{className:"relative min-h-screen",children:[X.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-black/80"}),X.jsx("div",{className:"absolute top-4 right-4 z-20",children:X.jsxs("button",{onClick:d,className:"bg-gray-500 text-white px-4 py-2 rounded-full hover:bg-gray-600 focus:outline-none",children:["Switch to ",f==="light"?"Dark":"Light"," Mode"]})}),X.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen p-8 text-center",children:[X.jsxs("div",{className:"text-white",children:[X.jsx("h1",{className:"text-4xl sm:text-5xl font-bold",children:"Welcome to Finance Tracker."}),X.jsx("p",{className:"mt-4 text-lg max-w-xl mx-auto",children:"Take control of your finances. Track your income and expenses, visualize your spending habits, and achieve your financial goals."})]}),X.jsxs("div",{className:"w-full max-w-sm p-8 mt-8 bg-white/20 dark:bg-gray-800/20 rounded-lg shadow-lg backdrop-blur-md",children:[X.jsx("h2",{className:"text-3xl font-bold text-center mb-6",children:r?"Login":"Register"}),X.jsxs("form",{onSubmit:m,className:"space-y-4",children:[X.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:b=>t(b.target.value),className:"w-full p-3 border rounded-md"}),X.jsx("input",{type:"password",placeholder:"Password",value:e,onChange:b=>i(b.target.value),className:"w-full p-3 border rounded-md"}),X.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white p-3 rounded-md hover:bg-blue-600",children:r?"Login":"Register"})]}),r&&X.jsx("p",{onClick:_,className:"mt-4 text-center text-sm cursor-pointer text-blue-500 hover:underline",children:"Forgot Password?"}),X.jsx("p",{onClick:()=>o(!r),className:"mt-4 text-center text-sm cursor-pointer text-blue-500 hover:underline",children:r?"Don't have an account? Register":"Already have an account? Login"})]})]})]})}function eL({children:n}){const{user:t,loading:e}=j.useContext(Zd);return e?X.jsx("p",{children:"Loading..."}):t?n:X.jsx(xy,{to:"/login"})}const nL=()=>{const[n,t]=j.useState(0),[e,i]=j.useState(0),[r,o]=j.useState(!0);j.useEffect(()=>{if(!Le.currentUser)return;const u=Bu(Uu(Cs,"users",Le.currentUser.uid,"transactions")),f=ju(u,d=>{let m=0,_=0;d.forEach(b=>{const S=b.data();S.type==="income"?m+=S.amount:S.type==="expense"&&(_+=S.amount)}),t(m),i(_),o(!1)});return()=>f()},[]);const c=n-e;return r?X.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading financial summary..."}):X.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[X.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex flex-col items-center justify-center",children:[X.jsx("h3",{className:"summary-title",children:"Total Income"}),X.jsxs("p",{className:"income-amount",children:["$",n.toFixed(2)]})]}),X.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex flex-col items-center justify-center",children:[X.jsx("h3",{className:"summary-title",children:"Total Expenses"}),X.jsxs("p",{className:"expense-amount",children:["$",e.toFixed(2)]})]}),X.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex flex-col items-center justify-center",children:[X.jsx("h3",{className:"summary-title",children:"Current Balance"}),X.jsxs("p",{className:"balance-amount",children:["$",c.toFixed(2)]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Fu(n){return n+.5|0}const br=(n,t,e)=>Math.max(Math.min(n,e),t);function qc(n){return br(Fu(n*2.55),0,255)}function Rr(n){return br(Fu(n*255),0,255)}function Ts(n){return br(Fu(n/2.55)/100,0,1)}function qT(n){return br(Fu(n*100),0,100)}const Qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hy=[..."0123456789ABCDEF"],iL=n=>hy[n&15],sL=n=>hy[(n&240)>>4]+hy[n&15],wf=n=>(n&240)>>4===(n&15),rL=n=>wf(n.r)&&wf(n.g)&&wf(n.b)&&wf(n.a);function aL(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Qn[n[1]]*17,g:255&Qn[n[2]]*17,b:255&Qn[n[3]]*17,a:t===5?Qn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Qn[n[1]]<<4|Qn[n[2]],g:Qn[n[3]]<<4|Qn[n[4]],b:Qn[n[5]]<<4|Qn[n[6]],a:t===9?Qn[n[7]]<<4|Qn[n[8]]:255})),e}const oL=(n,t)=>n<255?t(n):"";function lL(n){var t=rL(n)?iL:sL;return n?"#"+t(n.r)+t(n.g)+t(n.b)+oL(n.a,t):void 0}const cL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function X1(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function uL(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function hL(n,t,e){const i=X1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function fL(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function w_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),u=(o+c)/2;let f,d,m;return o!==c&&(m=o-c,d=u>.5?m/(2-o-c):m/(o+c),f=fL(e,i,r,m,o),f=f*60+.5),[f|0,d||0,u]}function A_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Rr)}function x_(n,t,e){return A_(X1,n,t,e)}function dL(n,t,e){return A_(hL,n,t,e)}function gL(n,t,e){return A_(uL,n,t,e)}function Z1(n){return(n%360+360)%360}function pL(n){const t=cL.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?qc(+t[5]):Rr(+t[5]));const r=Z1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=dL(r,o,c):t[1]==="hsv"?i=gL(r,o,c):i=x_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function mL(n,t){var e=w_(n);e[0]=Z1(e[0]+t),e=x_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function yL(n){if(!n)return;const t=w_(n),e=t[0],i=qT(t[1]),r=qT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Ts(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const GT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},YT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _L(){const n={},t=Object.keys(YT),e=Object.keys(GT);let i,r,o,c,u;for(i=0;i<t.length;i++){for(c=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,GT[o]);o=parseInt(YT[c],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Af;function vL(n){Af||(Af=_L(),Af.transparent=[0,0,0,0]);const t=Af[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const bL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function EL(n){const t=bL.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?qc(c):br(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?qc(i):br(i,0,255)),r=255&(t[4]?qc(r):br(r,0,255)),o=255&(t[6]?qc(o):br(o,0,255)),{r:i,g:r,b:o,a:e}}}function TL(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ts(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Am=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Bo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function SL(n,t,e){const i=Bo(Ts(n.r)),r=Bo(Ts(n.g)),o=Bo(Ts(n.b));return{r:Rr(Am(i+e*(Bo(Ts(t.r))-i))),g:Rr(Am(r+e*(Bo(Ts(t.g))-r))),b:Rr(Am(o+e*(Bo(Ts(t.b))-o))),a:n.a+e*(t.a-n.a)}}function xf(n,t,e){if(n){let i=w_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=x_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function J1(n,t){return n&&Object.assign(t||{},n)}function $T(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Rr(n[3]))):(t=J1(n,{r:0,g:0,b:0,a:1}),t.a=Rr(t.a)),t}function wL(n){return n.charAt(0)==="r"?EL(n):pL(n)}class mu{constructor(t){if(t instanceof mu)return t;const e=typeof t;let i;e==="object"?i=$T(t):e==="string"&&(i=aL(t)||vL(t)||wL(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=J1(this._rgb);return t&&(t.a=Ts(t.a)),t}set rgb(t){this._rgb=$T(t)}rgbString(){return this._valid?TL(this._rgb):void 0}hexString(){return this._valid?lL(this._rgb):void 0}hslString(){return this._valid?yL(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,u=2*c-1,f=i.a-r.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=SL(this._rgb,t._rgb,e)),this}clone(){return new mu(this.rgb)}alpha(t){return this._rgb.a=Rr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Fu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return xf(this._rgb,2,t),this}darken(t){return xf(this._rgb,2,-t),this}saturate(t){return xf(this._rgb,1,t),this}desaturate(t){return xf(this._rgb,1,-t),this}rotate(t){return mL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function vs(){}const AL=(()=>{let n=0;return()=>n++})();function oe(n){return n==null}function Ke(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ft(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ti(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ki(n,t){return ti(n)?n:t}function Vt(n,t){return typeof n>"u"?t:n}const xL=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,tx=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function le(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Xt(n,t,e,i){let r,o,c;if(Ke(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Ft(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Ed(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Td(n){if(Ke(n))return n.map(Td);if(Ft(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Td(n[e[r]]);return t}return n}function ex(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function RL(n,t,e,i){if(!ex(n))return;const r=t[n],o=e[n];Ft(r)&&Ft(o)?yu(r,o,i):t[n]=Td(o)}function yu(n,t,e){const i=Ke(t)?t:[t],r=i.length;if(!Ft(n))return n;e=e||{};const o=e.merger||RL;let c;for(let u=0;u<r;++u){if(c=i[u],!Ft(c))continue;const f=Object.keys(c);for(let d=0,m=f.length;d<m;++d)o(f[d],n,c,e)}return n}function Jc(n,t){return yu(n,t,{merger:CL})}function CL(n,t,e){if(!ex(n))return;const i=t[n],r=e[n];Ft(i)&&Ft(r)?Jc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Td(r))}const WT={"":n=>n,x:n=>n.x,y:n=>n.y};function IL(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function DL(n){const t=IL(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function _u(n,t){return(WT[t]||(WT[t]=DL(t)))(n)}function R_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Sd=n=>typeof n<"u",Nr=n=>typeof n=="function",KT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function ML(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Zt=Math.PI,_e=2*Zt,OL=_e+Zt,wd=Number.POSITIVE_INFINITY,kL=Zt/180,ze=Zt/2,Aa=Zt/4,QT=Zt*2/3,nx=Math.log10,ol=Math.sign;function tu(n,t,e){return Math.abs(n-t)<e}function XT(n){const t=Math.round(n);n=tu(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(nx(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function NL(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function PL(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function vu(n){return!PL(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function VL(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function LL(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function As(n){return n*(Zt/180)}function UL(n){return n*(180/Zt)}function ZT(n){if(!ti(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function ix(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Zt&&(o+=_e),{angle:o,distance:r}}function fy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function zL(n,t){return(n-t+OL)%_e-Zt}function li(n){return(n%_e+_e)%_e}function bu(n,t,e,i){const r=li(n),o=li(t),c=li(e),u=li(o-r),f=li(c-r),d=li(r-o),m=li(r-c);return r===o||r===c||i&&o===c||u>f&&d<m}function _n(n,t,e){return Math.max(t,Math.min(e,n))}function BL(n){return _n(n,-32768,32767)}function $o(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function C_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Oa=(n,t,e,i)=>C_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),jL=(n,t,e)=>C_(n,e,i=>n[i][t]>=e);function HL(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const sx=["push","pop","shift","splice","unshift"];function FL(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),sx.forEach(e=>{const i="_onData"+R_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),c}})})}function JT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(sx.forEach(o=>{delete n[o]}),delete n._chartjs)}function qL(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const rx=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function ax(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,rx.call(window,()=>{i=!1,n.apply(t,e)}))}}function GL(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const I_=n=>n==="start"?"left":n==="end"?"right":"center",cn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,YL=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function $L(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:u,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=c.axis,{min:_,max:b,minDefined:S,maxDefined:A}=c.getUserBounds();if(S){if(r=Math.min(Oa(f,m,_).lo,e?i:Oa(t,m,c.getPixelForValue(_)).lo),d){const I=f.slice(0,r+1).reverse().findIndex(x=>!oe(x[u.axis]));r-=Math.max(0,I)}r=_n(r,0,i-1)}if(A){let I=Math.max(Oa(f,c.axis,b,!0).hi+1,e?0:Oa(t,m,c.getPixelForValue(b),!0).hi+1);if(d){const x=f.slice(I-1).findIndex(V=>!oe(V[u.axis]));I+=Math.max(0,x)}o=_n(I,r,i)-r}else o=i-r}return{start:r,count:o}}function WL(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Rf=n=>n===0||n===1,tS=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*_e/e)),eS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*_e/e)+1,eu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ze)+1,easeOutSine:n=>Math.sin(n*ze),easeInOutSine:n=>-.5*(Math.cos(Zt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Rf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Rf(n)?n:tS(n,.075,.3),easeOutElastic:n=>Rf(n)?n:eS(n,.075,.3),easeInOutElastic(n){return Rf(n)?n:n<.5?.5*tS(n*2,.1125,.45):.5+.5*eS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-eu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?eu.easeInBounce(n*2)*.5:eu.easeOutBounce(n*2-1)*.5+.5};function D_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function nS(n){return D_(n)?n:new mu(n)}function xm(n){return D_(n)?n:new mu(n).saturate(.5).darken(.1).hexString()}const KL=["x","y","borderWidth","radius","tension"],QL=["color","borderColor","backgroundColor"];function XL(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:QL},numbers:{type:"number",properties:KL}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function ZL(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const iS=new Map;function JL(n,t){t=t||{};const e=n+JSON.stringify(t);let i=iS.get(e);return i||(i=new Intl.NumberFormat(n,t),iS.set(e,i)),i}function M_(n,t,e){return JL(t,e).format(n)}const t4={values(n){return Ke(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=e4(n,e)}const c=nx(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),M_(n,i,f)}};function e4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var ox={formatters:t4};function n4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ox.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ha=Object.create(null),dy=Object.create(null);function nu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Rm(n,t,e){return typeof t=="string"?yu(nu(n,t),e):yu(nu(n,""),t)}class i4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>xm(r.backgroundColor),this.hoverBorderColor=(i,r)=>xm(r.borderColor),this.hoverColor=(i,r)=>xm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Rm(this,t,e)}get(t){return nu(this,t)}describe(t,e){return Rm(dy,t,e)}override(t,e){return Rm(Ha,t,e)}route(t,e,i,r){const o=nu(this,t),c=nu(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],d=c[r];return Ft(f)?Object.assign({},d,f):Vt(f,d)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var we=new i4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[XL,ZL,n4]);function s4(n){return!n||oe(n.size)||oe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function sS(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function xa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function rS(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function gy(n,t,e,i){lx(n,t,e,i,null)}function lx(n,t,e,i,r){let o,c,u,f,d,m,_,b;const S=t.pointStyle,A=t.rotation,I=t.radius;let x=(A||0)*kL;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(x),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),S){default:r?n.ellipse(e,i,r/2,I,0,0,_e):n.arc(e,i,I,0,_e),n.closePath();break;case"triangle":m=r?r/2:I,n.moveTo(e+Math.sin(x)*m,i-Math.cos(x)*I),x+=QT,n.lineTo(e+Math.sin(x)*m,i-Math.cos(x)*I),x+=QT,n.lineTo(e+Math.sin(x)*m,i-Math.cos(x)*I),n.closePath();break;case"rectRounded":d=I*.516,f=I-d,c=Math.cos(x+Aa)*f,_=Math.cos(x+Aa)*(r?r/2-d:f),u=Math.sin(x+Aa)*f,b=Math.sin(x+Aa)*(r?r/2-d:f),n.arc(e-_,i-u,d,x-Zt,x-ze),n.arc(e+b,i-c,d,x-ze,x),n.arc(e+_,i+u,d,x,x+ze),n.arc(e-b,i+c,d,x+ze,x+Zt),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*I,m=r?r/2:f,n.rect(e-m,i-f,2*m,2*f);break}x+=Aa;case"rectRot":_=Math.cos(x)*(r?r/2:I),c=Math.cos(x)*I,u=Math.sin(x)*I,b=Math.sin(x)*(r?r/2:I),n.moveTo(e-_,i-u),n.lineTo(e+b,i-c),n.lineTo(e+_,i+u),n.lineTo(e-b,i+c),n.closePath();break;case"crossRot":x+=Aa;case"cross":_=Math.cos(x)*(r?r/2:I),c=Math.cos(x)*I,u=Math.sin(x)*I,b=Math.sin(x)*(r?r/2:I),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"star":_=Math.cos(x)*(r?r/2:I),c=Math.cos(x)*I,u=Math.sin(x)*I,b=Math.sin(x)*(r?r/2:I),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c),x+=Aa,_=Math.cos(x)*(r?r/2:I),c=Math.cos(x)*I,u=Math.sin(x)*I,b=Math.sin(x)*(r?r/2:I),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"line":c=r?r/2:Math.cos(x)*I,u=Math.sin(x)*I,n.moveTo(e-c,i-u),n.lineTo(e+c,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(x)*(r?r/2:I),i+Math.sin(x)*I);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Eu(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function O_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function k_(n){n.restore()}function r4(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function a4(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function o4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),oe(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function l4(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,m=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,m),n.lineTo(u,m),n.stroke()}}function c4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Tu(n,t,e,i,r,o={}){const c=Ke(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,o4(n,o),f=0;f<c.length;++f)d=c[f],o.backdrop&&c4(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),oe(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),l4(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function py(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Zt,Zt,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Zt,ze,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,ze,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-ze,!0),n.lineTo(e+c.topLeft,i)}const u4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,h4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function f4(n,t){const e=(""+n).match(u4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const d4=n=>+n||0;function N_(n,t){const e={},i=Ft(t),r=i?Object.keys(t):t,o=Ft(n)?i?c=>Vt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=d4(o(c));return e}function g4(n){return N_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function iu(n){return N_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ei(n){const t=g4(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function fn(n,t){n=n||{},t=t||we.font;let e=Vt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Vt(n.style,t.style);i&&!(""+i).match(h4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Vt(n.family,t.family),lineHeight:f4(Vt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Vt(n.weight,t.weight),string:""};return r.string=s4(r),r}function Cf(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function p4(n,t,e){const{min:i,max:r}=n,o=tx(t,(r-i)/2),c=(u,f)=>e&&u===0?0:u+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Ya(n,t){return Object.assign(Object.create(n),t)}function P_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=fx("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>P_([u,...n],t,o,i)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return ux(u,f,()=>S4(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return oS(u).includes(f)},ownKeys(u){return oS(u)},set(u,f,d){const m=u._storage||(u._storage=r());return u[f]=m[f]=d,delete u._keys,!0}})}function ll(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:cx(n,i),setContext:o=>ll(n,o,e,i),override:o=>ll(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,u){return ux(o,c,()=>y4(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,u){return n[c]=u,delete o[c],!0}})}function cx(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Nr(e)?e:()=>e,isIndexable:Nr(i)?i:()=>i}}const m4=(n,t)=>n?n+R_(t):t,V_=(n,t)=>Ft(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function ux(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function y4(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let u=i[t];return Nr(u)&&c.isScriptable(t)&&(u=_4(t,u,n,e)),Ke(u)&&u.length&&(u=v4(t,u,n,c.isIndexable)),V_(t,u)&&(u=ll(u,r,o&&o[t],c)),u}function _4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(o,c||i);return u.delete(n),V_(n,f)&&(f=L_(r._scopes,r,n,f)),f}function v4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Ft(t[0])){const f=t,d=r._scopes.filter(m=>m!==f);t=[];for(const m of f){const _=L_(d,r,n,m);t.push(ll(_,o,c&&c[n],u))}}return t}function hx(n,t,e){return Nr(n)?n(t,e):n}const b4=(n,t)=>n===!0?t:typeof n=="string"?_u(t,n):void 0;function E4(n,t,e,i,r){for(const o of t){const c=b4(e,o);if(c){n.add(c);const u=hx(c._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function L_(n,t,e,i){const r=t._rootScopes,o=hx(t._fallback,e,i),c=[...n,...r],u=new Set;u.add(i);let f=aS(u,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=aS(u,c,o,f,i),f===null)?!1:P_(Array.from(u),[""],r,o,()=>T4(t,e,i))}function aS(n,t,e,i,r){for(;e;)e=E4(n,t,e,i,r);return e}function T4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Ke(r)&&Ft(e)?e:r||{}}function S4(n,t,e,i){let r;for(const o of t)if(r=fx(m4(o,n),e),typeof r<"u")return V_(n,r)?L_(e,i,n,r):r}function fx(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function oS(n){let t=n._keys;return t||(t=n._keys=w4(n._scopes)),t}function w4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const A4=Number.EPSILON||1e-14,cl=(n,t)=>t<n.length&&!n[t].skip&&n[t],dx=n=>n==="x"?"y":"x";function x4(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,u=fy(o,r),f=fy(c,o);let d=u/(u+f),m=f/(u+f);d=isNaN(d)?0:d,m=isNaN(m)?0:m;const _=i*d,b=i*m;return{previous:{x:o.x-_*(c.x-r.x),y:o.y-_*(c.y-r.y)},next:{x:o.x+b*(c.x-r.x),y:o.y+b*(c.y-r.y)}}}function R4(n,t,e){const i=n.length;let r,o,c,u,f,d=cl(n,0);for(let m=0;m<i-1;++m)if(f=d,d=cl(n,m+1),!(!f||!d)){if(tu(t[m],0,A4)){e[m]=e[m+1]=0;continue}r=e[m]/t[m],o=e[m+1]/t[m],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(c=3/Math.sqrt(u),e[m]=r*c*t[m],e[m+1]=o*c*t[m])}}function C4(n,t,e="x"){const i=dx(e),r=n.length;let o,c,u,f=cl(n,0);for(let d=0;d<r;++d){if(c=u,u=f,f=cl(n,d+1),!u)continue;const m=u[e],_=u[i];c&&(o=(m-c[e])/3,u[`cp1${e}`]=m-o,u[`cp1${i}`]=_-o*t[d]),f&&(o=(f[e]-m)/3,u[`cp2${e}`]=m+o,u[`cp2${i}`]=_+o*t[d])}}function I4(n,t="x"){const e=dx(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,u,f,d=cl(n,0);for(c=0;c<i;++c)if(u=f,f=d,d=cl(n,c+1),!!f){if(d){const m=d[t]-f[t];r[c]=m!==0?(d[e]-f[e])/m:0}o[c]=u?d?ol(r[c-1])!==ol(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}R4(n,r,o),C4(n,o,t)}function If(n,t,e){return Math.max(Math.min(n,e),t)}function D4(n,t){let e,i,r,o,c,u=Eu(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=u,u=e<i-1&&Eu(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=If(r.cp1x,t.left,t.right),r.cp1y=If(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=If(r.cp2x,t.left,t.right),r.cp2y=If(r.cp2y,t.top,t.bottom)))}function M4(n,t,e,i,r){let o,c,u,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")I4(n,r);else{let d=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)u=n[o],f=x4(d,u,n[Math.min(o+1,c-(i?0:1))%c],t.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,d=u}t.capBezierPoints&&D4(n,e)}function U_(){return typeof window<"u"&&typeof document<"u"}function z_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ad(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const ng=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function O4(n,t){return ng(n).getPropertyValue(t)}const k4=["top","right","bottom","left"];function Na(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=k4[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const N4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function P4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,u,f;if(N4(r,o,n.target))u=r,f=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,c=!0}return{x:u,y:f,box:c}}function Ia(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=ng(e),o=r.boxSizing==="border-box",c=Na(r,"padding"),u=Na(r,"border","width"),{x:f,y:d,box:m}=P4(n,e),_=c.left+(m&&u.left),b=c.top+(m&&u.top);let{width:S,height:A}=t;return o&&(S-=c.width+u.width,A-=c.height+u.height),{x:Math.round((f-_)/S*e.width/i),y:Math.round((d-b)/A*e.height/i)}}function V4(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&z_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),u=ng(o),f=Na(u,"border","width"),d=Na(u,"padding");t=c.width-d.width-f.width,e=c.height-d.height-f.height,i=Ad(u.maxWidth,o,"clientWidth"),r=Ad(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||wd,maxHeight:r||wd}}const Df=n=>Math.round(n*10)/10;function L4(n,t,e,i){const r=ng(n),o=Na(r,"margin"),c=Ad(r.maxWidth,n,"clientWidth")||wd,u=Ad(r.maxHeight,n,"clientHeight")||wd,f=V4(n,t,e);let{width:d,height:m}=f;if(r.boxSizing==="content-box"){const b=Na(r,"border","width"),S=Na(r,"padding");d-=S.width+b.width,m-=S.height+b.height}return d=Math.max(0,d-o.width),m=Math.max(0,i?d/i:m-o.height),d=Df(Math.min(d,c,f.maxWidth)),m=Df(Math.min(m,u,f.maxHeight)),d&&!m&&(m=Df(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&m>f.height&&(m=f.height,d=Df(Math.floor(m*i))),{width:d,height:m}}function lS(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const U4=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};U_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function cS(n,t){const e=O4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Da(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function z4(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function B4(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=Da(n,r,e),u=Da(r,o,e),f=Da(o,t,e),d=Da(c,u,e),m=Da(u,f,e);return Da(d,m,e)}const j4=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},H4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Jo(n,t,e){return n?j4(t,e):H4()}function gx(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function px(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function mx(n){return n==="angle"?{between:bu,compare:zL,normalize:li}:{between:$o,compare:(t,e)=>t-e,normalize:t=>t}}function uS({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function F4(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:u}=mx(i),f=t.length;let{start:d,end:m,loop:_}=n,b,S;if(_){for(d+=f,m+=f,b=0,S=f;b<S&&c(u(t[d%f][i]),r,o);++b)d--,m--;d%=f,m%=f}return m<d&&(m+=f),{start:d,end:m,loop:_,style:n.style}}function q4(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:u,between:f,normalize:d}=mx(i),{start:m,end:_,loop:b,style:S}=F4(n,t,e),A=[];let I=!1,x=null,V,z,F;const tt=()=>f(r,F,V)&&u(r,F)!==0,$=()=>u(o,V)===0||f(o,F,V),ot=()=>I||tt(),M=()=>!I||$();for(let C=m,D=m;C<=_;++C)z=t[C%c],!z.skip&&(V=d(z[i]),V!==F&&(I=f(V,r,o),x===null&&ot()&&(x=u(V,r)===0?C:D),x!==null&&M()&&(A.push(uS({start:x,end:C,loop:b,count:c,style:S})),x=null),D=C,F=V));return x!==null&&A.push(uS({start:x,end:_,loop:b,count:c,style:S})),A}function G4(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=q4(i[r],n.points,t);o.length&&e.push(...o)}return e}function Y4(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function $4(n,t,e,i){const r=n.length,o=[];let c=t,u=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%r];d.skip||d.stop?u.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=d.stop?f:null):(c=f,u.skip&&(t=f)),u=d}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function W4(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:u}=Y4(e,r,o,i);if(i===!0)return hS(n,[{start:c,end:u,loop:o}],e,t);const f=u<c?u+r:u,d=!!n._fullLoop&&c===0&&u===r-1;return hS(n,$4(e,c,f,d),e,t)}function hS(n,t,e,i){return!i||!i.setContext||!e?t:K4(n,t,e,i)}function K4(n,t,e,i){const r=n._chart.getContext(),o=fS(n.options),{_datasetIndex:c,options:{spanGaps:u}}=n,f=e.length,d=[];let m=o,_=t[0].start,b=_;function S(A,I,x,V){const z=u?-1:1;if(A!==I){for(A+=f;e[A%f].skip;)A-=z;for(;e[I%f].skip;)I+=z;A%f!==I%f&&(d.push({start:A%f,end:I%f,loop:x,style:V}),m=V,_=I%f)}}for(const A of t){_=u?_:A.start;let I=e[_%f],x;for(b=_+1;b<=A.end;b++){const V=e[b%f];x=fS(i.setContext(Ya(r,{type:"segment",p0:I,p1:V,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:c}))),Q4(x,m)&&S(_,b-1,A.loop,m),I=V,m=x}_<b-1&&S(_,b-1,A.loop,m)}return d}function fS(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Q4(n,t){if(!t)return!1;const e=[],i=function(r,o){return D_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Mf(n,t,e){return n.options.clip?n[e]:t[e]}function X4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Mf(e,t,"left"),right:Mf(e,t,"right"),top:Mf(i,t,"top"),bottom:Mf(i,t,"bottom")}:t}function Z4(n,t){const e=t._clip;if(e.disabled)return!1;const i=X4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class J4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=rx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,u=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(o[c]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var bs=new J4;const dS="transparent",t6={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=nS(n||dS),r=i.valid&&nS(t||dS);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class e6{constructor(t,e,i,r){const o=e[i];r=Cf([t.to,r,o,t.from]);const c=Cf([t.from,o,r]);this._active=!0,this._fn=t.fn||t6[t.type||typeof c],this._easing=eu[t.easing]||eu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Cf([t.to,e,r,t.from]),this._from=Cf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,u=this._to;let f;if(this._active=o!==u&&(c||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class yx{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ft(t))return;const e=Object.keys(we.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Ft(o))return;const c={};for(const u of e)c[u]=o[u];(Ke(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,c)})})}_animateOptions(t,e){const i=e.options,r=i6(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&n6(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const d=c[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const m=e[d];let _=o[d];const b=i.get(d);if(_)if(b&&_.active()){_.update(b,m,u);continue}else _.cancel();if(!b||!b.duration){t[d]=m;continue}o[d]=_=new e6(b,t,d,m),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return bs.add(this._chart,i),!0}}function n6(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function i6(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function gS(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function s6(n,t,e){if(e===!1)return!1;const i=gS(n,e),r=gS(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function r6(n){let t,e,i,r;return Ft(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function _x(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function pS(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,u,f,d;if(t===null)return;let m=!1;for(c=0,u=r.length;c<u;++c){if(f=+r[c],f===e){if(m=!0,i.all)continue;break}d=n.values[f],ti(d)&&(o||t===0||ol(t)===ol(d))&&(t+=d)}return!m&&!i.all?0:t}function a6(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),u=new Array(c.length);let f,d,m;for(f=0,d=c.length;f<d;++f)m=c[f],u[f]={[r]:m,[o]:n[m]};return u}function Cm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function o6(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function l6(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function c6(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function mS(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function yS(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:u}=i,f=o.axis,d=c.axis,m=o6(o,c,i),_=t.length;let b;for(let S=0;S<_;++S){const A=t[S],{[f]:I,[d]:x}=A,V=A._stacks||(A._stacks={});b=V[d]=c6(r,m,I),b[u]=x,b._top=mS(b,c,!0,i.type),b._bottom=mS(b,c,!1,i.type);const z=b._visualValues||(b._visualValues={});z[u]=x}}function Im(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function u6(n,t){return Ya(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function h6(n,t,e){return Ya(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Oc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Dm=n=>n==="reset"||n==="none",_S=(n,t)=>t?n:Object.assign({},n),f6=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:_x(e,!0),values:null};class B_{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Cm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Oc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,b,S,A)=>_==="x"?b:_==="r"?A:S,o=e.xAxisID=Vt(i.xAxisID,Im(t,"x")),c=e.yAxisID=Vt(i.yAxisID,Im(t,"y")),u=e.rAxisID=Vt(i.rAxisID,Im(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,c,u),m=e.vAxisID=r(f,c,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&JT(this._data,this),t._stacked&&Oc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ft(e)){const r=this._cachedMeta;this._data=a6(e,r)}else if(i!==e){if(i){JT(i,this);const r=this._cachedMeta;Oc(r),r._parsed=[]}e&&Object.isExtensible(e)&&FL(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Cm(e.vScale,e),e.stack!==i.stack&&(r=!0,Oc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(yS(this,e._parsed),e._stacked=Cm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,u=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],m,_,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{Ke(r[t])?b=this.parseArrayData(i,r,t,e):Ft(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const S=()=>_[u]===null||d&&_[u]<d[u];for(m=0;m<e;++m)i._parsed[m+t]=_=b[m],f&&(S()&&(f=!1),d=_);i._sorted=f}c&&yS(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,u=o.axis,f=c.axis,d=o.getLabels(),m=o===c,_=new Array(r);let b,S,A;for(b=0,S=r;b<S;++b)A=b+i,_[b]={[u]:m||o.parse(d[A],A),[f]:c.parse(e[A],A)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,u=new Array(r);let f,d,m,_;for(f=0,d=r;f<d;++f)m=f+i,_=e[m],u[f]={x:o.parse(_[0],m),y:c.parse(_[1],m)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let m,_,b,S;for(m=0,_=r;m<_;++m)b=m+i,S=e[b],d[m]={x:o.parse(_u(S,u),b),y:c.parse(_u(S,f),b)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],u={keys:_x(r,!0),values:e._stacks[t.axis]._visualValues};return pS(u,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,c=pS(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,u=this._getOtherScale(t),f=f6(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=l6(u);let b,S;function A(){S=r[b];const I=S[u.axis];return!ti(S[t.axis])||m>I||_<I}for(b=0;b<c&&!(!A()&&(this.updateRangeFromParsed(d,t,S,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(d,t,S,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],ti(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=r6(Vt(this.options.clip,s6(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(t,o,u,f),m=u;m<u+f;++m){const _=r[m];_.hidden||(_.active&&d?c.push(_):_.draw(t,o))}for(m=0;m<c.length;++m)c[m].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=h6(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=u6(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,u=o[c],f=this.enableOptionSharing&&Sd(i);if(u)return _S(u,f);const d=this.chart.config,m=d.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],b=d.getOptionScopes(this.getDataset(),m),S=Object.keys(we.elements[t]),A=()=>this.getContext(i,r,e),I=d.resolveNamedOptions(b,S,A,_);return I.$shared&&(I.$shared=f,o[c]=Object.freeze(_S(I,f))),I}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,u=o[c];if(u)return u;let f;if(r.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,e),b=m.getOptionScopes(this.getDataset(),_);f=m.createResolver(b,this.getContext(t,i,e))}const d=new yx(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Dm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Dm(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Dm(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let u;const f=d=>{for(d.length+=e,u=d.length-1;u>=c;u--)d[u]=d[u-e]};for(f(o),u=t;u<c;++u)o[u]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Oc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function d6(n,t,e){let i=1,r=1,o=0,c=0;if(t<_e){const u=n,f=u+t,d=Math.cos(u),m=Math.sin(u),_=Math.cos(f),b=Math.sin(f),S=(F,tt,$)=>bu(F,u,f,!0)?1:Math.max(tt,tt*e,$,$*e),A=(F,tt,$)=>bu(F,u,f,!0)?-1:Math.min(tt,tt*e,$,$*e),I=S(0,d,_),x=S(ze,m,b),V=A(Zt,d,_),z=A(Zt+ze,m,b);i=(I-V)/2,r=(x-z)/2,o=-(I+V)/2,c=-(x+z)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class g6 extends B_{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Ft(i[t])){const{key:f="value"}=this._parsing;o=d=>+_u(i[d],f)}let c,u;for(c=t,u=t+e;c<u;++c)r._parsed[c]=o(c)}}_getRotation(){return As(this.options.rotation-90)}_getCircumference(){return As(this.options.circumference)}_getRotationExtents(){let t=_e,e=-_e;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(xL(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:b,ratioY:S,offsetX:A,offsetY:I}=d6(_,m,f),x=(i.width-c)/b,V=(i.height-c)/S,z=Math.max(Math.min(x,V)/2,0),F=tx(this.options.radius,z),tt=Math.max(F*f,0),$=(F-tt)/this._getVisibleDatasetWeightTotal();this.offsetX=A*F,this.offsetY=I*F,r.total=this.calculateTotal(),this.outerRadius=F-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/_e)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,u=c.chartArea,d=c.options.animation,m=(u.left+u.right)/2,_=(u.top+u.bottom)/2,b=o&&d.animateScale,S=b?0:this.innerRadius,A=b?0:this.outerRadius,{sharedOptions:I,includeOptions:x}=this._getSharedOptions(e,r);let V=this._getRotation(),z;for(z=0;z<e;++z)V+=this._circumference(z,o);for(z=e;z<e+i;++z){const F=this._circumference(z,o),tt=t[z],$={x:m+this.offsetX,y:_+this.offsetY,startAngle:V,endAngle:V+F,circumference:F,outerRadius:A,innerRadius:S};x&&($.options=I||this.resolveDataElementOptions(z,tt.active?"active":r)),V+=F,this.updateElement(tt,z,$,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?_e*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=M_(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,u,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,u=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=u.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Vt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class p6 extends B_{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:u,count:f}=$L(e,r,c);this._drawStart=u,this._drawCount=f,WL(e)&&(u=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:d},t),this.updateElements(r,u,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(e,r),b=c.axis,S=u.axis,{spanGaps:A,segment:I}=this.options,x=vu(A)?A:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||o||r==="none",z=e+i,F=t.length;let tt=e>0&&this.getParsed(e-1);for(let $=0;$<F;++$){const ot=t[$],M=V?ot:{};if($<e||$>=z){M.skip=!0;continue}const C=this.getParsed($),D=oe(C[S]),N=M[b]=c.getPixelForValue(C[b],$),P=M[S]=o||D?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,C,f):C[S],$);M.skip=isNaN(N)||isNaN(P)||D,M.stop=$>0&&Math.abs(C[b]-tt[b])>x,I&&(M.parsed=C,M.raw=d.data[$]),_&&(M.options=m||this.resolveDataElementOptions($,ot.active?"active":r)),V||this.updateElement(ot,$,M,r),tt=C}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class m6 extends g6{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Ra(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class j_{static override(t){Object.assign(j_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ra()}parse(){return Ra()}format(){return Ra()}add(){return Ra()}diff(){return Ra()}startOf(){return Ra()}endOf(){return Ra()}}var y6={_date:j_};function _6(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,u=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&c&&o.length){const d=u._reversePixels?jL:Oa;if(i){if(r._sharedOptions){const m=o[0],_=typeof m.getRange=="function"&&m.getRange(t);if(_){const b=d(o,t,e-_),S=d(o,t,e+_);return{lo:b.lo,hi:S.hi}}}}else{const m=d(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:b}=n,S=b.slice(0,m.lo+1).reverse().findIndex(I=>!oe(I[_.axis]));m.lo-=Math.max(0,S);const A=b.slice(m.hi).findIndex(I=>!oe(I[_.axis]));m.hi+=Math.max(0,A)}return m}}return{lo:0,hi:o.length-1}}function ig(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let u=0,f=o.length;u<f;++u){const{index:d,data:m}=o[u],{lo:_,hi:b}=_6(o[u],t,c,r);for(let S=_;S<=b;++S){const A=m[S];A.skip||i(A,d,S)}}}function v6(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Mm(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||ig(n,e,t,function(u,f,d){!r&&!Eu(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function b6(n,t,e,i){let r=[];function o(c,u,f){const{startAngle:d,endAngle:m}=c.getProps(["startAngle","endAngle"],i),{angle:_}=ix(c,{x:t.x,y:t.y});bu(_,d,m)&&r.push({element:c,datasetIndex:u,index:f})}return ig(n,e,t,o),r}function E6(n,t,e,i,r,o){let c=[];const u=v6(e);let f=Number.POSITIVE_INFINITY;function d(m,_,b){const S=m.inRange(t.x,t.y,r);if(i&&!S)return;const A=m.getCenterPoint(r);if(!(!!o||n.isPointInArea(A))&&!S)return;const x=u(t,A);x<f?(c=[{element:m,datasetIndex:_,index:b}],f=x):x===f&&c.push({element:m,datasetIndex:_,index:b})}return ig(n,e,t,d),c}function Om(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?b6(n,t,e,r):E6(n,t,e,i,r,o)}function vS(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let u=!1;return ig(n,e,t,(f,d,m)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:d,index:m}),u=u||f.inRange(t.x,t.y,r))}),i&&!u?[]:o}var T6={modes:{index(n,t,e,i){const r=Ia(t,n),o=e.axis||"x",c=e.includeInvisible||!1,u=e.intersect?Mm(n,r,o,i,c):Om(n,r,o,!1,i,c),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const m=u[0].index,_=d.data[m];_&&!_.skip&&f.push({element:_,datasetIndex:d.index,index:m})}),f):[]},dataset(n,t,e,i){const r=Ia(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let u=e.intersect?Mm(n,r,o,i,c):Om(n,r,o,!1,i,c);if(u.length>0){const f=u[0].datasetIndex,d=n.getDatasetMeta(f).data;u=[];for(let m=0;m<d.length;++m)u.push({element:d[m],datasetIndex:f,index:m})}return u},point(n,t,e,i){const r=Ia(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Mm(n,r,o,i,c)},nearest(n,t,e,i){const r=Ia(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Om(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Ia(t,n);return vS(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ia(t,n);return vS(n,r,"y",e.intersect,i)}}};const vx=["left","top","right","bottom"];function kc(n,t){return n.filter(e=>e.pos===t)}function bS(n,t){return n.filter(e=>vx.indexOf(e.pos)===-1&&e.box.axis===t)}function Nc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function S6(n){const t=[];let e,i,r,o,c,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:u});return t}function w6(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!vx.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function A6(n,t){const e=w6(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,u;for(o=0,c=n.length;o<c;++o){u=n[o];const{fullSize:f}=u.box,d=e[u.stack],m=d&&u.stackWeight/d.weight;u.horizontal?(u.width=m?m*i:f&&t.availableWidth,u.height=r):(u.width=i,u.height=m?m*r:f&&t.availableHeight)}return e}function x6(n){const t=S6(n),e=Nc(t.filter(d=>d.box.fullSize),!0),i=Nc(kc(t,"left"),!0),r=Nc(kc(t,"right")),o=Nc(kc(t,"top"),!0),c=Nc(kc(t,"bottom")),u=bS(t,"x"),f=bS(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(u),chartArea:kc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(u)}}function ES(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function bx(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function R6(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!Ft(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&bx(c,o.getPadding());const u=Math.max(0,t.outerWidth-ES(c,n,"left","right")),f=Math.max(0,t.outerHeight-ES(c,n,"top","bottom")),d=u!==n.w,m=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:d,other:m}:{same:m,other:d}}function C6(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function I6(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Gc(n,t,e,i){const r=[];let o,c,u,f,d,m;for(o=0,c=n.length,d=0;o<c;++o){u=n[o],f=u.box,f.update(u.width||t.w,u.height||t.h,I6(u.horizontal,t));const{same:_,other:b}=R6(t,e,u,i);d|=_&&r.length,m=m||b,f.fullSize||r.push(u)}return d&&Gc(r,t,e,i)||m}function Of(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function TS(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const u of n){const f=u.box,d=i[u.stack]||{placed:0,weight:1},m=u.stackWeight/d.weight||1;if(u.horizontal){const _=t.w*m,b=d.size||f.height;Sd(d.start)&&(c=d.start),f.fullSize?Of(f,r.left,c,e.outerWidth-r.right-r.left,b):Of(f,t.left+d.placed,c,_,b),d.start=c,d.placed+=_,c=f.bottom}else{const _=t.h*m,b=d.size||f.width;Sd(d.start)&&(o=d.start),f.fullSize?Of(f,o,r.top,b,e.outerHeight-r.bottom-r.top):Of(f,o,t.top+d.placed,b,_),d.start=o,d.placed+=_,o=f.right}}t.x=o,t.y=c}var Jn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ei(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),u=x6(n.boxes),f=u.vertical,d=u.horizontal;Xt(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const m=f.reduce((I,x)=>x.box.options&&x.box.options.display===!1?I:I+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/m,hBoxMaxHeight:c/2}),b=Object.assign({},r);bx(b,ei(i));const S=Object.assign({maxPadding:b,w:o,h:c,x:r.left,y:r.top},r),A=A6(f.concat(d),_);Gc(u.fullSize,S,_,A),Gc(f,S,_,A),Gc(d,S,_,A)&&Gc(f,S,_,A),C6(S),TS(u.leftAndTop,S,_,A),S.x+=S.w,S.y+=S.h,TS(u.rightAndBottom,S,_,A),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Xt(u.chartArea,I=>{const x=I.box;Object.assign(x,n.chartArea),x.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class Ex{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class D6 extends Ex{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Xf="$chartjs",M6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},SS=n=>n===null||n==="";function O6(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Xf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",SS(r)){const o=cS(n,"width");o!==void 0&&(n.width=o)}if(SS(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=cS(n,"height");o!==void 0&&(n.height=o)}return n}const Tx=U4?{passive:!0}:!1;function k6(n,t,e){n&&n.addEventListener(t,e,Tx)}function N6(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,Tx)}function P6(n,t){const e=M6[n.type]||n.type,{x:i,y:r}=Ia(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function xd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function V6(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||xd(u.addedNodes,i),c=c&&!xd(u.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function L6(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||xd(u.removedNodes,i),c=c&&!xd(u.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Su=new Map;let wS=0;function Sx(){const n=window.devicePixelRatio;n!==wS&&(wS=n,Su.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function U6(n,t){Su.size||window.addEventListener("resize",Sx),Su.set(n,t)}function z6(n){Su.delete(n),Su.size||window.removeEventListener("resize",Sx)}function B6(n,t,e){const i=n.canvas,r=i&&z_(i);if(!r)return;const o=ax((u,f)=>{const d=r.clientWidth;e(u,f),d<r.clientWidth&&e()},window),c=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,m=f.contentRect.height;d===0&&m===0||o(d,m)});return c.observe(r),U6(n,o),c}function km(n,t,e){e&&e.disconnect(),t==="resize"&&z6(n)}function j6(n,t,e){const i=n.canvas,r=ax(o=>{n.ctx!==null&&e(P6(o,n))},n);return k6(i,t,r),r}class H6 extends Ex{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(O6(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Xf])return!1;const i=e[Xf].initial;["height","width"].forEach(o=>{const c=i[o];oe(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Xf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:V6,detach:L6,resize:B6}[e]||j6;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:km,detach:km,resize:km}[e]||N6)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return L4(t,e,i,r)}isAttached(t){const e=t&&z_(t);return!!(e&&e.isConnected)}}function F6(n){return!U_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?D6:H6}class jr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return vu(this.x)&&vu(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function q6(n,t){const e=n.options.ticks,i=G6(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?$6(t):[],c=o.length,u=o[0],f=o[c-1],d=[];if(c>r)return W6(t,d,o,c/r),d;const m=Y6(o,t,r);if(c>0){let _,b;const S=c>1?Math.round((f-u)/(c-1)):null;for(kf(t,d,m,oe(S)?0:u-S,u),_=0,b=c-1;_<b;_++)kf(t,d,m,o[_],o[_+1]);return kf(t,d,m,f,oe(S)?t.length:f+S),d}return kf(t,d,m),d}function G6(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function Y6(n,t,e){const i=K6(n),r=t.length/e;if(!i)return Math.max(r,1);const o=NL(i);for(let c=0,u=o.length-1;c<u;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function $6(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function W6(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function kf(n,t,e,i,r){const o=Vt(i,0),c=Math.min(Vt(r,n.length),n.length);let u=0,f,d,m;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),m=o;m<0;)u++,m=Math.round(o+u*e);for(d=Math.max(o,0);d<c;d++)d===m&&(t.push(n[d]),u++,m=Math.round(o+u*e))}function K6(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const Q6=n=>n==="left"?"right":n==="right"?"left":n,AS=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,xS=(n,t)=>Math.min(t||n,n);function RS(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function X6(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,u=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,c-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-u||f>c+u)))return f}function Z6(n,t){Xt(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Pc(n){return n.drawTicks?n.tickLength:0}function CS(n,t){if(!n.display)return 0;const e=fn(n.font,t),i=ei(n.padding);return(Ke(n.text)?n.text.length:1)*e.lineHeight+i.height}function J6(n,t){return Ya(n,{scale:t,type:"scale"})}function t3(n,t,e){return Ya(n,{tick:e,index:t,type:"tick"})}function e3(n,t,e){let i=I_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=Q6(i)),i}function n3(n,t,e,i){const{top:r,left:o,bottom:c,right:u,chart:f}=n,{chartArea:d,scales:m}=f;let _=0,b,S,A;const I=c-r,x=u-o;if(n.isHorizontal()){if(S=cn(i,o,u),Ft(e)){const V=Object.keys(e)[0],z=e[V];A=m[V].getPixelForValue(z)+I-t}else e==="center"?A=(d.bottom+d.top)/2+I-t:A=AS(n,e,t);b=u-o}else{if(Ft(e)){const V=Object.keys(e)[0],z=e[V];S=m[V].getPixelForValue(z)-x+t}else e==="center"?S=(d.left+d.right)/2-x+t:S=AS(n,e,t);A=cn(i,c,r),_=e==="left"?-ze:ze}return{titleX:S,titleY:A,maxWidth:b,rotation:_}}class bl extends jr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=ki(t,Number.POSITIVE_INFINITY),e=ki(e,Number.NEGATIVE_INFINITY),i=ki(i,Number.POSITIVE_INFINITY),r=ki(r,Number.NEGATIVE_INFINITY),{min:ki(t,i),max:ki(e,r),minDefined:ti(t),maxDefined:ti(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)c=u[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:ki(e,ki(i,e)),max:ki(i,ki(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){le(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=p4(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?RS(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=q6(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){le(this.options.afterUpdate,[this])}beforeSetDimensions(){le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){le(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),le(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=le(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=xS(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,u,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),_=m.widest.width,b=m.highest.height,S=_n(this.chart.width-_,0,this.maxWidth);u=t.offset?this.maxWidth/i:S/(i-1),_+6>u&&(u=S/(i-(t.offset?.5:1)),f=this.maxHeight-Pc(t.grid)-e.padding-CS(t.title,this.chart.options.font),d=Math.sqrt(_*_+b*b),c=UL(Math.min(Math.asin(_n((m.highest.height+6)/u,-1,1)),Math.asin(_n(f/d,-1,1))-Math.asin(_n(b/d,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){le(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=CS(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=Pc(o)+f):(t.height=this.maxHeight,t.width=Pc(o)+f),i.display&&this.ticks.length){const{first:d,last:m,widest:_,highest:b}=this._getLabelSizes(),S=i.padding*2,A=As(this.labelRotation),I=Math.cos(A),x=Math.sin(A);if(u){const V=i.mirror?0:x*_.width+I*b.height;t.height=Math.min(this.maxHeight,t.height+V+S)}else{const V=i.mirror?0:I*_.width+x*b.height;t.width=Math.min(this.maxWidth,t.width+V+S)}this._calculatePadding(d,m,x,I)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;f?d?(b=r*t.width,S=i*e.height):(b=i*t.height,S=r*e.width):o==="start"?S=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,S=e.width/2),this.paddingLeft=Math.max((b-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((S-_+c)*this.width/(this.width-_),0)}else{let m=e.height/2,_=t.height/2;o==="start"?(m=0,_=t.height):o==="end"&&(m=e.height,_=0),this.paddingTop=m+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){le(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)oe(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=RS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],u=[],f=Math.floor(e/xS(e,i));let d=0,m=0,_,b,S,A,I,x,V,z,F,tt,$;for(_=0;_<e;_+=f){if(A=t[_].label,I=this._resolveTickFontOptions(_),r.font=x=I.string,V=o[x]=o[x]||{data:{},gc:[]},z=I.lineHeight,F=tt=0,!oe(A)&&!Ke(A))F=sS(r,V.data,V.gc,F,A),tt=z;else if(Ke(A))for(b=0,S=A.length;b<S;++b)$=A[b],!oe($)&&!Ke($)&&(F=sS(r,V.data,V.gc,F,$),tt+=z);c.push(F),u.push(tt),d=Math.max(F,d),m=Math.max(tt,m)}Z6(o,e);const ot=c.indexOf(d),M=u.indexOf(m),C=D=>({width:c[D]||0,height:u[D]||0});return{first:C(0),last:C(e-1),widest:C(ot),highest:C(M),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return BL(this._alignToPixels?xa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=t3(this.getContext(),t,i))}return this.$context||(this.$context=J6(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=As(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,u=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:u}=r,f=o.offset,d=this.isHorizontal(),_=this.ticks.length+(f?1:0),b=Pc(o),S=[],A=u.setContext(this.getContext()),I=A.display?A.width:0,x=I/2,V=function(Q){return xa(i,Q,I)};let z,F,tt,$,ot,M,C,D,N,P,U,O;if(c==="top")z=V(this.bottom),M=this.bottom-b,D=z-x,P=V(t.top)+x,O=t.bottom;else if(c==="bottom")z=V(this.top),P=t.top,O=V(t.bottom)-x,M=z+x,D=this.top+b;else if(c==="left")z=V(this.right),ot=this.right-b,C=z-x,N=V(t.left)+x,U=t.right;else if(c==="right")z=V(this.left),N=t.left,U=V(t.right)-x,ot=z+x,C=this.left+b;else if(e==="x"){if(c==="center")z=V((t.top+t.bottom)/2+.5);else if(Ft(c)){const Q=Object.keys(c)[0],at=c[Q];z=V(this.chart.scales[Q].getPixelForValue(at))}P=t.top,O=t.bottom,M=z+x,D=M+b}else if(e==="y"){if(c==="center")z=V((t.left+t.right)/2);else if(Ft(c)){const Q=Object.keys(c)[0],at=c[Q];z=V(this.chart.scales[Q].getPixelForValue(at))}ot=z-x,C=ot-b,N=t.left,U=t.right}const qt=Vt(r.ticks.maxTicksLimit,_),vt=Math.max(1,Math.ceil(_/qt));for(F=0;F<_;F+=vt){const Q=this.getContext(F),at=o.setContext(Q),dt=u.setContext(Q),wt=at.lineWidth,L=at.color,rt=dt.dash||[],ut=dt.dashOffset,lt=at.tickWidth,pt=at.tickColor,Rt=at.tickBorderDash||[],_t=at.tickBorderDashOffset;tt=X6(this,F,f),tt!==void 0&&($=xa(i,tt,wt),d?ot=C=N=U=$:M=D=P=O=$,S.push({tx1:ot,ty1:M,tx2:C,ty2:D,x1:N,y1:P,x2:U,y2:O,width:wt,color:L,borderDash:rt,borderDashOffset:ut,tickWidth:lt,tickColor:pt,tickBorderDash:Rt,tickBorderDashOffset:_t}))}return this._ticksLength=_,this._borderValue=z,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:m,mirror:_}=o,b=Pc(i.grid),S=b+m,A=_?-m:S,I=-As(this.labelRotation),x=[];let V,z,F,tt,$,ot,M,C,D,N,P,U,O="middle";if(r==="top")ot=this.bottom-A,M=this._getXAxisLabelAlignment();else if(r==="bottom")ot=this.top+A,M=this._getXAxisLabelAlignment();else if(r==="left"){const vt=this._getYAxisLabelAlignment(b);M=vt.textAlign,$=vt.x}else if(r==="right"){const vt=this._getYAxisLabelAlignment(b);M=vt.textAlign,$=vt.x}else if(e==="x"){if(r==="center")ot=(t.top+t.bottom)/2+S;else if(Ft(r)){const vt=Object.keys(r)[0],Q=r[vt];ot=this.chart.scales[vt].getPixelForValue(Q)+S}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")$=(t.left+t.right)/2-S;else if(Ft(r)){const vt=Object.keys(r)[0],Q=r[vt];$=this.chart.scales[vt].getPixelForValue(Q)}M=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const qt=this._getLabelSizes();for(V=0,z=u.length;V<z;++V){F=u[V],tt=F.label;const vt=o.setContext(this.getContext(V));C=this.getPixelForTick(V)+o.labelOffset,D=this._resolveTickFontOptions(V),N=D.lineHeight,P=Ke(tt)?tt.length:1;const Q=P/2,at=vt.color,dt=vt.textStrokeColor,wt=vt.textStrokeWidth;let L=M;c?($=C,M==="inner"&&(V===z-1?L=this.options.reverse?"left":"right":V===0?L=this.options.reverse?"right":"left":L="center"),r==="top"?d==="near"||I!==0?U=-P*N+N/2:d==="center"?U=-qt.highest.height/2-Q*N+N:U=-qt.highest.height+N/2:d==="near"||I!==0?U=N/2:d==="center"?U=qt.highest.height/2-Q*N:U=qt.highest.height-P*N,_&&(U*=-1),I!==0&&!vt.showLabelBackdrop&&($+=N/2*Math.sin(I))):(ot=C,U=(1-P)*N/2);let rt;if(vt.showLabelBackdrop){const ut=ei(vt.backdropPadding),lt=qt.heights[V],pt=qt.widths[V];let Rt=U-ut.top,_t=0-ut.left;switch(O){case"middle":Rt-=lt/2;break;case"bottom":Rt-=lt;break}switch(M){case"center":_t-=pt/2;break;case"right":_t-=pt;break;case"inner":V===z-1?_t-=pt:V>0&&(_t-=pt/2);break}rt={left:_t,top:Rt,width:pt+ut.width,height:lt+ut.height,color:vt.backdropColor}}x.push({label:tt,font:D,textOffset:U,options:{rotation:I,color:at,strokeColor:dt,strokeWidth:wt,textAlign:L,textBaseline:O,translation:[$,ot],backdrop:rt}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-As(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),u=t+o,f=c.widest.width;let d,m;return e==="left"?r?(m=this.right+o,i==="near"?d="left":i==="center"?(d="center",m+=f/2):(d="right",m+=f)):(m=this.right-u,i==="near"?d="right":i==="center"?(d="center",m-=f/2):(d="left",m=this.left)):e==="right"?r?(m=this.left+o,i==="near"?d="right":i==="center"?(d="center",m-=f/2):(d="left",m-=f)):(m=this.left+u,i==="near"?d="left":i==="center"?(d="center",m+=f/2):(d="right",m=this.right)):d="right",{textAlign:d,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const u=(f,d,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,m,_,b;this.isHorizontal()?(d=xa(t,this.left,c)-c/2,m=xa(t,this.right,u)+u/2,_=b=f):(_=xa(t,this.top,c)-c/2,b=xa(t,this.bottom,u)+u/2,d=m=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(m,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&O_(i,r);const o=this.getLabelItems(t);for(const c of o){const u=c.options,f=c.font,d=c.label,m=c.textOffset;Tu(i,d,0,m,f,u)}r&&k_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=fn(i.font),c=ei(i.padding),u=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Ft(e)?(f+=c.bottom,Ke(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:d,titleY:m,maxWidth:_,rotation:b}=n3(this,f,e,u);Tu(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:b,textAlign:e3(u,e,r),textBaseline:"middle",translation:[d,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Vt(t.grid&&t.grid.z,-1),r=Vt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==bl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return fn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Nf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;r3(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,i3(t,c,i),this.override&&we.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in we[r]&&(delete we[r][i],this.override&&delete Ha[i])}}function i3(n,t,e){const i=yu(Object.create(null),[e?we.get(e):{},we.get(t),n.defaults]);we.set(t,i),n.defaultRoutes&&s3(t,n.defaultRoutes),n.descriptors&&we.describe(t,n.descriptors)}function s3(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),u=c.pop(),f=c.join(".");we.route(o,r,f,u)})}function r3(n){return"id"in n&&"defaults"in n}class a3{constructor(){this.controllers=new Nf(B_,"datasets",!0),this.elements=new Nf(jr,"elements"),this.plugins=new Nf(Object,"plugins"),this.scales=new Nf(bl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Xt(r,c=>{const u=i||this._getRegistryForType(c);this._exec(t,u,c)})})}_exec(t,e,i){const r=R_(t);le(i["before"+r],[],i),e[t](i),le(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Pi=new a3;class o3{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,u=c[i],f=[e,r,o.options];if(le(u,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Vt(i.options&&i.options.plugins,{}),o=l3(i);return r===!1&&!e?[]:u3(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function l3(n){const t={},e=[],i=Object.keys(Pi.plugins.items);for(let o=0;o<i.length;o++)e.push(Pi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function c3(n,t){return!t&&n===!1?null:n===!0?{}:n}function u3(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const u of t){const f=u.id,d=c3(i[f],r);d!==null&&o.push({plugin:u,options:h3(n.config,{plugin:u,local:e[f]},d,c)})}return o}function h3(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function my(n,t){const e=we.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function f3(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function d3(n,t){return n===t?"_index_":"_value_"}function IS(n){if(n==="x"||n==="y"||n==="r")return n}function g3(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function yy(n,...t){if(IS(n))return n;for(const e of t){const i=e.axis||g3(e.position)||n.length>1&&IS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function DS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function p3(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return DS(n,"x",e[0])||DS(n,"y",e[0])}return{}}function m3(n,t){const e=Ha[n.type]||{scales:{}},i=t.scales||{},r=my(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const u=i[c];if(!Ft(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=yy(c,u,p3(c,n),we.scales[u.type]),d=d3(f,r),m=e.scales||{};o[c]=Jc(Object.create(null),[{axis:f},u,m[f],m[d]])}),n.data.datasets.forEach(c=>{const u=c.type||n.type,f=c.indexAxis||my(u,t),m=(Ha[u]||{}).scales||{};Object.keys(m).forEach(_=>{const b=f3(_,f),S=c[b+"AxisID"]||b;o[S]=o[S]||Object.create(null),Jc(o[S],[{axis:b},i[S],m[_]])})}),Object.keys(o).forEach(c=>{const u=o[c];Jc(u,[we.scales[u.type],we.scale])}),o}function wx(n){const t=n.options||(n.options={});t.plugins=Vt(t.plugins,{}),t.scales=m3(n,t)}function Ax(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function y3(n){return n=n||{},n.data=Ax(n.data),wx(n),n}const MS=new Map,xx=new Set;function Pf(n,t){let e=MS.get(n);return e||(e=t(),MS.set(n,e),xx.add(e)),e}const Vc=(n,t,e)=>{const i=_u(t,e);i!==void 0&&n.add(i)};class _3{constructor(t){this._config=y3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Ax(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),wx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Pf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Pf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Pf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Pf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),u=c.get(e);if(u)return u;const f=new Set;e.forEach(m=>{t&&(f.add(t),m.forEach(_=>Vc(f,t,_))),m.forEach(_=>Vc(f,r,_)),m.forEach(_=>Vc(f,Ha[o]||{},_)),m.forEach(_=>Vc(f,we,_)),m.forEach(_=>Vc(f,dy,_))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),xx.has(e)&&c.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ha[e]||{},we.datasets[e]||{},{type:e},we,dy]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=OS(this._resolverCache,t,r);let f=c;if(b3(c,e)){o.$shared=!1,i=Nr(i)?i():i;const d=this.createResolver(t,i,u);f=ll(c,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=OS(this._resolverCache,t,i);return Ft(e)?ll(o,e,void 0,r):o}}function OS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:P_(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const v3=n=>Ft(n)&&Object.getOwnPropertyNames(n).some(t=>Nr(n[t]));function b3(n,t){const{isScriptable:e,isIndexable:i}=cx(n);for(const r of t){const o=e(r),c=i(r),u=(c||o)&&n[r];if(o&&(Nr(u)||v3(u))||c&&Ke(u))return!0}return!1}var E3="4.5.0";const T3=["top","bottom","left","right","chartArea"];function kS(n,t){return n==="top"||n==="bottom"||T3.indexOf(n)===-1&&t==="x"}function NS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function PS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),le(e&&e.onComplete,[n],t)}function S3(n){const t=n.chart,e=t.options.animation;le(e&&e.onProgress,[n],t)}function Rx(n){return U_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Zf={},VS=n=>{const t=Rx(n);return Object.values(Zf).filter(e=>e.canvas===t).pop()};function w3(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function A3(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let qu=class{static defaults=we;static instances=Zf;static overrides=Ha;static registry=Pi;static version=E3;static getChart=VS;static register(...t){Pi.add(...t),LS()}static unregister(...t){Pi.remove(...t),LS()}constructor(t,e){const i=this.config=new _3(e),r=Rx(t),o=VS(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||F6(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,c.aspectRatio),f=u&&u.canvas,d=f&&f.height,m=f&&f.width;if(this.id=AL(),this.ctx=u,this.canvas=f,this.width=m,this.height=d,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new o3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=GL(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],Zf[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}bs.listen(this,"complete",PS),bs.listen(this,"progress",S3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return oe(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Pi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return rS(this.canvas,this.ctx),this}stop(){return bs.stop(this),this}resize(t,e){bs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,lS(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),le(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Xt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,u)=>(c[u]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const u=e[c],f=yy(c,u),d=f==="r",m=f==="x";return{options:u,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),Xt(o,c=>{const u=c.options,f=u.id,d=yy(f,u),m=Vt(u.type,c.dtype);(u.position===void 0||kS(u.position,d)!==kS(c.dposition))&&(u.position=c.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===m)_=i[f];else{const b=Pi.getScale(m);_=new b({id:f,type:m,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(u,t)}),Xt(r,(c,u)=>{c||delete i[u]}),Xt(i,c=>{Jn.configure(this,c,c.options),Jn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(NS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=u,c.indexAxis=o.indexAxis||my(u,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Pi.getController(u),{datasetElementType:d,dataElementType:m}=we.datasets[u];Object.assign(f,{dataElementType:Pi.getElement(m),datasetElementType:d&&Pi.getElement(d)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Xt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let d=0,m=this.data.datasets.length;d<m;d++){const{controller:_}=this.getDatasetMeta(d),b=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(b),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Xt(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(NS("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Xt(this.scales,t=>{Jn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!KT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;w3(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!KT(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Xt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Nr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bs.has(this)?this.attached&&!bs.running(this)&&bs.start(this):(this.draw(),PS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=Z4(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&O_(e,r),t.controller.draw(),r&&k_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Eu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=T6.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ya(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Sd(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),bs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),rS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Zf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};Xt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let c;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():c()}unbindEvents(){Xt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Xt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,u,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){c=t[u];const d=c&&this.getDatasetMeta(c.datasetIndex).controller;d&&d[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!Ed(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(m=>!d.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),c=o(e,t),u=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,u=this._getActiveElements(t,r,i,c),f=ML(t),d=A3(t,this._lastEvent,i,f);i&&(this._lastEvent=null,le(o.onHover,[t,u,this],this),f&&le(o.onClick,[t,u,this],this));const m=!Ed(u,r);return(m||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=d,m}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function LS(){return Xt(qu.instances,n=>n._plugins.invalidate())}function x3(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:u,options:f}=t,{borderWidth:d,borderJoinStyle:m}=f,_=Math.min(d/c,li(i-e));if(n.beginPath(),n.arc(r,o,c-d/2,i+_/2,e-_/2),u>0){const b=Math.min(d/u,li(i-e));n.arc(r,o,u+d/2,e-b/2,i+b/2,!0)}else{const b=Math.min(d/2,c*li(i-e));if(m==="round")n.arc(r,o,b,e-Zt/2,i+Zt/2,!0);else if(m==="bevel"){const S=2*b*b,A=-S*Math.cos(e+Zt/2)+r,I=-S*Math.sin(e+Zt/2)+o,x=S*Math.cos(i+Zt/2)+r,V=S*Math.sin(i+Zt/2)+o;n.lineTo(A,I),n.lineTo(x,V)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function R3(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:u,innerRadius:f}=t;let d=r/u;n.beginPath(),n.arc(o,c,u,i-d,e+d),f>r?(d=r/f,n.arc(o,c,f,e+d,i-d,!0)):n.arc(o,c,r,e+ze,i-ze),n.closePath(),n.clip()}function C3(n){return N_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function I3(n,t,e,i){const r=C3(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),u=f=>{const d=(e-Math.min(o,f))*i/2;return _n(f,0,Math.min(o,d))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:_n(r.innerStart,0,c),innerEnd:_n(r.innerEnd,0,c)}}function jo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Rd(n,t,e,i,r,o){const{x:c,y:u,startAngle:f,pixelMargin:d,innerRadius:m}=t,_=Math.max(t.outerRadius+i+e-d,0),b=m>0?m+i+e+d:0;let S=0;const A=r-f;if(i){const vt=m>0?m-i:0,Q=_>0?_-i:0,at=(vt+Q)/2,dt=at!==0?A*at/(at+i):A;S=(A-dt)/2}const I=Math.max(.001,A*_-e/Zt)/_,x=(A-I)/2,V=f+x+S,z=r-x-S,{outerStart:F,outerEnd:tt,innerStart:$,innerEnd:ot}=I3(t,b,_,z-V),M=_-F,C=_-tt,D=V+F/M,N=z-tt/C,P=b+$,U=b+ot,O=V+$/P,qt=z-ot/U;if(n.beginPath(),o){const vt=(D+N)/2;if(n.arc(c,u,_,D,vt),n.arc(c,u,_,vt,N),tt>0){const wt=jo(C,N,c,u);n.arc(wt.x,wt.y,tt,N,z+ze)}const Q=jo(U,z,c,u);if(n.lineTo(Q.x,Q.y),ot>0){const wt=jo(U,qt,c,u);n.arc(wt.x,wt.y,ot,z+ze,qt+Math.PI)}const at=(z-ot/b+(V+$/b))/2;if(n.arc(c,u,b,z-ot/b,at,!0),n.arc(c,u,b,at,V+$/b,!0),$>0){const wt=jo(P,O,c,u);n.arc(wt.x,wt.y,$,O+Math.PI,V-ze)}const dt=jo(M,V,c,u);if(n.lineTo(dt.x,dt.y),F>0){const wt=jo(M,D,c,u);n.arc(wt.x,wt.y,F,V-ze,D)}}else{n.moveTo(c,u);const vt=Math.cos(D)*_+c,Q=Math.sin(D)*_+u;n.lineTo(vt,Q);const at=Math.cos(N)*_+c,dt=Math.sin(N)*_+u;n.lineTo(at,dt)}n.closePath()}function D3(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:u}=t;let f=t.endAngle;if(o){Rd(n,t,e,i,f,r);for(let d=0;d<o;++d)n.fill();isNaN(u)||(f=c+(u%_e||_e))}return Rd(n,t,e,i,f,r),n.fill(),f}function M3(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:u,options:f}=t,{borderWidth:d,borderJoinStyle:m,borderDash:_,borderDashOffset:b,borderRadius:S}=f,A=f.borderAlign==="inner";if(!d)return;n.setLineDash(_||[]),n.lineDashOffset=b,A?(n.lineWidth=d*2,n.lineJoin=m||"round"):(n.lineWidth=d,n.lineJoin=m||"bevel");let I=t.endAngle;if(o){Rd(n,t,e,i,I,r);for(let x=0;x<o;++x)n.stroke();isNaN(u)||(I=c+(u%_e||_e))}A&&R3(n,t,I),f.selfJoin&&I-c>=Zt&&S===0&&m!=="miter"&&x3(n,t,I),o||(Rd(n,t,e,i,I,r),n.stroke())}class O3 extends jr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:c}=ix(r,{x:t,y:e}),{startAngle:u,endAngle:f,innerRadius:d,outerRadius:m,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,S=Vt(_,f-u),A=bu(o,u,f)&&u!==f,I=S>=_e||A,x=$o(c,d+b,m+b);return I&&x}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:d}=this.options,m=(r+o)/2,_=(c+u+d+f)/2;return{x:e+Math.cos(m)*_,y:i+Math.sin(m)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>_e?Math.floor(i/_e):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);const f=1-Math.sin(Math.min(Zt,i||0)),d=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,D3(t,this,d,o,c),M3(t,this,d,o,c),t.restore()}}function Cx(n,t,e=t){n.lineCap=Vt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Vt(e.borderDash,t.borderDash)),n.lineDashOffset=Vt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Vt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Vt(e.borderWidth,t.borderWidth),n.strokeStyle=Vt(e.borderColor,t.borderColor)}function k3(n,t,e){n.lineTo(e.x,e.y)}function N3(n){return n.stepped?r4:n.tension||n.cubicInterpolationMode==="monotone"?a4:k3}function Ix(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:u}=t,f=Math.max(r,c),d=Math.min(o,u),m=r<c&&o<c||r>u&&o>u;return{count:i,start:f,loop:t.loop,ilen:d<f&&!m?i+d-f:d-f}}function P3(n,t,e,i){const{points:r,options:o}=t,{count:c,start:u,loop:f,ilen:d}=Ix(r,e,i),m=N3(o);let{move:_=!0,reverse:b}=i||{},S,A,I;for(S=0;S<=d;++S)A=r[(u+(b?d-S:S))%c],!A.skip&&(_?(n.moveTo(A.x,A.y),_=!1):m(n,I,A,b,o.stepped),I=A);return f&&(A=r[(u+(b?d:0))%c],m(n,I,A,b,o.stepped)),!!f}function V3(n,t,e,i){const r=t.points,{count:o,start:c,ilen:u}=Ix(r,e,i),{move:f=!0,reverse:d}=i||{};let m=0,_=0,b,S,A,I,x,V;const z=tt=>(c+(d?u-tt:tt))%o,F=()=>{I!==x&&(n.lineTo(m,x),n.lineTo(m,I),n.lineTo(m,V))};for(f&&(S=r[z(0)],n.moveTo(S.x,S.y)),b=0;b<=u;++b){if(S=r[z(b)],S.skip)continue;const tt=S.x,$=S.y,ot=tt|0;ot===A?($<I?I=$:$>x&&(x=$),m=(_*m+tt)/++_):(F(),n.lineTo(tt,$),A=ot,_=0,I=x=$),V=$}F()}function _y(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?V3:P3}function L3(n){return n.stepped?z4:n.tension||n.cubicInterpolationMode==="monotone"?B4:Da}function U3(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),Cx(n,t.options),n.stroke(r)}function z3(n,t,e,i){const{segments:r,options:o}=t,c=_y(t);for(const u of r)Cx(n,o,u.style),n.beginPath(),c(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const B3=typeof Path2D=="function";function j3(n,t,e,i){B3&&!t.options.segment?U3(n,t,e,i):z3(n,t,e,i)}class H3 extends jr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;M4(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=W4(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=G4(this,{property:e,start:r,end:r});if(!c.length)return;const u=[],f=L3(i);let d,m;for(d=0,m=c.length;d<m;++d){const{start:_,end:b}=c[d],S=o[_],A=o[b];if(S===A){u.push(S);continue}const I=Math.abs((r-S[e])/(A[e]-S[e])),x=f(S,A,I,i.stepped);x[e]=t[e],u.push(x)}return u.length===1?u[0]:u}pathSegment(t,e,i){return _y(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=_y(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)c&=o(t,this,u,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),j3(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function US(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class F3 extends jr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return US(this,t,"x",e)}inYRange(t,e){return US(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Eu(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,gy(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}const zS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},q3=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class BS extends jr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=le(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=fn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=zS(i,o);let d,m;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,m=this._fitRows(c,o,u,f)+10):(m=this.maxHeight,d=this._fitCols(c,r,u,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],m=r+u;let _=t;o.textAlign="left",o.textBaseline="middle";let b=-1,S=-m;return this.legendItems.forEach((A,I)=>{const x=i+e/2+o.measureText(A.text).width;(I===0||d[d.length-1]+x+2*u>c)&&(_+=m,d[d.length-(I>0?0:1)]=0,S+=m,b++),f[I]={left:0,top:S,row:b,width:x,height:r},d[d.length-1]+=x+u}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],m=c-t;let _=u,b=0,S=0,A=0,I=0;return this.legendItems.forEach((x,V)=>{const{itemWidth:z,itemHeight:F}=G3(i,e,o,x,r);V>0&&S+F+2*u>m&&(_+=b+u,d.push({width:b,height:S}),A+=b+u,I++,b=S=0),f[V]={left:A,top:S,col:I,width:z,height:F},b=Math.max(b,z),S+=F+u}),_+=b,d.push({width:b,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Jo(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=cn(i,this.left+r,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,f=cn(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+t+r,d.left=c.leftForLtr(c.x(f),d.width),f+=d.width+r}else{let u=0,f=cn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,f=cn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+r,d.left=c.leftForLtr(c.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;O_(t,this),this._draw(),k_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,u=we.color,f=Jo(t.rtl,this.left,this.width),d=fn(c.font),{padding:m}=c,_=d.size,b=_/2;let S;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:A,boxHeight:I,itemHeight:x}=zS(c,_),V=function(ot,M,C){if(isNaN(A)||A<=0||isNaN(I)||I<0)return;r.save();const D=Vt(C.lineWidth,1);if(r.fillStyle=Vt(C.fillStyle,u),r.lineCap=Vt(C.lineCap,"butt"),r.lineDashOffset=Vt(C.lineDashOffset,0),r.lineJoin=Vt(C.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Vt(C.strokeStyle,u),r.setLineDash(Vt(C.lineDash,[])),c.usePointStyle){const N={radius:I*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:D},P=f.xPlus(ot,A/2),U=M+b;lx(r,N,P,U,c.pointStyleWidth&&A)}else{const N=M+Math.max((_-I)/2,0),P=f.leftForLtr(ot,A),U=iu(C.borderRadius);r.beginPath(),Object.values(U).some(O=>O!==0)?py(r,{x:P,y:N,w:A,h:I,radius:U}):r.rect(P,N,A,I),r.fill(),D!==0&&r.stroke()}r.restore()},z=function(ot,M,C){Tu(r,C.text,ot,M+x/2,d,{strikethrough:C.hidden,textAlign:f.textAlign(C.textAlign)})},F=this.isHorizontal(),tt=this._computeTitleHeight();F?S={x:cn(o,this.left+m,this.right-i[0]),y:this.top+m+tt,line:0}:S={x:this.left+m,y:cn(o,this.top+tt+m,this.bottom-e[0].height),line:0},gx(this.ctx,t.textDirection);const $=x+m;this.legendItems.forEach((ot,M)=>{r.strokeStyle=ot.fontColor,r.fillStyle=ot.fontColor;const C=r.measureText(ot.text).width,D=f.textAlign(ot.textAlign||(ot.textAlign=c.textAlign)),N=A+b+C;let P=S.x,U=S.y;f.setWidth(this.width),F?M>0&&P+N+m>this.right&&(U=S.y+=$,S.line++,P=S.x=cn(o,this.left+m,this.right-i[S.line])):M>0&&U+$>this.bottom&&(P=S.x=P+e[S.line].width+m,S.line++,U=S.y=cn(o,this.top+tt+m,this.bottom-e[S.line].height));const O=f.x(P);if(V(O,U,ot),P=YL(D,P+A+b,F?P+N:this.right,t.rtl),z(f.x(P),U,ot),F)S.x+=N+m;else if(typeof ot.text!="string"){const qt=d.lineHeight;S.y+=Dx(ot,qt)+m}else S.y+=$}),px(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=fn(e.font),r=ei(e.padding);if(!e.display)return;const o=Jo(t.rtl,this.left,this.width),c=this.ctx,u=e.position,f=i.size/2,d=r.top+f;let m,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),m=this.top+d,_=cn(t.align,_,this.right-b);else{const A=this.columnSizes.reduce((I,x)=>Math.max(I,x.height),0);m=d+cn(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const S=cn(u,_,_+b);c.textAlign=o.textAlign(I_(u)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Tu(c,e.text,S,m,i)}_computeTitleHeight(){const t=this.options.title,e=fn(t.font),i=ei(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if($o(t,this.left,this.right)&&$o(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],$o(t,r.left,r.left+r.width)&&$o(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!W3(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=q3(r,i);r&&!o&&le(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&le(e.onHover,[t,i,this],this)}else i&&le(e.onClick,[t,i,this],this)}}function G3(n,t,e,i,r){const o=Y3(i,n,t,e),c=$3(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function Y3(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function $3(n,t,e){let i=n;return typeof t.text!="string"&&(i=Dx(t,e)),i}function Dx(n,t){const e=n.text?n.text.length:0;return t*e}function W3(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Mx={id:"legend",_element:BS,start(n,t,e){const i=n.legend=new BS({ctx:n.ctx,options:e,chart:n});Jn.configure(n,i,e),Jn.addBox(n,i)},stop(n){Jn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Jn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),m=ei(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:c&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Ox extends jr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Ke(i.text)?i.text.length:1;this._padding=ei(i.padding);const o=r*fn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,u=c.align;let f=0,d,m,_;return this.isHorizontal()?(m=cn(u,i,o),_=e+t,d=o-i):(c.position==="left"?(m=i+t,_=cn(u,r,e),f=Zt*-.5):(m=o-t,_=cn(u,e,r),f=Zt*.5),d=r-e),{titleX:m,titleY:_,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=fn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(o);Tu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:I_(e.align),textBaseline:"middle",translation:[c,u]})}}function K3(n,t){const e=new Ox({ctx:n.ctx,options:t,chart:n});Jn.configure(n,e,t),Jn.addBox(n,e),n.titleBlock=e}var Q3={id:"title",_element:Ox,start(n,t,e){K3(n,e)},stop(n){const t=n.titleBlock;Jn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Jn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),m=fy(t,d);m<r&&(r=m,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Ni(n,t){return t&&(Ke(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Es(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function X3(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:u}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function jS(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:u}=t,f=fn(t.bodyFont),d=fn(t.titleFont),m=fn(t.footerFont),_=o.length,b=r.length,S=i.length,A=ei(t.padding);let I=A.height,x=0,V=i.reduce((tt,$)=>tt+$.before.length+$.lines.length+$.after.length,0);if(V+=n.beforeBody.length+n.afterBody.length,_&&(I+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),V){const tt=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;I+=S*tt+(V-S)*f.lineHeight+(V-1)*t.bodySpacing}b&&(I+=t.footerMarginTop+b*m.lineHeight+(b-1)*t.footerSpacing);let z=0;const F=function(tt){x=Math.max(x,e.measureText(tt).width+z)};return e.save(),e.font=d.string,Xt(n.title,F),e.font=f.string,Xt(n.beforeBody.concat(n.afterBody),F),z=t.displayColors?c+2+t.boxPadding:0,Xt(i,tt=>{Xt(tt.before,F),Xt(tt.lines,F),Xt(tt.after,F)}),z=0,e.font=m.string,Xt(n.footer,F),e.restore(),x+=A.width,{width:x,height:I}}function Z3(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function J3(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function tU(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:u,right:f}}=n;let d="center";return i==="center"?d=r<=(u+f)/2?"left":"right":r<=o/2?d="left":r>=c-o/2&&(d="right"),J3(d,n,t,e)&&(d="center"),d}function HS(n,t,e){const i=e.yAlign||t.yAlign||Z3(n,e);return{xAlign:e.xAlign||t.xAlign||tU(n,t,e,i),yAlign:i}}function eU(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function nU(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function FS(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:u,yAlign:f}=e,d=r+o,{topLeft:m,topRight:_,bottomLeft:b,bottomRight:S}=iu(c);let A=eU(t,u);const I=nU(t,f,d);return f==="center"?u==="left"?A+=d:u==="right"&&(A-=d):u==="left"?A-=Math.max(m,b)+r:u==="right"&&(A+=Math.max(_,S)+r),{x:_n(A,0,i.width-t.width),y:_n(I,0,i.height-t.height)}}function Vf(n,t,e){const i=ei(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function qS(n){return Ni([],Es(n))}function iU(n,t,e){return Ya(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function GS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const kx={beforeTitle:vs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:vs,beforeBody:vs,beforeLabel:vs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return oe(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:vs,afterBody:vs,beforeFooter:vs,footer:vs,afterFooter:vs};function Tn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?kx[t].call(e,i):r}class YS extends jr{static positioners=Yc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new yx(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=iU(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Tn(i,"beforeTitle",this,t),o=Tn(i,"title",this,t),c=Tn(i,"afterTitle",this,t);let u=[];return u=Ni(u,Es(r)),u=Ni(u,Es(o)),u=Ni(u,Es(c)),u}getBeforeBody(t,e){return qS(Tn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Xt(t,o=>{const c={before:[],lines:[],after:[]},u=GS(i,o);Ni(c.before,Es(Tn(u,"beforeLabel",this,o))),Ni(c.lines,Tn(u,"label",this,o)),Ni(c.after,Es(Tn(u,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return qS(Tn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Tn(i,"beforeFooter",this,t),o=Tn(i,"footer",this,t),c=Tn(i,"afterFooter",this,t);let u=[];return u=Ni(u,Es(r)),u=Ni(u,Es(o)),u=Ni(u,Es(c)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let u=[],f,d;for(f=0,d=e.length;f<d;++f)u.push(X3(this.chart,e[f]));return t.filter&&(u=u.filter((m,_,b)=>t.filter(m,_,b,i))),t.itemSort&&(u=u.sort((m,_)=>t.itemSort(m,_,i))),Xt(u,m=>{const _=GS(t.callbacks,m);r.push(Tn(_,"labelColor",this,m)),o.push(Tn(_,"labelPointStyle",this,m)),c.push(Tn(_,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=Yc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=jS(this,i),d=Object.assign({},u,f),m=HS(this.chart,i,d),_=FS(i,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:m,bottomRight:_}=iu(u),{x:b,y:S}=t,{width:A,height:I}=e;let x,V,z,F,tt,$;return o==="center"?(tt=S+I/2,r==="left"?(x=b,V=x-c,F=tt+c,$=tt-c):(x=b+A,V=x+c,F=tt-c,$=tt+c),z=x):(r==="left"?V=b+Math.max(f,m)+c:r==="right"?V=b+A-Math.max(d,_)-c:V=this.caretX,o==="top"?(F=S,tt=F-c,x=V-c,z=V+c):(F=S+I,tt=F+c,x=V+c,z=V-c),$=F),{x1:x,x2:V,x3:z,y1:F,y2:tt,y3:$}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,u,f;if(o){const d=Jo(i.rtl,this.x,this.width);for(t.x=Vf(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",c=fn(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,f+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,m=fn(o.bodyFont),_=Vf(this,"left",o),b=r.x(_),S=f<m.lineHeight?(m.lineHeight-f)/2:0,A=e.y+S;if(o.usePointStyle){const I={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},x=r.leftForLtr(b,d)+d/2,V=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,gy(t,I,x,V),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,gy(t,I,x,V)}else{t.lineWidth=Ft(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const I=r.leftForLtr(b,d),x=r.leftForLtr(r.xPlus(b,1),d-2),V=iu(c.borderRadius);Object.values(V).some(z=>z!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,py(t,{x:I,y:A,w:d,h:f,radius:V}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),py(t,{x,y:A+1,w:d-2,h:f-2,radius:V}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(I,A,d,f),t.strokeRect(I,A,d,f),t.fillStyle=c.backgroundColor,t.fillRect(x,A+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:m}=i,_=fn(i.bodyFont);let b=_.lineHeight,S=0;const A=Jo(i.rtl,this.x,this.width),I=function(C){e.fillText(C,A.x(t.x+S),t.y+b/2),t.y+=b+o},x=A.textAlign(c);let V,z,F,tt,$,ot,M;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=Vf(this,x,i),e.fillStyle=i.bodyColor,Xt(this.beforeBody,I),S=u&&x!=="right"?c==="center"?d/2+m:d+2+m:0,tt=0,ot=r.length;tt<ot;++tt){for(V=r[tt],z=this.labelTextColors[tt],e.fillStyle=z,Xt(V.before,I),F=V.lines,u&&F.length&&(this._drawColorBox(e,t,tt,A,i),b=Math.max(_.lineHeight,f)),$=0,M=F.length;$<M;++$)I(F[$]),b=_.lineHeight;Xt(V.after,I)}S=0,b=_.lineHeight,Xt(this.afterBody,I),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,u;if(o){const f=Jo(i.rtl,this.x,this.width);for(t.x=Vf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=fn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,u=0;u<o;++u)e.fillText(r[u],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:u,y:f}=t,{width:d,height:m}=i,{topLeft:_,topRight:b,bottomLeft:S,bottomRight:A}=iu(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+_,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+d-b,f),e.quadraticCurveTo(u+d,f,u+d,f+b),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+d,f+m-A),e.quadraticCurveTo(u+d,f+m,u+d-A,f+m),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+S,f+m),e.quadraticCurveTo(u,f+m,u,f+m-S),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,f+_),e.quadraticCurveTo(u,f,u+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Yc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=jS(this,t),f=Object.assign({},c,this._size),d=HS(e,t,f),m=FS(t,f,d,e);(r._to!==m.x||o._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ei(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),gx(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),px(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!Ed(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),u=this._positionChanged(c,t),f=e||!Ed(c,o)||u;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Yc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var Nx={id:"tooltip",_element:YS,positioners:Yc,afterInit(n,t,e){e&&(n.tooltip=new YS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const sU=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function rU(n,t,e,i){const r=n.indexOf(t);if(r===-1)return sU(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const aU=(n,t)=>n===null?null:_n(Math.round(n),0,t);function $S(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class oU extends bl{static id="category";static defaults={ticks:{callback:$S}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(oe(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:rU(i,t,Vt(e,t),this._addedLabels),aU(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return $S.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function lU(n,t){const e=[],{bounds:r,step:o,min:c,max:u,precision:f,count:d,maxTicks:m,maxDigits:_,includeBounds:b}=n,S=o||1,A=m-1,{min:I,max:x}=t,V=!oe(c),z=!oe(u),F=!oe(d),tt=(x-I)/(_+1);let $=XT((x-I)/A/S)*S,ot,M,C,D;if($<1e-14&&!V&&!z)return[{value:I},{value:x}];D=Math.ceil(x/$)-Math.floor(I/$),D>A&&($=XT(D*$/A/S)*S),oe(f)||(ot=Math.pow(10,f),$=Math.ceil($*ot)/ot),r==="ticks"?(M=Math.floor(I/$)*$,C=Math.ceil(x/$)*$):(M=I,C=x),V&&z&&o&&VL((u-c)/o,$/1e3)?(D=Math.round(Math.min((u-c)/$,m)),$=(u-c)/D,M=c,C=u):F?(M=V?c:M,C=z?u:C,D=d-1,$=(C-M)/D):(D=(C-M)/$,tu(D,Math.round(D),$/1e3)?D=Math.round(D):D=Math.ceil(D));const N=Math.max(ZT($),ZT(M));ot=Math.pow(10,oe(f)?N:f),M=Math.round(M*ot)/ot,C=Math.round(C*ot)/ot;let P=0;for(V&&(b&&M!==c?(e.push({value:c}),M<c&&P++,tu(Math.round((M+P*$)*ot)/ot,c,WS(c,tt,n))&&P++):M<c&&P++);P<D;++P){const U=Math.round((M+P*$)*ot)/ot;if(z&&U>u)break;e.push({value:U})}return z&&b&&C!==u?e.length&&tu(e[e.length-1].value,u,WS(u,tt,n))?e[e.length-1].value=u:e.push({value:u}):(!z||C===u)&&e.push({value:C}),e}function WS(n,t,{horizontal:e,minRotation:i}){const r=As(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class cU extends bl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return oe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,u=f=>o=i?o:f;if(t){const f=ol(r),d=ol(o);f<0&&d<0?u(0):f>0&&d>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=lU(r,o);return t.bounds==="ticks"&&LL(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return M_(t,this.chart.options.locale,this.options.ticks.format)}}class uU extends cU{static id="linear";static defaults={ticks:{callback:ox.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ti(t)?t:0,this.max=ti(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=As(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const sg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xn=Object.keys(sg);function KS(n,t){return n-t}function QS(n,t){if(oe(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ti(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(vu(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function XS(n,t,e,i){const r=xn.length;for(let o=xn.indexOf(n);o<r-1;++o){const c=sg[xn[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(u*c.size))<=i)return xn[o]}return xn[r-1]}function hU(n,t,e,i,r){for(let o=xn.length-1;o>=xn.indexOf(e);o--){const c=xn[o];if(sg[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return xn[e?xn.indexOf(e):0]}function fU(n){for(let t=xn.indexOf(n)+1,e=xn.length;t<e;++t)if(sg[xn[t]].common)return xn[t]}function ZS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=C_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function dU(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let u,f;for(u=o;u<=c;u=+r.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function JS(n,t,e){const i=[],r={},o=t.length;let c,u;for(c=0;c<o;++c)u=t[c],r[u]=c,i.push({value:u,major:!1});return o===0||!e?i:dU(n,i,r,e)}class tw extends bl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new y6._date(t.adapters.date);r.init(e),Jc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:QS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function f(d){!c&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!c||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=ti(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ti(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,u=HL(r,o,c);return this._unit=e.unit||(i.autoSkip?XS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):hU(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:fU(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),JS(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=_n(e,0,c),i=_n(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||XS(o.minUnit,e,i,this._getLabelCapacity(e)),u=Vt(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,d=vu(f)||f===!0,m={};let _=e,b,S;if(d&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,d?"day":c),t.diff(i,e,c)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+c);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(b=_,S=0;b<i;b=+t.add(b,u,c),S++)ZS(m,b,A);return(b===i||r.bounds==="ticks"||S===1)&&ZS(m,b,A),Object.keys(m).sort(KS).map(I=>+I)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return le(c,[t,e,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,m=f&&u[f],_=d&&u[d],b=i[e],S=d&&_&&b&&b.major;return this._adapter.format(t,r||(S?_:m))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=As(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*c,h:i*c+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,JS(this,[t],this._majorUnit),r),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(QS(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return qL(t.sort(KS))}}function Lf(n,t,e){let i=0,r=n.length-1,o,c,u,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Oa(n,"pos",t)),{pos:o,time:u}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Oa(n,"time",t)),{time:o,pos:u}=n[i],{time:c,pos:f}=n[r]);const d=c-o;return d?u+(f-u)*(t-o)/d:u}class DU extends tw{static id="timeseries";static defaults=tw.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Lf(e,this.min),this._tableRange=Lf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,u,f,d,m;for(c=0,u=t.length;c<u;++c)d=t[c],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,u=r.length;c<u;++c)m=r[c+1],f=r[c-1],d=r[c],Math.round((m+f)/2)!==d&&o.push({time:d,pos:c/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Lf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Lf(this._table,i*this._tableRange+this._minPos,!0)}}const Px="label";function ew(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function gU(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function Vx(n,t){n.labels=t}function Lx(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Px;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function pU(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Px;const e={labels:[],datasets:[]};return Vx(e,n.labels),Lx(e,n.datasets,t),e}function mU(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:u,options:f,plugins:d=[],fallbackContent:m,updateMode:_,...b}=n,S=j.useRef(null),A=j.useRef(null),I=()=>{S.current&&(A.current=new qu(S.current,{type:c,data:pU(u,o),options:f&&{...f},plugins:d}),ew(t,A.current))},x=()=>{ew(t,null),A.current&&(A.current.destroy(),A.current=null)};return j.useEffect(()=>{!r&&A.current&&f&&gU(A.current,f)},[r,f]),j.useEffect(()=>{!r&&A.current&&Vx(A.current.config.data,u.labels)},[r,u.labels]),j.useEffect(()=>{!r&&A.current&&u.datasets&&Lx(A.current.config.data,u.datasets,o)},[r,u.datasets]),j.useEffect(()=>{A.current&&(r?(x(),setTimeout(I)):A.current.update(_))},[r,f,u.labels,u.datasets,_]),j.useEffect(()=>{A.current&&(x(),setTimeout(I))},[c]),j.useEffect(()=>(I(),()=>x()),[]),nw.createElement("canvas",{ref:S,role:"img",height:e,width:i,...b},m)}const yU=j.forwardRef(mU);function Ux(n,t){return qu.register(t),j.forwardRef((e,i)=>nw.createElement(yU,{...e,ref:i,type:n}))}const _U=Ux("line",p6),vU=Ux("pie",m6);qu.register(oU,uU,F3,H3,Q3,Nx,Mx);const bU=()=>{const{theme:n}=j.useContext(Jd),[t,e]=j.useState({labels:[],datasets:[]}),[i,r]=j.useState(!0);j.useEffect(()=>{if(!Le.currentUser)return;const u=Bu(Uu(Cs,"users",Le.currentUser.uid,"transactions"),E_("date","asc")),f=ju(u,d=>{const _=d.docs.map(I=>({id:I.id,...I.data()})).reduce((I,x)=>{const V=x.date?.toDate();if(!V)return I;const z=`${V.getFullYear()}-${String(V.getMonth()+1).padStart(2,"0")}`;return I[z]||(I[z]={income:0,expense:0}),x.type==="income"?I[z].income+=x.amount:x.type==="expense"&&(I[z].expense+=x.amount),I},{}),b=Object.keys(_).sort(),S=b.map(I=>_[I].income),A=b.map(I=>_[I].expense);e({labels:b,datasets:[{label:"Income",data:S,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)"},{label:"Expenses",data:A,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"}]}),r(!1)});return()=>f()},[]);const o=n==="dark"?"rgb(229, 231, 235)":"rgb(107, 114, 128)",c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:o}},title:{display:!0,text:"Monthly Income vs. Expenses",color:o,font:{size:16}}},scales:{x:{ticks:{color:o},grid:{color:n==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}},y:{ticks:{color:o},grid:{color:n==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}}}};return i?X.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading chart..."}):X.jsx("div",{className:"w-full h-80",children:X.jsx(_U,{data:t,options:c})})};qu.register(O3,Nx,Mx);const EU=()=>{const[n,t]=j.useState({labels:[],datasets:[]}),[e,i]=j.useState(!0);j.useEffect(()=>{if(!Le.currentUser)return;const o=Bu(Uu(Cs,"users",Le.currentUser.uid,"transactions"),tV("type","==","expense")),c=ju(o,u=>{const d=u.docs.map(S=>({id:S.id,...S.data()})).reduce((S,A)=>{const I=A.category||"Uncategorized";return S[I]=(S[I]||0)+A.amount,S},{}),m=Object.keys(d),_=Object.values(d),b=m.map(()=>"#"+Math.floor(Math.random()*16777215).toString(16));t({labels:m,datasets:[{label:"Amount (in your currency)",data:_,backgroundColor:b,borderColor:"#fff",borderWidth:1}]}),i(!1)});return()=>c()},[]);const r={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Expenses by Category"}}};return e?X.jsx("p",{children:"Loading category chart..."}):n.datasets[0]?.data.length===0?X.jsx("p",{children:"No expenses to display in the chart."}):X.jsx("div",{style:{width:"100%",maxWidth:"500px",margin:"20px auto"},children:X.jsx(vU,{data:n,options:r})})};function TU({desc:n,setDesc:t,amount:e,setAmount:i,type:r,setType:o,category:c,setCategory:u,notes:f,setNotes:d,onSubmit:m,editMode:_}){return X.jsxs("form",{onSubmit:m,className:"space-y-3",children:[X.jsx("h2",{className:"text-xl font-semibold",children:_?"Edit Transaction":"Add Transaction"}),X.jsxs("div",{className:"space-y-2",children:[X.jsx("input",{type:"text",placeholder:"Description",value:n,onChange:b=>t(b.target.value),className:"w-full p-2 border rounded"}),X.jsx("input",{type:"number",placeholder:"Amount",value:e,onChange:b=>i(b.target.value),className:"w-full p-2 border rounded"}),X.jsxs("select",{value:r,onChange:b=>o(b.target.value),className:"w-full p-2 border rounded",children:[X.jsx("option",{value:"income",children:"Income"}),X.jsx("option",{value:"expense",children:"Expense"})]}),X.jsx("input",{type:"text",placeholder:"Category",value:c,onChange:b=>u(b.target.value),className:"w-full p-2 border rounded"}),X.jsx("input",{type:"text",placeholder:"Notes",value:f,onChange:b=>d(b.target.value),className:"w-full p-2 border rounded"}),X.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:_?"Update Transaction":"Add Transaction"})]})]})}function SU(){const[n,t]=j.useState([]),[e,i]=j.useState(null),[r,o]=j.useState({type:"",amount:"",category:"",notes:""});j.useEffect(()=>{if(!Le.currentUser)return;const d=Bu(Uu(Cs,"users",Le.currentUser.uid,"transactions"),E_("date","desc")),m=ju(d,_=>{const b=_.docs.map(S=>({id:S.id,...S.data()}));t(b)});return()=>m()},[]);const c=async d=>{if(!(!Le.currentUser||!window.confirm("Are you sure you want to delete this transaction?")))try{await aV(_d(Cs,"users",Le.currentUser.uid,"transactions",d)),wn.success("Transaction deleted successfully!")}catch(_){wn.error("Error deleting: "+_.message)}},u=d=>{i(d.id),o({type:d.type,amount:d.amount,category:d.category,notes:d.notes})},f=async d=>{if(Le.currentUser)try{await rV(_d(Cs,"users",Le.currentUser.uid,"transactions",d),{...r,amount:Number(r.amount)}),wn.success("Transaction updated successfully!"),i(null)}catch(m){wn.error("Error updating: "+m.message)}};return n.length?X.jsxs("div",{style:{marginTop:"20px"},children:[X.jsx("h3",{children:"Your Transactions:"}),X.jsxs("table",{border:"1",cellPadding:"10",style:{width:"100%"},children:[X.jsx("thead",{children:X.jsxs("tr",{children:[X.jsx("th",{children:"Type"}),X.jsx("th",{children:"Amount"}),X.jsx("th",{children:"Category"}),X.jsx("th",{children:"Notes"}),X.jsx("th",{children:"Date"}),X.jsx("th",{children:"Actions"})]})}),X.jsx("tbody",{children:n.map(d=>X.jsx("tr",{children:e===d.id?X.jsxs(X.Fragment,{children:[X.jsx("td",{children:X.jsx("input",{value:r.type,onChange:m=>o({...r,type:m.target.value})})}),X.jsx("td",{children:X.jsx("input",{type:"number",value:r.amount,onChange:m=>o({...r,amount:m.target.value})})}),X.jsx("td",{children:X.jsx("input",{value:r.category,onChange:m=>o({...r,category:m.target.value})})}),X.jsx("td",{children:X.jsx("input",{value:r.notes,onChange:m=>o({...r,notes:m.target.value})})}),X.jsx("td",{children:d.date&&typeof d.date.toDate=="function"?d.date.toDate().toLocaleString():"N/A"}),X.jsxs("td",{children:[X.jsx("button",{onClick:()=>f(d.id),children:"Save"}),X.jsx("button",{onClick:()=>i(null),children:"Cancel"})]})]}):X.jsxs(X.Fragment,{children:[X.jsx("td",{children:d.type}),X.jsx("td",{children:d.amount}),X.jsx("td",{children:d.category}),X.jsx("td",{children:d.notes}),X.jsx("td",{children:d.date&&typeof d.date.toDate=="function"?d.date.toDate().toLocaleString():"N/A"}),X.jsxs("td",{children:[X.jsx("button",{onClick:()=>u(d),children:"Edit"}),X.jsx("button",{onClick:()=>c(d.id),style:{color:"red"},children:"Delete"})]})]})},d.id))})]})]}):X.jsx("p",{children:"No transactions yet."})}function wU(){const{theme:n,toggleTheme:t}=j.useContext(Jd),[e,i]=j.useState(""),[r,o]=j.useState(""),[c,u]=j.useState("income"),[f,d]=j.useState(""),[m,_]=j.useState(""),b=async()=>{try{await DM(Le),wn("You have been logged out!",{})}catch(A){console.error("Logout error:",A),wn.error("Logout failed.")}},S=async A=>{if(A.preventDefault(),!Le.currentUser){wn.error("You must be logged in to add a transaction.");return}if(!r||r<=0||!e){wn.error("Please enter a valid amount and description.");return}try{await oV(Uu(Cs,"users",Le.currentUser.uid,"transactions"),{desc:e,amount:Number(r),type:c,category:f,notes:m,date:lV()}),wn.success("Transaction added successfully!"),i(""),o(""),u("income"),d(""),_("")}catch(I){console.error("Error adding transaction:",I),wn.error("Failed to add transaction. Please try again.")}};return X.jsxs("div",{className:"p-4 sm:p-6 min-h-screen bg-gradient-to-br from-gray-50 to-gray-200 dark:from-gray-950 dark:to-gray-800 transition-colors duration-300",children:[X.jsxs("header",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6",children:[X.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:!text-white mb-4 sm:mb-0",children:"Finance Dashboard"}),X.jsxs("div",{className:"flex space-x-2",children:[X.jsxs("button",{onClick:t,className:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white px-4 py-2 rounded-full hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-300",children:["Switch to ",n==="light"?"Dark":"Light"," Mode"]}),X.jsx("button",{onClick:b,className:"bg-red-500 text-white px-4 py-2 rounded-full hover:bg-red-600 transition-colors duration-300",children:"Logout"})]})]}),X.jsx(nL,{}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[X.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:X.jsx(bU,{})}),X.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:X.jsx(EU,{})})]}),X.jsx("div",{className:"mt-6 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:X.jsx(TU,{desc:e,setDesc:i,amount:r,setAmount:o,type:c,setType:u,category:f,setCategory:d,notes:m,setNotes:_,onSubmit:S,editMode:!1})}),X.jsx("div",{className:"mt-6 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:X.jsx(SU,{})})]})}const AU=()=>{const[n,t]=j.useState([]),[e,i]=j.useState(!0);return j.useEffect(()=>{const r=Bu(jP(Cs,"transactions"),E_("date","desc")),o=ju(r,c=>{const u=c.docs.map(f=>({id:f.id,...f.data(),userId:f.ref.parent.parent.id}));t(u),i(!1)});return()=>o()},[]),e?X.jsx("div",{children:"Loading all transactions..."}):X.jsxs("div",{className:"p-6",children:[X.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),X.jsx("p",{children:"This is a list of all transactions from all users."}),X.jsx("div",{className:"mt-4",children:X.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[X.jsx("thead",{className:"bg-gray-50",children:X.jsxs("tr",{children:[X.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User ID"}),X.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),X.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),X.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),X.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),X.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(r=>X.jsxs("tr",{children:[X.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.userId}),X.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.description}),X.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:["$",r.amount.toFixed(2)]}),X.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.type}),X.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.date?.toDate().toLocaleDateString()})]},r.id))})]})})]})},xU=({children:n})=>{const{user:t,loading:e}=j.useContext(Zd),[i,r]=j.useState(!1),[o,c]=j.useState(!0);return j.useEffect(()=>{e||(async()=>{if(t)try{const f=_d(Cs,"users",t.uid),d=await sV(f);d.exists()&&d.data().role==="admin"&&r(!0)}catch(f){console.error("Error checking admin status:",f)}c(!1)})()},[t,e]),e||o?X.jsx("p",{children:"Loading..."}):!t||!i?X.jsx(xy,{to:"/dashboard",replace:!0}):n};function RU(){return X.jsxs(X.Fragment,{children:[X.jsx(JV,{}),X.jsxs(cI,{children:[X.jsx(Lc,{path:"/",element:X.jsx(xy,{to:"/login",replace:!0})}),X.jsx(Lc,{path:"/login",element:X.jsx(tL,{})}),X.jsx(Lc,{path:"/dashboard",element:X.jsx(eL,{children:X.jsx(wU,{})})}),X.jsx(Lc,{path:"/admin",element:X.jsx(xU,{children:X.jsx(AU,{})})})]})]})}vC.createRoot(document.getElementById("root")).render(X.jsx(j.StrictMode,{children:X.jsx(OI,{basename:"/Finance-Tracker",children:X.jsx(uV,{children:X.jsx(hV,{children:X.jsx(RU,{})})})})}));
